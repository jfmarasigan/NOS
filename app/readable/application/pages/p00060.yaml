---
# ====== Page: Customer Discount Creation ====================
id: 60
identification: 
  name: Customer Discount Creation
  alias: CUSTOMER-DISCOUNT-CREATION
  title: Customer Discount Creation

appearance: 
  page-mode: Normal
  page-template: Standard - No Footer
  template-options: 
  - '#DEFAULT#'

navigation-menu: 
  override-user-interface-level: false

navigation: 
  cursor-focus: Do not focus cursor
  warn-on-unsaved-changes: false

javascript: 
  file-urls: 
  - '#APP_FILES#js/cmn#MIN#.js'
  function-and-global-variable-declaration: |
    // Main menu keys Add/Update
    const p60KeyMapCrud = {
        escape : (v) => {
            $("#esc").trigger("click");
        },
        enter : (v) => {
            if( checkItemCategories() ){
                $("#enter").trigger("click");
            } else {
                $.event.trigger("itemCategoriesValidation");
            }
        },
        f8 : (v) => {
            $("#f8").trigger("click");
        }
    }
    function mapP60KeysCrud() {
        $(document).off('keydown.p60keyevents');
        $(document).on('keydown.p60keyevents', (ev) => {
            var key = ev.key?.toLowerCase();
            if (p60KeyMapCrud[key]) {
                ev.preventDefault();
                p60KeyMapCrud[key]();
            }
        });
    }
    
    // Main menu keys View
    const p60KeyMapView = {
        escape : (v) => {
            $("#esc").trigger("click");
        },
        f9 : (v) => {
            $("#f9").trigger("click");
        },
    }
    function mapP60KeysView() {
        $(document).off('keydown.p60keyevents');
        $(document).on('keydown.p60keyevents', (ev) => {
            var key = ev.key?.toLowerCase();
            if (p60KeyMapView[key]) {
                ev.preventDefault();
                p60KeyMapView[key]();
            }
        });
    }
    
    // Discount List keys
    const p60KeyMapDL = {
        r : (v) => {
            $("#remove").trigger("click");
        },
        a : (v) => {
            $("#add").trigger("click");
        },
        u : (v) => {
            $("#update").trigger("click");
        },
        escape : (v) => {
            mapP60KeysView();
        }
    }
    function mapP60KeysDL() {
        $(document).off('keydown.p60keyevents');
        $(document).on('keydown.p60keyevents', (ev) => {
            var key = ev.key?.toLowerCase();
            if (p60KeyMapDL[key]) {
                ev.preventDefault();
                p60KeyMapDL[key]();
            }
        });
    }
    
    // Item Categories Modal
    const p60KeyMapIC = {
        d : (v) => {
            $("#d").trigger("click");
        },
        s : (v) => {
            $("#s").trigger("click");
        },
        c : (v) => {
            $("#c").trigger("click");
        },
        escape : (v) => {
            mapP60KeysCrud();
        }
    }
    function mapP60KeysIC() {
        $(document).off('keydown.p60keyevents');
        $(document).on('keydown.p60keyevents', (ev) => {
            var key = ev.key?.toLowerCase();
            if (p60KeyMapIC[key]) {
                ev.preventDefault();
                p60KeyMapIC[key]();
            }
        });
    }
    
    // Item Department List
    const p60KeyMapIDL = {
        m : (v) => {
            $("#IDLm").trigger("click");
        },
        a : (v) => {
            $("#IDLa").trigger("click");
        },
        s : (v) => {
            $("#IDLs").trigger("click");
        },
        u : (v) => {
            $("#IDLu").trigger("click");
        },
        escape : (v) => {
            $.event.trigger("departmentCloseDialog");
            mapP60KeysCrud();
        },
        enter : (v) => {
            $.event.trigger("departmentEnter");
            mapP60KeysCrud();
        }
    }
    function mapP60KeysIDL() {
        $(document).off('keydown.p60keyevents');
        $(document).on('keydown.p60keyevents', (ev) => {
            var key = ev.key?.toLowerCase();
            if (p60KeyMapIDL[key]) {
                ev.preventDefault();
                p60KeyMapIDL[key]();
            }
        });
    }
    
    const p60KeyMapIDS = {
        escape : (v) => {
            mapP60KeysIDL();
        },
        enter : (v) => {
            if($v("P60_DEPARTMENT_SEARCH").length <= 0){
                $("#P60_DEPARTMENT_SEARCH").addClass("apex-page-item-error");
                $("#P60_DEPARTMENT_SEARCH_error_placeholder").removeClass("u-hidden");
                $("#P60_DEPARTMENT_SEARCH_error_placeholder").html("Must have some value.");
            } else {
                mapP60KeysIDL();
                $.event.trigger("deptSearch");
            }
        }
    }
    function mapP60KeysIDS() {
        $(document).off('keydown.p60keyevents');
        $(document).on('keydown.p60keyevents', (ev) => {
            var key = ev.key?.toLowerCase();
            if (p60KeyMapIDS[key]) {
                ev.preventDefault();
                p60KeyMapIDS[key]();
            }
        });
    }
    
    // Item SIC List
    const p60KeyMapISL = {
        m : (v) => {
            $("#ISLm").trigger("click");
        },
        a : (v) => {
            $("#ISLa").trigger("click");
        },
        s : (v) => {
            $("#ISLs").trigger("click");
        },
        u : (v) => {
            $("#ISLu").trigger("click");
        },
        escape : (v) => {
            $.event.trigger("sicCloseDialog");
            mapP60KeysCrud();
        },
        enter : (v) => {
            $.event.trigger("sicEnter");
            mapP60KeysCrud();
        }
    }
    function mapP60KeysISL() {
        $(document).off('keydown.p60keyevents');
        $(document).on('keydown.p60keyevents', (ev) => {
            var key = ev.key?.toLowerCase();
            if (p60KeyMapISL[key]) {
                ev.preventDefault();
                p60KeyMapISL[key]();
            }
        });
    }
    
    const p60KeyMapISS = {
        escape : (v) => {
            mapP60KeysISL();
        },
        enter : (v) => {
            if($v("P60_SIC_SEARCH").length <= 0){
                $("#P60_SIC_SEARCH").addClass("apex-page-item-error");
                $("#P60_SIC_SEARCH_error_placeholder").removeClass("u-hidden");
                $("#P60_SIC_SEARCH_error_placeholder").html("Must have some value.");
            } else {
                mapP60KeysISL();
                $.event.trigger("sicSearch");
            }
        }
    }
    function mapP60KeysISS() {
        $(document).off('keydown.p60keyevents');
        $(document).on('keydown.p60keyevents', (ev) => {
            var key = ev.key?.toLowerCase();
            if (p60KeyMapISS[key]) {
                ev.preventDefault();
                p60KeyMapISS[key]();
            }
        });
    }
    
    // Item Class List
    const p60KeyMapICL = {
        m : (v) => {
            $("#ICLm").trigger("click");
        },
        a : (v) => {
            $("#ICLa").trigger("click");
        },
        s : (v) => {
            $("#ICLs").trigger("click");
        },
        u : (v) => {
            $("#ICLu").trigger("click");
        },
        escape : (v) => {
            $.event.trigger("classCloseDialog");
            mapP60KeysCrud();
        },
        enter : (v) => {
            $.event.trigger("classEnter");
            mapP60KeysCrud();
        }
    }
    function mapP60KeysICL() {
        $(document).off('keydown.p60keyevents');
        $(document).on('keydown.p60keyevents', (ev) => {
            var key = ev.key?.toLowerCase();
            if (p60KeyMapICL[key]) {
                ev.preventDefault();
                p60KeyMapICL[key]();
            }
        });
    }
    
    const p60KeyMapICS = {
        escape : (v) => {
            mapP60KeysICL();
        },
        enter : (v) => {
            if($v("P60_CLASS_SEARCH").length <= 0){
                $("#P60_CLASS_SEARCH").addClass("apex-page-item-error");
                $("#P60_CLASS_SEARCH_error_placeholder").removeClass("u-hidden");
                $("#P60_CLASS_SEARCH_error_placeholder").html("Must have some value.");
            } else {
                mapP60KeysICL();
                $.event.trigger("classSearch");
            }
        }
    }
    function mapP60KeysICS() {
        $(document).off('keydown.p60keyevents');
        $(document).on('keydown.p60keyevents', (ev) => {
            var key = ev.key?.toLowerCase();
            if (p60KeyMapICS[key]) {
                ev.preventDefault();
                p60KeyMapICS[key]();
            }
        });
    }
    
    // Any key Exit Categories Validation
    function mapP60KeysExit(){
        $(document).off('keydown.p60keyevents');
        $(document).on('keydown.p60keyevents', (ev) => {
            $.event.trigger("itemCategoriesValidationClose");
            mapP60KeysCrud();
        });
    }
    
    // Discount List Reached Max
    const p60KeyMapReachedMax = {
        y : (v) => {
            $("#DLRMy").trigger("click");
        },
        n : (v) => {
            $("#DLRMn").trigger("click");
        },
        escape : (v) => {
            mapP60KeysView();
        }
    }
    function mapP60KeysReachedMax(){
        $(document).off('keydown.p60keyevents');
        $(document).on('keydown.p60keyevents', (ev) => {
            var key = ev.key?.toLowerCase();
            if (p60KeyMapReachedMax[key]) {
                ev.preventDefault();
                p60KeyMapReachedMax[key]();
            }
        });
    }
    
    function checkItemCategories(){
        var deptRowCount = apex.region("departmentGrid").widget()
            .interactiveGrid("getViews", "grid")
            .model.getTotalRecords()
        var sicRowCount = apex.region("sicGrid").widget()
            .interactiveGrid("getViews", "grid")
            .model.getTotalRecords()
        var classRowCount = apex.region("classGrid").widget()
            .interactiveGrid("getViews", "grid")
            .model.getTotalRecords()
        console.log(deptRowCount + " " + sicRowCount +  " " + classRowCount);
        if( deptRowCount == 0 && sicRowCount == 0 && classRowCount == 0 ){
            return false;
        } else {
            return true;
        }
    }
    
    // Restrict Fields to numbers only.
    $('#P60_DISCOUNT_VALUE').keypress(function (e) { 
        if(
            e.key == "1" || e.key == "2" || e.key == "3" || e.key == "4" ||
            e.key == "5" || e.key == "6" || e.key == "7" || e.key == "8" ||
            e.key == "9" || e.key == "0"
        ){
            return true;
        } else if(e.key == "." && $(this).val().indexOf('.') == -1){
            return true;
        } else {
            return false;
        }
    });
  execute-when-page-loads: setTitle("Customer Discount Creation");

css: 
  inline: |
    .t-Header .t-Header-branding {
        background-color: white !important;
        color: rgb(30, 58, 138) !important;
    }
    
    body {
        background-color: rgb(30, 58, 138);
    }
    
    .btns {
        font-size: 1.125rem;
        color: white;
    }
    .reached-max-btns {
        font-size: 1.125rem;
        color: black;
    }
    .dialog-btns {
        font-size: 1.125rem;
        color: white;
        background-color: #226597;
        border: none;
        margin-bottom: 0.4rem !important;
    }
    
    #esc, #enter {
        display: none;
    }
    
    #readonly-form {
        margin-bottom: 0;
        background-color: rgb(30, 58, 138);
    }
    #readonly-form label{
        font-size: 1.125rem;
        color: white;
    }
    #readonly-form .readonly-field{
        font-size: 1.125rem;
        color: white;
    }
    
    #discountGrid table,
    #discountGrid tr,
    #discountGrid td,
    #discountGrid th {
        font-size: 1.125rem;
        /* font-family: Arial; */
    }
    #departmentGrid table,
    #departmentGrid tr,
    #departmentGrid td,
    #departmentGrid th {
        font-size: 1.125rem;
        /* font-family: Arial; */
    }
    #sicGrid table,
    #sicGrid tr,
    #sicGrid td,
    #sicGrid th {
        font-size: 1.125rem;
        /* font-family: Arial; */
    }
    #classGrid table,
    #classGrid tr,
    #classGrid td,
    #classGrid th {
        font-size: 1.125rem;
        /* font-family: Arial; */
    }
    #ICL-grid table,
    #ICL-grid tr,
    #ICL-grid td,
    #ICL-grid th {
        font-size: 1.125rem;
        /* font-family: Arial; */
    }
    #ISL-grid table,
    #ISL-grid tr,
    #ISL-grid td,
    #ISL-grid th {
        font-size: 1.125rem;
        /* font-family: Arial; */
    }
    #IDL-grid table,
    #IDL-grid tr,
    #IDL-grid td,
    #IDL-grid th {
        font-size: 1.125rem;
        /* font-family: Arial; */
    }
    #discount-list table,
    #discount-list tr,
    #discount-list td,
    #discount-list th {
        font-size: 1.125rem;
        /* font-family: Arial; */
    }
    
    /* #discountGrid, #departmentGrid, #discount-list, #IDL-grid, #sicGrid, #ISL-grid, #classGrid, #ICL-grid {
        table, tr, td, th {
            font-size: 1.125rem;
        }
    } */
    
    #discountGrid_ig, #departmentGrid_ig, #discount-list_ig, #IDL-grid_ig, #sicGrid_ig, #ISL-grid_ig, #classGrid_ig, #ICL-grid_ig {
        border: 0.0625rem solid rgb(30, 58, 138);
    }
    
    .a-GV-table .a-GV-cell, th.a-GV-header {
        border-color: rgb(30, 58, 138);
    }
    
    #discountGrid .a-GV-header a, #discountGrid th.a-GV-header{
        background-color: white;
        color: black;
    }
    #departmentGrid .a-GV-header a, #departmentGrid th.a-GV-header,
    #sicGrid .a-GV-header a, #sicGrid th.a-GV-header,
    #classGrid .a-GV-header a, #classGrid th.a-GV-header {
        background-color: rgb(30, 58, 138);
        color: white;
    }
    .a-GV-header a, th.a-GV-header {
        background-color: #046BC8;
        color: white;
    }
    
    .a-GV-hdr .a-GV-table {
        width: 100% !important;
    }
    
    #discount-form {
        background-color: rgb(30, 58, 138);
    }
    #P60_DISCOUNT_NAME, #P60_DISCOUNT_NAME_LABEL{
        font-size: 1.125rem;
    }
    #P60_DISCOUNT_NAME_LABEL{
        color: white;
    }
    #discount-form-details label,
    #discount-form-details input,
    #discount-form-details select {
        font-size: 1.125rem;
    }
    
    #P60_TYPE{
        font-size: 1.125rem;
        padding-top: 0.438rem;
        padding-bottom: 0.438rem;
    }
    #P60_DISCOUNT_VALUE{
        text-align: right !important;
    }
    
    .t-Form-labelContainer:has(> #P60_LEGAL_NAME_LABEL),
    .t-Form-labelContainer:has(> #P60_DBA_LABEL),
    .t-Form-labelContainer:has(> #P60_CONTACT_PERSON_LABEL),
    .t-Form-labelContainer:has(> #P60_MAIN_ACCOUNT_CODE_LABEL),
    .t-Form-labelContainer:has(> #P60_TYPE_LABEL),
    .t-Form-labelContainer:has(> #P60_DATE_FROM_LABEL),
    .t-Form-labelContainer:has(> #P60_DEPARTMENT_SEARCH_LABEL),
    .t-Form-labelContainer:has(> #P60_SIC_SEARCH_LABEL),
    .t-Form-labelContainer:has(> #P60_CLASS_SEARCH_LABEL) {
        text-align: start;
    }
    
    .t-Form-labelContainer:has(> .t-form-label){
        text-align: start;
    }
    
    .ui-dialog .ui-dialog-titlebar {
        background-color: #226597;
        color: white;
    }
    
    .ui-dialog{
        border: 2px solid black;
        border-radius: 0.75rem;
        box-shadow: 0 0.625rem 0.625rem -0.25rem rgba(0,0,0,0.2);
    }
    
    .ui-dialog-title{
        font-size: 1.5rem;
    }
    
    .ui-dialog-titlebar-close {
        display:none;
    }
    
    .ui-dialog-body{
    
    }
    
    .blueCorner{
        background-color: #226597;
        padding-top: 0;
        padding-bottom: 0;
    }
    #DSform label, #SSform label, #CSform label,
    #DSform input, #SSform input, #CSform input {
        font-size: 1.125rem;
    }
    
    #P60_DISCOUNT_NAME_error{
        color: #FFD700;
    }

security: 
  authentication: Page Requires Authentication
  deep-linking: Application Default
  page-access-protection: Arguments Must Have Checksum
  form-auto-complete: Off
  browser-cache: Application Default

session-management: 
  rejoin-sessions: Application Default

advanced: 
  enable-duplicate-page-submissions: Yes - Enable page to be re-posted
  reload-on-submit: Only for Success

server-cache: 
  caching: Disabled

regions: 
- # ====== Region: Header ======================================
  id: 15147157911750649
  identification: 
    name: Header
    type: Static Content

  source: 
    html-code: '<h1><span style="color:grey">Customer/Update/</span> Customer Discount Creation</h1>'

  layout: 
    sequence: 10
    parent-region: No Parent
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: None
    render-components: Above Content

  advanced: 
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  configuration: 
    build-option: Commented Out # 4207224469083906

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

- # ====== Region: Read Only Customer Detail ===================
  id: 15147238558750650
  identification: 
    name: Read Only Customer Detail
    type: Form

  source: 
    location: Local Database
    type: SQL Query
    sql-query: |
      SELECT CUSTOMER_ID, LEGAL_NAME, DBA, MAIN_ACCOUNT_CODE, CONTACT_PERSON
      FROM NPT009

  layout: 
    sequence: 10
    parent-region: Forms # 15415390027384241
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Standard
    template-options: 
    - t-Region--removeHeader js-removeLandmark
    - t-Region--noBorder
    - t-Region--scrollBody
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    static-id: readonly-form
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    edit: 
      enabled: false

- # ====== Region: Discount Form ===============================
  id: 15412061377384208
  identification: 
    name: Discount Form
    type: Form

  source: 
    location: Local Database
    type: Table / View
    table-owner: Parsing Schema
    table-name: NPT008
    include-rowid-column: false

  layout: 
    sequence: 20
    parent-region: Forms # 15415390027384241
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: None
    render-components: Above Content

  advanced: 
    static-id: discount-form
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    edit: 
      enabled: false

- # ====== Region: Menu Buttons ================================
  id: 15414079206384228
  identification: 
    name: Menu Buttons
    type: Static Content

  layout: 
    sequence: 80
    parent-region: No Parent
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: None
    render-components: Above Content

  advanced: 
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

- # ====== Region: Forms =======================================
  id: 15415390027384241
  identification: 
    name: Forms
    type: Static Content

  layout: 
    sequence: 40
    parent-region: No Parent
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: 8

  appearance: 
    template: None
    render-components: Above Content

  advanced: 
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

- # ====== Region: Item Objects Grids ==========================
  id: 15415428447384242
  identification: 
    name: Item Objects Grids
    type: Static Content

  layout: 
    sequence: 70
    parent-region: No Parent
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: None
    render-components: Above Content

  advanced: 
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

- # ====== Region: Item Department =============================
  id: 15415539041384243
  identification: 
    name: Item Department
    type: Interactive Grid

  source: 
    location: Local Database
    type: SQL Query
    sql-query: |
      SELECT
          n001,
          c001
      FROM APEX_COLLECTIONS
      WHERE COLLECTION_NAME = 'ITEMDEPT'

  layout: 
    sequence: 10
    parent-region: Item Objects Grids # 15415428447384242
    slot: SUB_REGIONS
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: 3

  appearance: 
    template: Interactive Report
    template-options: 
    - '#DEFAULT#'
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    static-id: departmentGrid
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    id: 15782044821117637
    edit: 
      enabled: false

    performance: 
      lazy-loading: false

    appearance: 
      select-first-row: true
      fixed-row-height: true

    pagination: 
      type: Scroll
      show-total-count: true

    toolbar: 
      show: false

    enable-users-to: 
      save-public-report: false
      flashback: false
      define-chart-view: false
      download: false

    heading: 
      fixed-to: Region
      fixed-report-height: 260

    icon-view: 
      show: false

    detail-view: 
      show: false

    advanced: 
      initialization-javascript-function: |
        function( options ) {
            options.defaultModelOptions = {
                pageSize: 1000
            };
            options.defaultGridViewOptions = {
                pagination: {
                    scroll: true,
                    virtual: true,
                    loadMore: false
                },
                resizeColumns: false,
                reorderColumns: false,
                footer: false
            };
            options.defaultGridColumnOptions = {
                noHeaderActivate: true
            }
            return options;
        }

    saved-reports: 
    - # ====== Saved Report: Primary Report ========================
      id: 15893100370722479
      identification: 
        name: Primary Report
        alias: 158932

  columns: 
  - # ====== Column: N001 ========================================
    id: 15970754381037515
    identification: 
      column-name: N001
      type: Hidden

    settings: 
      value-protected: true

    layout: 
      sequence: 10

    accessibility: 
      value-identifies-row: false

    source: 
      type: Database Column
      database-column: N001
      data-type: NUMBER
      query-only: false
      primary-key: true

    default: 
      duplicate-copies-existing-value: true

    session-state: 
      data-type: VARCHAR2

    export-/-printing: 
      include-in-export-/-print: false

    enable-users-to: 
      sort: false

  - # ====== Column: C001 ========================================
    id: 15970881255037516
    identification: 
      column-name: C001
      type: Textarea

    heading: 
      heading: Item Department
      alignment: start

    settings: 
      resizable: true
      auto-height: false
      character-counter: false
      trim-spaces: Leading and Trailing

    layout: 
      sequence: 20
      column-alignment: start
      stretch: Use Report Setting

    accessibility: 
      value-identifies-row: false

    validation: 
      value-required: false
      maximum-length: 4000

    source: 
      type: Database Column
      database-column: C001
      data-type: VARCHAR2
      query-only: false
      primary-key: false

    default: 
      duplicate-copies-existing-value: true

    session-state: 
      data-type: VARCHAR2

    column-filter: 
      enabled: true
      performance-impacting-operators: 
      - Contains
      - Starts With
      - Case Insensitive
      - Regular Expression
      text-case: Mixed
      lov-type: None

    export-/-printing: 
      include-in-export-/-print: true

    enable-users-to: 
      sort: false
      hide: true

    advanced: 
      column-initialization-javascript-function: |
        function( options ) {
            options.defaultGridColumnOptions = {
                noHeaderActivate: true
            };
            return options;
        }

- # ====== Region: Discount List ===============================
  id: 15782991626117646
  identification: 
    name: Discount List
    type: Static Content

  layout: 
    sequence: 90
    parent-region: No Parent
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Inline Dialog
    template-options: 
    - '#DEFAULT#'
    - js-dialog-autoheight
    - js-dialog-size600x400
    css-classes: 
    - blueCorner
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    static-id: discount-list
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

- # ====== Region: Customer Discounts ==========================
  id: 15969399691037501
  identification: 
    name: Customer Discounts
    type: Interactive Grid

  source: 
    location: Local Database
    type: SQL Query
    sql-query: |
      SELECT
          DISCOUNT_ID, 
          DISCOUNT_NAME, 
          CASE WHEN TYPE = 'Percent'
              THEN DISCOUNT_VALUE || '%'
          ELSE '$' || DISCOUNT_VALUE
          END AS DISCOUNT_VALUE,
          DATE_TO
      FROM NPT008
      WHERE CUSTOMER_ID = :P60_CUSTOMER_ID
    page-items-to-submit: 
    - P60_CUSTOMER_ID

  layout: 
    sequence: 10
    parent-region: Discount List # 15782991626117646
    slot: SUB_REGIONS
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Interactive Report
    template-options: 
    - '#DEFAULT#'
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    static-id: discount-list
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    id: 15969495420037502
    edit: 
      enabled: false

    performance: 
      lazy-loading: false

    appearance: 
      select-first-row: true
      fixed-row-height: true

    pagination: 
      type: Scroll
      show-total-count: true

    toolbar: 
      show: false

    enable-users-to: 
      save-public-report: false
      flashback: false
      define-chart-view: false
      download: false

    heading: 
      fixed-to: Region
      fixed-report-height: 300

    icon-view: 
      show: false

    detail-view: 
      show: false

    advanced: 
      initialization-javascript-function: |
        function( options ) {
            options.defaultModelOptions = {
                pageSize: 1000
            };
            options.defaultGridViewOptions = {
                pagination: {
                    scroll: true,
                    virtual: true,
                    loadMore: false
                },
                resizeColumns: false,
                reorderColumns: false,
                footer: false
            };
            options.defaultGridColumnOptions = {
                noHeaderActivate: true
            }
            return options;
        }

    saved-reports: 
    - # ====== Saved Report: Primary Report ========================
      id: 15980674438103932
      identification: 
        name: Primary Report
        alias: 159807

  columns: 
  - # ====== Column: DISCOUNT_ID =================================
    id: 15969570987037503
    identification: 
      column-name: DISCOUNT_ID
      type: Hidden

    settings: 
      value-protected: true

    layout: 
      sequence: 10

    accessibility: 
      value-identifies-row: false

    source: 
      type: Database Column
      database-column: DISCOUNT_ID
      data-type: NUMBER
      query-only: false
      primary-key: false

    default: 
      duplicate-copies-existing-value: true

    session-state: 
      data-type: VARCHAR2

    export-/-printing: 
      include-in-export-/-print: false

    enable-users-to: 
      sort: false

  - # ====== Column: DISCOUNT_NAME ===============================
    id: 15969687595037504
    identification: 
      column-name: DISCOUNT_NAME
      type: Text Field

    heading: 
      heading: Discount Name
      alignment: center

    settings: 
      trim-spaces: Leading and Trailing
      text-case: NO CHANGE

    layout: 
      sequence: 20
      column-alignment: start
      stretch: Use Report Setting

    accessibility: 
      value-identifies-row: false

    validation: 
      value-required: true
      maximum-length: 200

    source: 
      type: Database Column
      database-column: DISCOUNT_NAME
      data-type: VARCHAR2
      query-only: false
      primary-key: false

    default: 
      duplicate-copies-existing-value: true

    column-filter: 
      enabled: true
      performance-impacting-operators: 
      - Contains
      - Starts With
      - Case Insensitive
      - Regular Expression
      text-case: Mixed
      lov-type: Distinct Column
      exact-match: true

    export-/-printing: 
      include-in-export-/-print: true

    enable-users-to: 
      sort: true
      control-break/aggregate: true
      hide: true

    advanced: 
      column-initialization-javascript-function: |
        function( options ) {
            options.defaultGridColumnOptions = {
                noHeaderActivate: true
            };
            return options;
        }

  - # ====== Column: DISCOUNT_VALUE ==============================
    id: 15969708987037505
    identification: 
      column-name: DISCOUNT_VALUE
      type: Text Field

    heading: 
      heading: Value
      alignment: end

    settings: 
      trim-spaces: Leading and Trailing
      text-case: NO CHANGE

    layout: 
      sequence: 30
      column-alignment: end
      stretch: Use Report Setting

    accessibility: 
      value-identifies-row: false

    validation: 
      value-required: false
      maximum-length: 41

    source: 
      type: Database Column
      database-column: DISCOUNT_VALUE
      data-type: VARCHAR2
      query-only: false
      primary-key: false

    default: 
      duplicate-copies-existing-value: true

    column-filter: 
      enabled: true
      performance-impacting-operators: 
      - Contains
      - Starts With
      - Case Insensitive
      - Regular Expression
      text-case: Mixed
      lov-type: Distinct Column
      exact-match: true

    export-/-printing: 
      include-in-export-/-print: true

    enable-users-to: 
      sort: true
      control-break/aggregate: true
      hide: true

    advanced: 
      column-initialization-javascript-function: |
        function( options ) {
            options.defaultGridColumnOptions = {
                noHeaderActivate: true
            };
            return options;
        }

  - # ====== Column: DATE_TO =====================================
    id: 15969868482037506
    identification: 
      column-name: DATE_TO
      type: Date Picker

    heading: 
      heading: End Date
      alignment: center

    settings: 
      show-time: false
      display-as: Popup
      minimum-date: None
      maximum-date: None
      multiple-months: No
      use-defaults: true

    layout: 
      sequence: 40
      column-alignment: start
      stretch: Use Report Setting

    accessibility: 
      value-identifies-row: false

    validation: 
      value-required: true

    source: 
      type: Database Column
      database-column: DATE_TO
      data-type: DATE
      query-only: false
      primary-key: false

    default: 
      duplicate-copies-existing-value: true

    column-filter: 
      enabled: true
      lov-type: Distinct Column
      date-ranges: All

    export-/-printing: 
      include-in-export-/-print: true

    enable-users-to: 
      sort: true
      control-break/aggregate: true
      hide: true

    advanced: 
      column-initialization-javascript-function: |
        function( options ) {
            options.defaultGridColumnOptions = {
                noHeaderActivate: true
            };
            return options;
        }

- # ====== Region: DL Buttons ==================================
  id: 15969973982037507
  identification: 
    name: DL Buttons
    type: Static Content

  layout: 
    sequence: 20
    parent-region: Discount List # 15782991626117646
    slot: SUB_REGIONS
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: None
    render-components: Above Content

  advanced: 
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

- # ====== Region: Item Categories =============================
  id: 15971013829037518
  identification: 
    name: Item Categories
    type: Static Content

  layout: 
    sequence: 100
    parent-region: No Parent
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Inline Dialog
    template-options: 
    - '#DEFAULT#'
    - js-dialog-autoheight
    - js-dialog-size600x400
    css-classes: 
    - blueCorner
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

- # ====== Region: Item Department List ========================
  id: 15972259744037530
  identification: 
    name: Item Department List
    type: Static Content

  layout: 
    sequence: 110
    parent-region: No Parent
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Inline Dialog
    template-options: 
    - '#DEFAULT#'
    - js-dialog-autoheight
    - js-dialog-size600x400
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

- # ====== Region: Item Dept Grid ==============================
  id: 15972324377037531
  identification: 
    name: Item Dept Grid
    type: Interactive Grid

  source: 
    location: Local Database
    type: SQL Query
    sql-query: |
      SELECT
          n001,
          c001
      FROM APEX_COLLECTIONS
      WHERE COLLECTION_NAME = 'ITEMDEPTLIST'

  layout: 
    sequence: 10
    parent-region: Item Department List # 15972259744037530
    slot: SUB_REGIONS
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Interactive Report
    template-options: 
    - '#DEFAULT#'
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    static-id: IDL-grid
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    id: 15972433007037532
    edit: 
      enabled: true
      allowed-operations: 
      - Update Row
      lost-update-type: Row Values

    performance: 
      lazy-loading: false

    appearance: 
      select-first-row: false
      fixed-row-height: false

    pagination: 
      type: Scroll
      show-total-count: false

    toolbar: 
      show: false

    enable-users-to: 
      save-public-report: false
      flashback: false
      define-chart-view: false
      download: false

    heading: 
      fixed-to: Region
      fixed-report-height: 260

    icon-view: 
      show: false

    detail-view: 
      show: false

    advanced: 
      initialization-javascript-function: |
        function( options ) {
            options.defaultModelOptions = {
                pageSize: 1000
            };
            options.defaultGridViewOptions = {
                pagination: {
                    scroll: true,
                    virtual: true,
                    loadMore: false
                },
                resizeColumns: false,
                reorderColumns: false,
                footer: false
            };
            options.defaultGridColumnOptions = {
                noHeaderActivate: true
            }
            return options;
        }

    saved-reports: 
    - # ====== Saved Report: Primary Report ========================
      id: 16074642650529681
      identification: 
        name: Primary Report
        alias: 160747

  columns: 
  - # ====== Column: N001 ========================================
    id: 15972692771037534
    identification: 
      column-name: N001
      type: Hidden

    settings: 
      value-protected: true

    layout: 
      sequence: 40

    accessibility: 
      value-identifies-row: false

    source: 
      type: Database Column
      database-column: N001
      data-type: NUMBER
      query-only: false
      primary-key: true

    default: 
      duplicate-copies-existing-value: true

    session-state: 
      data-type: VARCHAR2

    export-/-printing: 
      include-in-export-/-print: false

    enable-users-to: 
      sort: false

  - # ====== Column: C001 ========================================
    id: 15972766425037535
    identification: 
      column-name: C001
      type: Textarea

    heading: 
      heading: Item Department
      alignment: center

    settings: 
      resizable: true
      auto-height: false
      character-counter: false
      trim-spaces: Leading and Trailing

    layout: 
      sequence: 50
      column-alignment: center
      stretch: Use Report Setting

    accessibility: 
      value-identifies-row: false

    validation: 
      value-required: false
      maximum-length: 4000

    source: 
      type: Database Column
      database-column: C001
      data-type: VARCHAR2
      query-only: false
      primary-key: false

    default: 
      duplicate-copies-existing-value: true

    session-state: 
      data-type: VARCHAR2

    column-filter: 
      enabled: true
      performance-impacting-operators: 
      - Contains
      - Starts With
      - Case Insensitive
      - Regular Expression
      text-case: Mixed
      lov-type: None

    export-/-printing: 
      include-in-export-/-print: true

    enable-users-to: 
      sort: false
      hide: true

    advanced: 
      column-initialization-javascript-function: |
        function( options ) {
            options.defaultGridColumnOptions = {
                noHeaderActivate: true
            };
            return options;
        }

  - # ====== Column: ADD =========================================
    id: 15972821460037536
    identification: 
      column-name: ADD
      type: Checkbox

    heading: 
      heading: Add
      alignment: center

    settings: 
      use-defaults: false
      checked-value: Y

    layout: 
      sequence: 30
      column-alignment: center
      stretch: Use Report Setting

    accessibility: 
      value-identifies-row: false

    validation: 
      value-required: false

    source: 
      type: None

    enable-users-to: 
      hide: true

    advanced: 
      column-initialization-javascript-function: |
        function( options ) {
            options.defaultGridColumnOptions = {
                noHeaderActivate: true
            };
            return options;
        }

- # ====== Region: IDL Buttons =================================
  id: 15973279653037540
  identification: 
    name: IDL Buttons
    type: Static Content

  layout: 
    sequence: 30
    parent-region: Item Department List # 15972259744037530
    slot: SUB_REGIONS
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: None
    render-components: Above Content

  advanced: 
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

- # ====== Region: Department Search ===========================
  id: 15973811692037546
  identification: 
    name: Department Search
    type: Static Content

  layout: 
    sequence: 140
    parent-region: No Parent
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Inline Dialog
    template-options: 
    - '#DEFAULT#'
    - js-dialog-autoheight
    - js-dialog-size600x400
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    static-id: DSform
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

- # ====== Region: Item SIC ====================================
  id: 16326206584824743
  identification: 
    name: Item SIC
    type: Interactive Grid

  source: 
    location: Local Database
    type: SQL Query
    sql-query: |
      SELECT
          n001,
          c001
      FROM APEX_COLLECTIONS
      WHERE COLLECTION_NAME = 'ITEMSIC'

  layout: 
    sequence: 20
    parent-region: Item Objects Grids # 15415428447384242
    slot: SUB_REGIONS
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: 3

  appearance: 
    template: Interactive Report
    template-options: 
    - '#DEFAULT#'
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    static-id: sicGrid
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    id: 16326384994824744
    edit: 
      enabled: false

    performance: 
      lazy-loading: false

    appearance: 
      select-first-row: true
      fixed-row-height: true

    pagination: 
      type: Scroll
      show-total-count: true

    toolbar: 
      show: false

    enable-users-to: 
      save-public-report: false
      flashback: false
      define-chart-view: false
      download: false

    heading: 
      fixed-to: Region
      fixed-report-height: 260

    icon-view: 
      show: false

    detail-view: 
      show: false

    advanced: 
      initialization-javascript-function: |
        function( options ) {
            options.defaultModelOptions = {
                pageSize: 1000
            };
            options.defaultGridViewOptions = {
                pagination: {
                    scroll: true,
                    virtual: true,
                    loadMore: false
                },
                resizeColumns: false,
                reorderColumns: false,
                footer: false
            };
            options.defaultGridColumnOptions = {
                noHeaderActivate: true
            }
            return options;
        }

    saved-reports: 
    - # ====== Saved Report: Primary Report ========================
      id: 16820386932395370
      identification: 
        name: Primary Report
        alias: 168204

  columns: 
  - # ====== Column: N001 ========================================
    id: 16326478812824745
    identification: 
      column-name: N001
      type: Hidden

    settings: 
      value-protected: true

    layout: 
      sequence: 10

    accessibility: 
      value-identifies-row: false

    source: 
      type: Database Column
      database-column: N001
      data-type: NUMBER
      query-only: false
      primary-key: true

    default: 
      duplicate-copies-existing-value: true

    session-state: 
      data-type: VARCHAR2

    export-/-printing: 
      include-in-export-/-print: false

    enable-users-to: 
      sort: false

  - # ====== Column: C001 ========================================
    id: 16326506837824746
    identification: 
      column-name: C001
      type: Textarea

    heading: 
      heading: Item SIC
      alignment: start

    settings: 
      resizable: true
      auto-height: false
      character-counter: false
      trim-spaces: Leading and Trailing

    layout: 
      sequence: 20
      column-alignment: start
      stretch: Use Report Setting

    accessibility: 
      value-identifies-row: false

    validation: 
      value-required: false
      maximum-length: 4000

    source: 
      type: Database Column
      database-column: C001
      data-type: VARCHAR2
      query-only: false
      primary-key: false

    default: 
      duplicate-copies-existing-value: true

    session-state: 
      data-type: VARCHAR2

    column-filter: 
      enabled: true
      performance-impacting-operators: 
      - Contains
      - Starts With
      - Case Insensitive
      - Regular Expression
      text-case: Mixed
      lov-type: None

    export-/-printing: 
      include-in-export-/-print: true

    enable-users-to: 
      sort: false
      hide: true

    advanced: 
      column-initialization-javascript-function: |
        function( options ) {
            options.defaultGridColumnOptions = {
                noHeaderActivate: true
            };
            return options;
        }

- # ====== Region: Item SIC List ===============================
  id: 16806302756342321
  identification: 
    name: Item SIC List
    type: Static Content

  layout: 
    sequence: 120
    parent-region: No Parent
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Inline Dialog
    template-options: 
    - '#DEFAULT#'
    - js-dialog-autoheight
    - js-dialog-size600x400
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

- # ====== Region: Item SIC Grid ===============================
  id: 16806474701342322
  identification: 
    name: Item SIC Grid
    type: Interactive Grid

  source: 
    location: Local Database
    type: SQL Query
    sql-query: |
      SELECT
          n001,
          c001
      FROM APEX_COLLECTIONS
      WHERE COLLECTION_NAME = 'ITEMSICLIST'

  layout: 
    sequence: 20
    parent-region: Item SIC List # 16806302756342321
    slot: SUB_REGIONS
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Interactive Report
    template-options: 
    - '#DEFAULT#'
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    static-id: ISL-grid
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    id: 16806575409342323
    edit: 
      enabled: true
      allowed-operations: 
      - Update Row
      lost-update-type: Row Values

    performance: 
      lazy-loading: false

    appearance: 
      select-first-row: false
      fixed-row-height: false

    pagination: 
      type: Scroll
      show-total-count: false

    toolbar: 
      show: false

    enable-users-to: 
      save-public-report: false
      flashback: false
      define-chart-view: false
      download: false

    heading: 
      fixed-to: Region
      fixed-report-height: 260

    icon-view: 
      show: false

    detail-view: 
      show: false

    advanced: 
      initialization-javascript-function: |
        function( options ) {
            options.defaultModelOptions = {
                pageSize: 1000
            };
            options.defaultGridViewOptions = {
                pagination: {
                    scroll: true,
                    virtual: true,
                    loadMore: false
                },
                resizeColumns: false,
                reorderColumns: false,
                footer: false
            };
            options.defaultGridColumnOptions = {
                noHeaderActivate: true
            }
            return options;
        }

    saved-reports: 
    - # ====== Saved Report: Primary Report ========================
      id: 16821061934395375
      identification: 
        name: Primary Report
        alias: 168211

  columns: 
  - # ====== Column: ADD =========================================
    id: 16806653899342324
    identification: 
      column-name: ADD
      type: Checkbox

    heading: 
      heading: Add
      alignment: center

    settings: 
      use-defaults: false
      checked-value: Y

    layout: 
      sequence: 10
      column-alignment: center
      stretch: Use Report Setting

    accessibility: 
      value-identifies-row: false

    validation: 
      value-required: false

    source: 
      type: None

    enable-users-to: 
      hide: true

    advanced: 
      column-initialization-javascript-function: |
        function( options ) {
            options.defaultGridColumnOptions = {
                noHeaderActivate: true
            };
            return options;
        }

  - # ====== Column: N001 ========================================
    id: 16806703836342325
    identification: 
      column-name: N001
      type: Hidden

    settings: 
      value-protected: true

    layout: 
      sequence: 20

    accessibility: 
      value-identifies-row: false

    source: 
      type: Database Column
      database-column: N001
      data-type: NUMBER
      query-only: false
      primary-key: true

    default: 
      duplicate-copies-existing-value: true

    session-state: 
      data-type: VARCHAR2

    export-/-printing: 
      include-in-export-/-print: false

    enable-users-to: 
      sort: false

  - # ====== Column: C001 ========================================
    id: 16806865797342326
    identification: 
      column-name: C001
      type: Textarea

    heading: 
      heading: Item SIC
      alignment: center

    settings: 
      resizable: true
      auto-height: false
      character-counter: false
      trim-spaces: Leading and Trailing

    layout: 
      sequence: 30
      column-alignment: center
      stretch: Use Report Setting

    accessibility: 
      value-identifies-row: false

    validation: 
      value-required: false
      maximum-length: 4000

    source: 
      type: Database Column
      database-column: C001
      data-type: VARCHAR2
      query-only: false
      primary-key: false

    default: 
      duplicate-copies-existing-value: true

    session-state: 
      data-type: VARCHAR2

    column-filter: 
      enabled: true
      performance-impacting-operators: 
      - Contains
      - Starts With
      - Case Insensitive
      - Regular Expression
      text-case: Mixed
      lov-type: None

    export-/-printing: 
      include-in-export-/-print: true

    enable-users-to: 
      sort: false
      hide: true

    advanced: 
      column-initialization-javascript-function: |
        function( options ) {
            options.defaultGridColumnOptions = {
                noHeaderActivate: true
            };
            return options;
        }

- # ====== Region: ISL Buttons =================================
  id: 16806969669342327
  identification: 
    name: ISL Buttons
    type: Static Content

  layout: 
    sequence: 40
    parent-region: Item SIC List # 16806302756342321
    slot: SUB_REGIONS
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: None
    render-components: Above Content

  advanced: 
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

- # ====== Region: SIC Search ==================================
  id: 16809274825342350
  identification: 
    name: SIC Search
    type: Static Content

  layout: 
    sequence: 150
    parent-region: No Parent
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Inline Dialog
    template-options: 
    - '#DEFAULT#'
    - js-dialog-autoheight
    - js-dialog-size600x400
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    static-id: SSform
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

- # ====== Region: Item Class List =============================
  id: 16829754130409831
  identification: 
    name: Item Class List
    type: Static Content

  layout: 
    sequence: 130
    parent-region: No Parent
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Inline Dialog
    template-options: 
    - '#DEFAULT#'
    - js-dialog-autoheight
    - js-dialog-size600x400
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

- # ====== Region: Item Class Grid =============================
  id: 16829887798409832
  identification: 
    name: Item Class Grid
    type: Interactive Grid

  source: 
    location: Local Database
    type: SQL Query
    sql-query: |
      SELECT
          n001,
          c001
      FROM APEX_COLLECTIONS
      WHERE COLLECTION_NAME = 'ITEMCLASSLIST'

  layout: 
    sequence: 10
    parent-region: Item Class List # 16829754130409831
    slot: SUB_REGIONS
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Interactive Report
    template-options: 
    - '#DEFAULT#'
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    static-id: ICL-grid
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    id: 16829987401409833
    edit: 
      enabled: true
      allowed-operations: 
      - Update Row
      lost-update-type: Row Values

    performance: 
      lazy-loading: false

    appearance: 
      select-first-row: false
      fixed-row-height: false

    pagination: 
      type: Scroll
      show-total-count: false

    toolbar: 
      show: false

    enable-users-to: 
      save-public-report: false
      flashback: false
      define-chart-view: false
      download: false

    heading: 
      fixed-to: Region
      fixed-report-height: 260

    icon-view: 
      show: false

    detail-view: 
      show: false

    advanced: 
      initialization-javascript-function: |
        function( options ) {
            options.defaultModelOptions = {
                pageSize: 1000
            };
            options.defaultGridViewOptions = {
                pagination: {
                    scroll: true,
                    virtual: true,
                    loadMore: false
                },
                resizeColumns: false,
                reorderColumns: false,
                footer: false
            };
            options.defaultGridColumnOptions = {
                noHeaderActivate: true
            }
            return options;
        }

    saved-reports: 
    - # ====== Saved Report: Primary Report ========================
      id: 16878614917860809
      identification: 
        name: Primary Report
        alias: 168787

  columns: 
  - # ====== Column: ADD =========================================
    id: 16830094550409834
    identification: 
      column-name: ADD
      type: Checkbox

    heading: 
      heading: Add
      alignment: center

    settings: 
      use-defaults: false
      checked-value: Y

    layout: 
      sequence: 10
      column-alignment: center
      stretch: Use Report Setting

    accessibility: 
      value-identifies-row: false

    validation: 
      value-required: false

    source: 
      type: None

    enable-users-to: 
      hide: true

    advanced: 
      column-initialization-javascript-function: |
        function( options ) {
            options.defaultGridColumnOptions = {
                noHeaderActivate: true
            };
            return options;
        }

  - # ====== Column: N001 ========================================
    id: 16830118433409835
    identification: 
      column-name: N001
      type: Hidden

    settings: 
      value-protected: true

    layout: 
      sequence: 20

    accessibility: 
      value-identifies-row: false

    source: 
      type: Database Column
      database-column: N001
      data-type: NUMBER
      query-only: false
      primary-key: true

    default: 
      duplicate-copies-existing-value: true

    session-state: 
      data-type: VARCHAR2

    export-/-printing: 
      include-in-export-/-print: false

    enable-users-to: 
      sort: false

  - # ====== Column: C001 ========================================
    id: 16830259520409836
    identification: 
      column-name: C001
      type: Textarea

    heading: 
      heading: Item Class
      alignment: center

    settings: 
      resizable: true
      auto-height: false
      character-counter: false
      trim-spaces: Leading and Trailing

    layout: 
      sequence: 30
      column-alignment: center
      stretch: Use Report Setting

    accessibility: 
      value-identifies-row: false

    validation: 
      value-required: false
      maximum-length: 4000

    source: 
      type: Database Column
      database-column: C001
      data-type: VARCHAR2
      query-only: false
      primary-key: false

    default: 
      duplicate-copies-existing-value: true

    session-state: 
      data-type: VARCHAR2

    column-filter: 
      enabled: true
      performance-impacting-operators: 
      - Contains
      - Starts With
      - Case Insensitive
      - Regular Expression
      text-case: Mixed
      lov-type: None

    export-/-printing: 
      include-in-export-/-print: true

    enable-users-to: 
      sort: false
      hide: true

    advanced: 
      column-initialization-javascript-function: |
        function( options ) {
            options.defaultGridColumnOptions = {
                noHeaderActivate: true
            };
            return options;
        }

- # ====== Region: ISL Buttons =================================
  id: 16830368958409837
  identification: 
    name: ISL Buttons
    type: Static Content

  layout: 
    sequence: 20
    parent-region: Item Class List # 16829754130409831
    slot: SUB_REGIONS
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: None
    render-components: Above Content

  advanced: 
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

- # ====== Region: Class Search ================================
  id: 16851530386755901
  identification: 
    name: Class Search
    type: Static Content

  layout: 
    sequence: 160
    parent-region: No Parent
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Inline Dialog
    template-options: 
    - '#DEFAULT#'
    - js-dialog-autoheight
    - js-dialog-size600x400
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    static-id: CSform
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

- # ====== Region: Item Class ==================================
  id: 16851704184755903
  identification: 
    name: Item Class
    type: Interactive Grid

  source: 
    location: Local Database
    type: SQL Query
    sql-query: |
      SELECT
          n001,
          c001
      FROM APEX_COLLECTIONS
      WHERE COLLECTION_NAME = 'ITEMCLASS'

  layout: 
    sequence: 30
    parent-region: Item Objects Grids # 15415428447384242
    slot: SUB_REGIONS
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: 3

  appearance: 
    template: Interactive Report
    template-options: 
    - '#DEFAULT#'
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    static-id: classGrid
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    id: 16851856093755904
    edit: 
      enabled: false

    performance: 
      lazy-loading: false

    appearance: 
      select-first-row: true
      fixed-row-height: true

    pagination: 
      type: Scroll
      show-total-count: true

    toolbar: 
      show: false

    enable-users-to: 
      save-public-report: false
      flashback: false
      define-chart-view: false
      download: false

    heading: 
      fixed-to: Region
      fixed-report-height: 260

    icon-view: 
      show: false

    detail-view: 
      show: false

    advanced: 
      initialization-javascript-function: |
        function( options ) {
            options.defaultModelOptions = {
                pageSize: 1000
            };
            options.defaultGridViewOptions = {
                pagination: {
                    scroll: true,
                    virtual: true,
                    loadMore: false
                },
                resizeColumns: false,
                reorderColumns: false,
                footer: false
            };
            options.defaultGridColumnOptions = {
                noHeaderActivate: true
            }
            return options;
        }

    saved-reports: 
    - # ====== Saved Report: Primary Report ========================
      id: 16879339003860812
      identification: 
        name: Primary Report
        alias: 168794

  columns: 
  - # ====== Column: N001 ========================================
    id: 16851934274755905
    identification: 
      column-name: N001
      type: Hidden

    settings: 
      value-protected: true

    layout: 
      sequence: 10

    accessibility: 
      value-identifies-row: false

    source: 
      type: Database Column
      database-column: N001
      data-type: NUMBER
      query-only: false
      primary-key: true

    default: 
      duplicate-copies-existing-value: true

    session-state: 
      data-type: VARCHAR2

    export-/-printing: 
      include-in-export-/-print: false

    enable-users-to: 
      sort: false

  - # ====== Column: C001 ========================================
    id: 16852073464755906
    identification: 
      column-name: C001
      type: Textarea

    heading: 
      heading: Item Class
      alignment: start

    settings: 
      resizable: true
      auto-height: false
      character-counter: false
      trim-spaces: Leading and Trailing

    layout: 
      sequence: 20
      column-alignment: start
      stretch: Use Report Setting

    accessibility: 
      value-identifies-row: false

    validation: 
      value-required: false
      maximum-length: 4000

    source: 
      type: Database Column
      database-column: C001
      data-type: VARCHAR2
      query-only: false
      primary-key: false

    default: 
      duplicate-copies-existing-value: true

    session-state: 
      data-type: VARCHAR2

    column-filter: 
      enabled: true
      performance-impacting-operators: 
      - Contains
      - Starts With
      - Case Insensitive
      - Regular Expression
      text-case: Mixed
      lov-type: None

    export-/-printing: 
      include-in-export-/-print: true

    enable-users-to: 
      sort: false
      hide: true

    advanced: 
      column-initialization-javascript-function: |
        function( options ) {
            options.defaultGridColumnOptions = {
                noHeaderActivate: true
            };
            return options;
        }

- # ====== Region: Item Category Validation ====================
  id: 17189792456817101
  identification: 
    name: Item Category Validation
    title: Discount Creation
    type: Static Content

  source: 
    html-code: '<h3 style="font-size:1.25rem;text-align:center">You have not added any Item Category, Please add at least one.</h3>'

  layout: 
    sequence: 170
    parent-region: No Parent
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Inline Dialog
    template-options: 
    - '#DEFAULT#'
    - js-dialog-autoheight
    - js-dialog-size600x400
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

- # ====== Region: Discount List Reached Max ===================
  id: 17191529205817119
  identification: 
    name: Discount List Reached Max
    title: Discount Creation
    type: Static Content

  layout: 
    sequence: 180
    parent-region: No Parent
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Inline Dialog
    template-options: 
    - '#DEFAULT#'
    - js-dialog-autoheight
    - js-dialog-size600x400
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

- # ====== Region: Warning Text ================================
  id: 18080312200113208
  identification: 
    name: Warning Text
    type: Static Content

  source: 
    html-code: '<h3 style="font-size:1.25rem;text-align:center">Maximum Discount reached, do you want to remove other discount/s?</h3>'

  layout: 
    sequence: 10
    parent-region: Discount List Reached Max # 17191529205817119
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: None
    render-components: Above Content

  advanced: 
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

- # ====== Region: Discount Grid Header ========================
  id: 18080580807113210
  identification: 
    name: Discount Grid Header
    type: Static Content

  source: 
    html-code: '<h3 style="font-size:1.125rem;color:white">Running Discounts</h3>'

  layout: 
    sequence: 50
    parent-region: No Parent
    slot: BODY
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: None
    render-components: Above Content

  advanced: 
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

- # ====== Region: Discount Form Details =======================
  id: 18080607270113211
  identification: 
    name: Discount Form Details
    type: Static Content

  layout: 
    sequence: 20
    parent-region: Discount Form # 15412061377384208
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Standard
    template-options: 
    - '#DEFAULT#'
    - t-Region--removeHeader js-removeLandmark
    - t-Region--scrollBody
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    static-id: discount-form-details
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

- # ====== Region: Customer Discounts Menu =====================
  id: 30877022824364214
  identification: 
    name: Customer Discounts Menu
    type: Interactive Grid

  source: 
    location: Local Database
    type: SQL Query
    sql-query: |
      SELECT
          DISCOUNT_ID, 
          DISCOUNT_NAME, 
          CASE WHEN TYPE = 'Percent'
              THEN DISCOUNT_VALUE || '%'
          ELSE '' || DISCOUNT_VALUE
          END AS DISCOUNT_VALUE,
          DATE_TO
      FROM NPT008
      WHERE CUSTOMER_ID = :P60_CUSTOMER_ID
    page-items-to-submit: 
    - P60_CUSTOMER_ID

  layout: 
    sequence: 60
    parent-region: No Parent
    slot: BODY
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: false
    column-span: Automatic

  appearance: 
    template: Interactive Report
    template-options: 
    - '#DEFAULT#'
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    static-id: discountGrid
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    id: 16945883791657843
    edit: 
      enabled: false

    performance: 
      lazy-loading: false

    appearance: 
      select-first-row: true
      fixed-row-height: true

    pagination: 
      type: Scroll
      show-total-count: false

    toolbar: 
      show: false

    enable-users-to: 
      save-public-report: false
      flashback: false
      define-chart-view: false
      download: false

    heading: 
      fixed-to: Region
      fixed-report-height: 169

    icon-view: 
      show: false

    detail-view: 
      show: false

    advanced: 
      initialization-javascript-function: |
        function( options ) {
            options.defaultModelOptions = {
                pageSize: 1000
            };
            options.defaultGridViewOptions = {
                pagination: {
                    scroll: true,
                    virtual: true,
                    loadMore: false
                },
                resizeColumns: false,
                reorderColumns: false,
                footer: false
            };
            options.defaultGridColumnOptions = {
                noHeaderActivate: true
            }
            return options;
        }

    saved-reports: 
    - # ====== Saved Report: Primary Report ========================
      id: 17114657282400420
      identification: 
        name: Primary Report
        alias: 171147

  columns: 
  - # ====== Column: DISCOUNT_ID =================================
    id: 18083066270113235
    identification: 
      column-name: DISCOUNT_ID
      type: Hidden

    settings: 
      value-protected: true

    layout: 
      sequence: 10

    accessibility: 
      value-identifies-row: false

    source: 
      type: Database Column
      database-column: DISCOUNT_ID
      data-type: NUMBER
      query-only: false
      primary-key: false

    default: 
      duplicate-copies-existing-value: true

    session-state: 
      data-type: VARCHAR2

    export-/-printing: 
      include-in-export-/-print: false

    enable-users-to: 
      sort: false

  - # ====== Column: DISCOUNT_NAME ===============================
    id: 18083130424113236
    identification: 
      column-name: DISCOUNT_NAME
      type: Text Field

    heading: 
      heading: Discount Name
      alignment: center

    settings: 
      trim-spaces: Leading and Trailing
      text-case: NO CHANGE

    layout: 
      sequence: 20
      column-alignment: start
      stretch: Use Report Setting

    accessibility: 
      value-identifies-row: false

    validation: 
      value-required: true
      maximum-length: 200

    source: 
      type: Database Column
      database-column: DISCOUNT_NAME
      data-type: VARCHAR2
      query-only: false
      primary-key: false

    default: 
      duplicate-copies-existing-value: true

    column-filter: 
      enabled: true
      performance-impacting-operators: 
      - Contains
      - Starts With
      - Case Insensitive
      - Regular Expression
      text-case: Mixed
      lov-type: Distinct Column
      exact-match: true

    export-/-printing: 
      include-in-export-/-print: true

    enable-users-to: 
      sort: true
      control-break/aggregate: true
      hide: true

    advanced: 
      column-initialization-javascript-function: |
        function( options ) {
            options.defaultGridColumnOptions = {
                noHeaderActivate: true
            };
            return options;
        }

  - # ====== Column: DISCOUNT_VALUE ==============================
    id: 18083298958113237
    identification: 
      column-name: DISCOUNT_VALUE
      type: Text Field

    heading: 
      heading: Discount Value
      alignment: center

    settings: 
      trim-spaces: Leading and Trailing
      text-case: NO CHANGE

    layout: 
      sequence: 30
      column-alignment: end
      stretch: Use Report Setting

    accessibility: 
      value-identifies-row: false

    validation: 
      value-required: false
      maximum-length: 41

    source: 
      type: Database Column
      database-column: DISCOUNT_VALUE
      data-type: VARCHAR2
      query-only: false
      primary-key: false

    default: 
      duplicate-copies-existing-value: true

    column-filter: 
      enabled: true
      performance-impacting-operators: 
      - Contains
      - Starts With
      - Case Insensitive
      - Regular Expression
      text-case: Mixed
      lov-type: Distinct Column
      exact-match: true

    export-/-printing: 
      include-in-export-/-print: true

    enable-users-to: 
      sort: true
      control-break/aggregate: true
      hide: true

    advanced: 
      column-initialization-javascript-function: |
        function( options ) {
            options.defaultGridColumnOptions = {
                noHeaderActivate: true
            };
            return options;
        }

  - # ====== Column: DATE_TO =====================================
    id: 18083368667113238
    identification: 
      column-name: DATE_TO
      type: Date Picker

    heading: 
      heading: Date To
      alignment: center

    settings: 
      show-time: false
      display-as: Popup
      minimum-date: None
      maximum-date: None
      multiple-months: No
      use-defaults: true

    layout: 
      sequence: 40
      column-alignment: start
      stretch: Use Report Setting

    accessibility: 
      value-identifies-row: false

    validation: 
      value-required: true

    source: 
      type: Database Column
      database-column: DATE_TO
      data-type: DATE
      query-only: false
      primary-key: false

    default: 
      duplicate-copies-existing-value: true

    column-filter: 
      enabled: true
      lov-type: Distinct Column
      date-ranges: All

    export-/-printing: 
      include-in-export-/-print: true

    enable-users-to: 
      sort: true
      control-break/aggregate: true
      hide: true

    advanced: 
      column-initialization-javascript-function: |
        function( options ) {
            options.defaultGridColumnOptions = {
                noHeaderActivate: true
            };
            return options;
        }

page-items: 
- # ====== Page Item: P60_CUSTOMER_ID ==========================
  id: 15411509370384203
  identification: 
    name: P60_CUSTOMER_ID
    type: Hidden

  settings: 
    value-protected: true

  layout: 
    sequence: 10
    region: Read Only Customer Detail # 15147238558750650
    slot: BODY

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Read Only Customer Detail # 15147238558750650
    column: CUSTOMER_ID
    data-type: NUMBER
    query-only: false
    primary-key: true

  session-state: 
    data-type: VARCHAR2
    storage: Per Request (Memory Only)

  security: 
    session-state-protection: Checksum Required - Session Level
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P60_LEGAL_NAME ===========================
  id: 15411647357384204
  identification: 
    name: P60_LEGAL_NAME
    type: Display Only

  label: 
    label: 'Legal Name: '
    alignment: Left

  settings: 
    format: Plain Text
    based-on: Item Value
    show-line-breaks: true
    send-on-page-submit: true

  layout: 
    sequence: 20
    region: Read Only Customer Detail # 15147238558750650
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    label-column-span: Page Template Default

  appearance: 
    template: Optional
    template-options: 
    - '#DEFAULT#'
    css-classes: 
    - readonly-fields

  advanced: 
    css-classes: 
    - readonly-field
    custom-attributes: 
    - readonly
    - tabindex="-1"
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Read Only Customer Detail # 15147238558750650
    column: LEGAL_NAME
    data-type: VARCHAR2
    query-only: false
    primary-key: false

  session-state: 
    data-type: VARCHAR2
    storage: Per Request (Memory Only)

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P60_DBA ==================================
  id: 15411750720384205
  identification: 
    name: P60_DBA
    type: Display Only

  label: 
    label: 'DBA: '
    alignment: Left

  settings: 
    format: Plain Text
    based-on: Item Value
    show-line-breaks: true
    send-on-page-submit: true

  layout: 
    sequence: 30
    region: Read Only Customer Detail # 15147238558750650
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: false
    column-span: Automatic
    label-column-span: Page Template Default

  appearance: 
    template: Optional
    template-options: 
    - '#DEFAULT#'
    css-classes: 
    - readonly-fields

  advanced: 
    css-classes: 
    - readonly-field
    custom-attributes: 
    - readonly
    - tabindex="-1"
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Read Only Customer Detail # 15147238558750650
    column: DBA
    data-type: VARCHAR2
    query-only: false
    primary-key: false

  session-state: 
    data-type: VARCHAR2
    storage: Per Request (Memory Only)

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P60_MAIN_ACCOUNT_CODE ====================
  id: 15411813624384206
  identification: 
    name: P60_MAIN_ACCOUNT_CODE
    type: Display Only

  label: 
    label: 'Main Account Code: '
    alignment: Left

  settings: 
    format: Plain Text
    based-on: Item Value
    show-line-breaks: true
    send-on-page-submit: true

  layout: 
    sequence: 50
    region: Read Only Customer Detail # 15147238558750650
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: Automatic
    label-column-span: 3

  appearance: 
    template: Optional
    template-options: 
    - '#DEFAULT#'
    css-classes: 
    - readonly-fields

  advanced: 
    css-classes: 
    - readonly-field
    custom-attributes: 
    - readonly
    - tabindex="-1"
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Read Only Customer Detail # 15147238558750650
    column: MAIN_ACCOUNT_CODE
    data-type: VARCHAR2
    query-only: false
    primary-key: false

  session-state: 
    data-type: VARCHAR2
    storage: Per Request (Memory Only)

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P60_CONTACT_PERSON =======================
  id: 15411937515384207
  identification: 
    name: P60_CONTACT_PERSON
    type: Display Only

  label: 
    label: 'Contact Person: '
    alignment: Left

  settings: 
    format: Plain Text
    based-on: Item Value
    show-line-breaks: true
    send-on-page-submit: true

  layout: 
    sequence: 40
    region: Read Only Customer Detail # 15147238558750650
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: false
    column-span: Automatic
    label-column-span: Page Template Default

  appearance: 
    template: Optional
    template-options: 
    - '#DEFAULT#'
    css-classes: 
    - readonly-fields

  advanced: 
    css-classes: 
    - readonly-field
    custom-attributes: 
    - readonly
    - tabindex="-1"
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Read Only Customer Detail # 15147238558750650
    column: CONTACT_PERSON
    data-type: VARCHAR2
    query-only: false
    primary-key: false

  session-state: 
    data-type: VARCHAR2
    storage: Per Request (Memory Only)

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P60_DISCOUNT_ID ==========================
  id: 15412242874384210
  identification: 
    name: P60_DISCOUNT_ID
    type: Hidden

  settings: 
    value-protected: true

  layout: 
    sequence: 30
    region: Discount Form # 15412061377384208
    slot: BODY

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Discount Form # 15412061377384208
    column: DISCOUNT_ID
    data-type: NUMBER
    query-only: true
    primary-key: true

  session-state: 
    data-type: VARCHAR2
    storage: Per Request (Memory Only)

  security: 
    session-state-protection: Checksum Required - Session Level
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P60_DISCOUNT_VALUE =======================
  id: 15412364601384211
  identification: 
    name: P60_DISCOUNT_VALUE
    type: Number Field

  label: 
    label: New
    alignment: Left

  settings: 
    number-alignment: Start
    virtual-keyboard: Decimal

  layout: 
    sequence: 20
    region: Discount Form Details # 18080607270113211
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: 2
    label-column-span: 0

  appearance: 
    template: Optional
    template-options: 
    - '#DEFAULT#'
    width: 30

  validation: 
    value-required: false
    maximum-length: 9

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Discount Form # 15412061377384208
    column: DISCOUNT_VALUE
    data-type: NUMBER
    query-only: false
    primary-key: false

  session-state: 
    storage: Per Request (Memory Only)

  quick-picks: 
    show-quick-picks: false

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P60_DISCOUNT_NAME ========================
  id: 15412460075384212
  identification: 
    name: P60_DISCOUNT_NAME
    type: Text Field

  label: 
    label: 'Discount Name <span style="color:red">*</span>'
    alignment: Left

  settings: 
    subtype: Text
    trim-spaces: Leading and Trailing
    text-case: NO CHANGE
    submit-when-enter-pressed: false
    disabled: false

  layout: 
    sequence: 10
    region: Discount Form # 15412061377384208
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    label-column-span: Page Template Default

  appearance: 
    template: Optional - Above
    template-options: 
    - '#DEFAULT#'
    - t-Form-fieldContainer--stretchInputs
    width: 30

  validation: 
    value-required: false
    maximum-length: 50

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Discount Form # 15412061377384208
    column: DISCOUNT_NAME
    data-type: VARCHAR2
    query-only: false
    primary-key: false

  session-state: 
    storage: Per Request (Memory Only)

  quick-picks: 
    show-quick-picks: false

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P60_TYPE =================================
  id: 15412599349384213
  identification: 
    name: P60_TYPE
    type: Select List

  label: 
    label: 'Value <span style="color:red">*</span>'
    alignment: Left

  settings: 
    page-action-on-selection: None

  multiple-values: 
    type: No

  layout: 
    sequence: 10
    region: Discount Form Details # 18080607270113211
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: 3
    label-column-span: 1

  appearance: 
    template: Optional
    template-options: 
    - '#DEFAULT#'
    - t-Form-fieldContainer--stretchInputs
    height: 1

  validation: 
    value-required: false

  list-of-values: 
    type: Static Values
    static-values: 'STATIC2:Percent;Percent,Fixed;Fixed'
    display-extra-values: true
    display-null-value: false

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Discount Form # 15412061377384208
    column: TYPE
    data-type: VARCHAR2
    query-only: false
    primary-key: false

  session-state: 
    storage: Per Request (Memory Only)

  quick-picks: 
    show-quick-picks: false

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P60_DATE_FROM ============================
  id: 15412671093384214
  identification: 
    name: P60_DATE_FROM
    type: Date Picker

  label: 
    label: 'Date Range <span style="color:red">*</span>'
    alignment: Left

  settings: 
    show-time: false
    display-as: Popup
    minimum-date: None
    maximum-date: None
    multiple-months: No
    use-defaults: true

  layout: 
    sequence: 50
    region: Discount Form Details # 18080607270113211
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: 4
    label-column-span: Page Template Default

  appearance: 
    template: Optional
    template-options: 
    - '#DEFAULT#'
    width: 30

  validation: 
    value-required: false

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Discount Form # 15412061377384208
    column: DATE_FROM
    data-type: DATE
    query-only: false
    primary-key: false

  session-state: 
    storage: Per Request (Memory Only)

  quick-picks: 
    show-quick-picks: false

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P60_DATE_TO ==============================
  id: 15412790546384215
  identification: 
    name: P60_DATE_TO
    type: Date Picker

  label: 
    label: To
    alignment: Left

  settings: 
    show-time: false
    display-as: Popup
    minimum-date: None
    maximum-date: None
    multiple-months: No
    use-defaults: true

  layout: 
    sequence: 70
    region: Discount Form Details # 18080607270113211
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: 3
    label-column-span: 1

  appearance: 
    template: Optional
    template-options: 
    - '#DEFAULT#'
    width: 30

  validation: 
    value-required: false

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Discount Form # 15412061377384208
    column: DATE_TO
    data-type: DATE
    query-only: false
    primary-key: false

  session-state: 
    storage: Per Request (Memory Only)

  quick-picks: 
    show-quick-picks: false

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P60_CUSTOMER_ID_DISCOUNT =================
  id: 15413214723384220
  identification: 
    name: P60_CUSTOMER_ID_DISCOUNT
    type: Hidden

  settings: 
    value-protected: true

  layout: 
    sequence: 40
    region: Discount Form # 15412061377384208
    slot: BODY

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Discount Form # 15412061377384208
    column: CUSTOMER_ID
    data-type: NUMBER
    query-only: false
    primary-key: false

  session-state: 
    data-type: VARCHAR2
    storage: Per Request (Memory Only)

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P60_DISCOUNT_PERCENT =====================
  id: 15413328781384221
  identification: 
    name: P60_DISCOUNT_PERCENT
    type: Text Field

  label: 
    alignment: Left

  settings: 
    subtype: Text
    trim-spaces: Leading and Trailing
    text-case: NO CHANGE
    submit-when-enter-pressed: false
    disabled: false

  layout: 
    sequence: 30
    region: Discount Form Details # 18080607270113211
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: true
    column: 2
    new-column: true
    column-span: 2
    label-column-span: 0

  appearance: 
    template: Optional
    template-options: 
    - '#DEFAULT#'
    width: 30

  validation: 
    value-required: false

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    type: Null
    used: Only when current value in session state is null

  session-state: 
    storage: Per Request (Memory Only)

  quick-picks: 
    show-quick-picks: false

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

  configuration: 
    build-option: Commented Out # 4207224469083906

- # ====== Page Item: P60_DISCOUNT_FIXED =======================
  id: 15413438135384222
  identification: 
    name: P60_DISCOUNT_FIXED
    type: Text Field

  label: 
    alignment: Left

  settings: 
    subtype: Text
    trim-spaces: Leading and Trailing
    text-case: NO CHANGE
    submit-when-enter-pressed: false
    disabled: false

  layout: 
    sequence: 40
    region: Discount Form Details # 18080607270113211
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: false
    column: 4
    new-column: true
    column-span: 2
    label-column-span: 0

  appearance: 
    template: Optional
    template-options: 
    - '#DEFAULT#'
    width: 30

  validation: 
    value-required: false

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    type: Null
    used: Only when current value in session state is null

  session-state: 
    storage: Per Request (Memory Only)

  quick-picks: 
    show-quick-picks: false

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

  configuration: 
    build-option: Commented Out # 4207224469083906

- # ====== Page Item: P60_DEPARTMENT_SEARCH ====================
  id: 15973921383037547
  identification: 
    name: P60_DEPARTMENT_SEARCH
    type: Text Field

  label: 
    label: 'Item Department:'
    alignment: Left

  settings: 
    subtype: Text
    trim-spaces: Leading and Trailing
    text-case: NO CHANGE
    submit-when-enter-pressed: false
    disabled: false

  layout: 
    sequence: 10
    region: Department Search # 15973811692037546
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    label-column-span: 4

  appearance: 
    template: Optional
    template-options: 
    - '#DEFAULT#'
    - t-Form-fieldContainer--stretchInputs
    width: 30

  validation: 
    value-required: false

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    type: Null
    used: Only when current value in session state is null

  session-state: 
    storage: Per Request (Memory Only)

  quick-picks: 
    show-quick-picks: false

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P60_SIC_SEARCH ===========================
  id: 16826728221409801
  identification: 
    name: P60_SIC_SEARCH
    type: Text Field

  label: 
    label: 'Item SIC:'
    alignment: Left

  settings: 
    subtype: Text
    trim-spaces: Leading and Trailing
    text-case: NO CHANGE
    submit-when-enter-pressed: false
    disabled: false

  layout: 
    sequence: 10
    region: SIC Search # 16809274825342350
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    label-column-span: 4

  appearance: 
    template: Optional
    template-options: 
    - '#DEFAULT#'
    - t-Form-fieldContainer--stretchInputs
    width: 30

  validation: 
    value-required: false

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    type: Null
    used: Only when current value in session state is null

  session-state: 
    storage: Per Request (Memory Only)

  quick-picks: 
    show-quick-picks: false

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P60_CLASS_SEARCH =========================
  id: 16851629796755902
  identification: 
    name: P60_CLASS_SEARCH
    type: Text Field

  label: 
    label: 'Item Class:'
    alignment: Left

  settings: 
    subtype: Text
    trim-spaces: Leading and Trailing
    text-case: NO CHANGE
    submit-when-enter-pressed: false
    disabled: false

  layout: 
    sequence: 10
    region: Class Search # 16851530386755901
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    label-column-span: 4

  appearance: 
    template: Optional
    template-options: 
    - '#DEFAULT#'
    - t-Form-fieldContainer--stretchInputs
    width: 30

  validation: 
    value-required: false

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    type: Null
    used: Only when current value in session state is null

  session-state: 
    storage: Per Request (Memory Only)

  quick-picks: 
    show-quick-picks: false

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P60_DATE_FROM_INITIAL ====================
  id: 16854114166755927
  identification: 
    name: P60_DATE_FROM_INITIAL
    type: Hidden

  settings: 
    value-protected: true

  layout: 
    sequence: 70
    region: Discount Form # 15412061377384208
    slot: BODY

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Discount Form # 15412061377384208
    column: DATE_FROM
    data-type: DATE
    query-only: false
    primary-key: false

  session-state: 
    data-type: VARCHAR2
    storage: Per Request (Memory Only)

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P60_PAGE_STATUS ==========================
  id: 16855878709755944
  identification: 
    name: P60_PAGE_STATUS
    type: Hidden

  settings: 
    value-protected: true

  layout: 
    sequence: 30
    region: No Parent
    slot: BODY

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    type: Null
    used: Only when current value in session state is null

  session-state: 
    data-type: VARCHAR2
    storage: Per Request (Memory Only)

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P60_SELECTED_ID ==========================
  id: 16942680216657811
  identification: 
    name: P60_SELECTED_ID
    type: Hidden

  settings: 
    value-protected: true

  layout: 
    sequence: 10
    region: Discount List # 15782991626117646
    slot: BODY

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    type: Null
    used: Only when current value in session state is null

  session-state: 
    data-type: VARCHAR2
    storage: Per Request (Memory Only)

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P60_PREPARED_URL =========================
  id: 16942921655657814
  identification: 
    name: P60_PREPARED_URL
    type: Hidden

  settings: 
    value-protected: true

  layout: 
    sequence: 20
    region: Discount List # 15782991626117646
    slot: BODY

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    type: Null
    used: Only when current value in session state is null

  session-state: 
    data-type: VARCHAR2
    storage: Per Request (Memory Only)

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P60_DATE_TO_INITIAL_1 ====================
  id: 17190282110817106
  identification: 
    name: P60_DATE_TO_INITIAL_1
    type: Hidden

  settings: 
    value-protected: true

  layout: 
    sequence: 80
    region: Discount Form # 15412061377384208
    slot: BODY

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Discount Form # 15412061377384208
    column: DATE_TO
    data-type: DATE
    query-only: false
    primary-key: false

  session-state: 
    data-type: VARCHAR2
    storage: Per Request (Memory Only)

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

buttons: 
- # ====== Button: Add_Item_Categories =========================
  id: 15414266065384230
  identification: 
    button-name: Add_Item_Categories
    label: <u>F8</u> - Add/Remove Item Department/SIC/CLASS

  layout: 
    sequence: 10
    region: Menu Buttons # 15414079206384228
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--noUI
    css-classes: 
    - btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: f8

- # ====== Button: Escape ======================================
  id: 15414525624384233
  identification: 
    button-name: Escape
    label: '-'

  layout: 
    sequence: 30
    region: Menu Buttons # 15414079206384228
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--noUI
    css-classes: 
    - invisible-btn

  behavior: 
    action: Redirect to Page in this Application
    target: 
      url: 'f?p=&APP_ID.:58:&SESSION.::&DEBUG.::P58_CUSTOMER_ID:&P60_CUSTOMER_ID.'
      page: 58 # Add/Update Customer
      values: 
        p58_customer_id: '&P60_CUSTOMER_ID.'

    warn-on-unsaved-changes: Do Not Check

  advanced: 
    static-id: esc

- # ====== Button: Remove_Discount =============================
  id: 15970058212037508
  identification: 
    button-name: Remove_Discount
    label: <u>R</u> - Remove Discount

  layout: 
    sequence: 10
    region: DL Buttons # 15969973982037507
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    column-css-classes: 
    - btns
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--noUI
    css-classes: 
    - dialog-btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: remove

- # ====== Button: Add_Discount ================================
  id: 15970166515037509
  identification: 
    button-name: Add_Discount
    label: <u>A</u> - Add Discount

  layout: 
    sequence: 20
    region: DL Buttons # 15969973982037507
    slot: BODY
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--noUI
    css-classes: 
    - dialog-btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: add

- # ====== Button: Update_Discount =============================
  id: 15970236081037510
  identification: 
    button-name: Update_Discount
    label: <u>U</u> - Update Discount

  layout: 
    sequence: 30
    region: DL Buttons # 15969973982037507
    slot: BODY
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--noUI
    css-classes: 
    - dialog-btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: update

- # ====== Button: Add_Item_Department =========================
  id: 15971550810037523
  identification: 
    button-name: Add_Item_Department
    label: <u>D</u> - Add Item Department

  layout: 
    sequence: 10
    region: Item Categories # 15971013829037518
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--stretch
    css-classes: 
    - dialog-btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: d

- # ====== Button: Add_Item_SIC ================================
  id: 15971686478037524
  identification: 
    button-name: Add_Item_SIC
    label: <u>S</u> - Add Item SIC

  layout: 
    sequence: 20
    region: Item Categories # 15971013829037518
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--stretch
    css-classes: 
    - dialog-btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: s

- # ====== Button: Add_Item_Class ==============================
  id: 15971795326037525
  identification: 
    button-name: Add_Item_Class
    label: <u>C</u> - Add Item Class

  layout: 
    sequence: 30
    region: Item Categories # 15971013829037518
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--stretch
    css-classes: 
    - dialog-btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: c

- # ====== Button: IDL_Mark ====================================
  id: 15973324125037541
  identification: 
    button-name: IDL_Mark
    label: <u>M</u> - Mark/Unmark

  layout: 
    sequence: 10
    region: IDL Buttons # 15973279653037540
    slot: BODY
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--noUI
    - t-Button--stretch
    css-classes: 
    - dialog-btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: IDLm

- # ====== Button: IDL_Mark_All ================================
  id: 15973559571037543
  identification: 
    button-name: IDL_Mark_All
    label: <u>A</u> - Mark All

  layout: 
    sequence: 50
    region: IDL Buttons # 15973279653037540
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--noUI
    - t-Button--stretch
    css-classes: 
    - dialog-btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: IDLa

- # ====== Button: IDL_Search ==================================
  id: 15973673357037544
  identification: 
    button-name: IDL_Search
    label: <u>S</u> - Search

  layout: 
    sequence: 30
    region: IDL Buttons # 15973279653037540
    slot: BODY
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--noUI
    - t-Button--stretch
    css-classes: 
    - dialog-btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: IDLs

- # ====== Button: IDL_Unmark_All ==============================
  id: 15973737856037545
  identification: 
    button-name: IDL_Unmark_All
    label: <u>U</u> - Unmark All

  layout: 
    sequence: 70
    region: IDL Buttons # 15973279653037540
    slot: BODY
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--noUI
    - t-Button--stretch
    css-classes: 
    - dialog-btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: IDLu

- # ====== Button: ISL_Mark ====================================
  id: 16807039328342328
  identification: 
    button-name: ISL_Mark
    label: <u>M</u> - Mark/Unmark

  layout: 
    sequence: 10
    region: ISL Buttons # 16806969669342327
    slot: BODY
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--noUI
    - t-Button--stretch
    css-classes: 
    - dialog-btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: ISLm

- # ====== Button: ISL_Search ==================================
  id: 16807142445342329
  identification: 
    button-name: ISL_Search
    label: <u>S</u> - Search

  layout: 
    sequence: 30
    region: ISL Buttons # 16806969669342327
    slot: BODY
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--noUI
    - t-Button--stretch
    css-classes: 
    - dialog-btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: ISLs

- # ====== Button: ISL_Mark_All ================================
  id: 16807211123342330
  identification: 
    button-name: ISL_Mark_All
    label: <u>A</u> - Mark All

  layout: 
    sequence: 50
    region: ISL Buttons # 16806969669342327
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--noUI
    - t-Button--stretch
    css-classes: 
    - dialog-btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: ISLa

- # ====== Button: ISL_Unmark_All ==============================
  id: 16807329915342331
  identification: 
    button-name: ISL_Unmark_All
    label: <u>U</u> - Unmark All

  layout: 
    sequence: 70
    region: ISL Buttons # 16806969669342327
    slot: BODY
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--noUI
    - t-Button--stretch
    css-classes: 
    - dialog-btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: ISLu

- # ====== Button: ICL_Mark ====================================
  id: 16830495127409838
  identification: 
    button-name: ICL_Mark
    label: <u>M</u> - Mark/Unmark

  layout: 
    sequence: 10
    region: ISL Buttons # 16830368958409837
    slot: BODY
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--noUI
    - t-Button--stretch
    css-classes: 
    - dialog-btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: ICLm

- # ====== Button: ICL_Search ==================================
  id: 16830549227409839
  identification: 
    button-name: ICL_Search
    label: <u>S</u> - Search

  layout: 
    sequence: 10
    region: ISL Buttons # 16830368958409837
    slot: BODY
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--noUI
    - t-Button--stretch
    css-classes: 
    - dialog-btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: ICLs

- # ====== Button: ICL_Mark_All ================================
  id: 16830648980409840
  identification: 
    button-name: ICL_Mark_All
    label: <u>A</u> - Mark All

  layout: 
    sequence: 10
    region: ISL Buttons # 16830368958409837
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--noUI
    - t-Button--stretch
    css-classes: 
    - dialog-btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: ICLa

- # ====== Button: ICL_Unmark_All ==============================
  id: 16830730393409841
  identification: 
    button-name: ICL_Unmark_All
    label: <u>U</u> - Unmark All

  layout: 
    sequence: 10
    region: ISL Buttons # 16830368958409837
    slot: BODY
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--noUI
    - t-Button--stretch
    css-classes: 
    - dialog-btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: ICLu

- # ====== Button: Enter =======================================
  id: 16853539414755921
  identification: 
    button-name: Enter
    label: '-'

  layout: 
    sequence: 40
    region: Menu Buttons # 15414079206384228
    slot: BODY
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--noUI
    css-classes: 
    - invisible-btn

  behavior: 
    action: Submit Page
    execute-validations: true
    show-processing: false
    warn-on-unsaved-changes: Do Not Check

  advanced: 
    static-id: enter

- # ====== Button: Open_Discount_List ==========================
  id: 16856269513755948
  identification: 
    button-name: Open_Discount_List
    label: <u>F9</u> - Open Discount List

  layout: 
    sequence: 20
    region: Menu Buttons # 15414079206384228
    slot: BODY
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--noUI
    css-classes: 
    - btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: f9

- # ====== Button: No ==========================================
  id: 17194401387817148
  identification: 
    button-name: No
    label: <u>N</u> - No

  layout: 
    sequence: 20
    region: Discount List Reached Max # 17191529205817119
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--noUI
    - t-Button--stretch
    css-classes: 
    - reached-max-btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: DLRMn

- # ====== Button: Yes =========================================
  id: 17194594217817149
  identification: 
    button-name: Yes
    label: <u>Y</u> - Yes

  layout: 
    sequence: 40
    region: Discount List Reached Max # 17191529205817119
    slot: BODY
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--noUI
    - t-Button--stretch
    css-classes: 
    - reached-max-btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: DLRMy

dynamic-actions: 
- # ====== Dynamic Action: Department Search ===================
  id: 15414357271384231
  identification: 
    name: Department Search

  execution: 
    sequence: 10
    event-scope: Static
    type: Immediate

  when: 
    event: Custom
    custom-event: deptSearch
    selection-type: JavaScript Expression
    javascript-expression: document

  actions: 
  - # ====== Action: Close Region ================================
    id: 15414463356384232
    identification: 
      action: Close Region

    affected-elements: 
      selection-type: Region
      region: Department Search # 15973811692037546

    execution: 
      sequence: 40
      event: Department Search # 15414357271384231
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Execute JavaScript Code =====================
    id: 16322102744824702
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        var grid = apex.region('IDL-grid').widget().interactiveGrid('getViews').grid;
        grid.model.clearChanges(); // Clears unsaved changes to avoid warnings
        apex.region('IDL-grid').refresh(); // Refreshes the Interactive Grid
        
        // setTimeout(() => {
        //     $( document ).ready(function() {
        //         $(".js-confirmBtn").trigger("click");
        //     });
        // }, "500");
        
        setTimeout(() => {
            $( document ).ready(function() {
                $("#IDL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody .a-GV-cell").first().trigger("click");
            });
        }, "500");

    execution: 
      sequence: 60
      event: Department Search # 15414357271384231
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Execute JavaScript Code =====================
    id: 16322775829824708
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        let checkedArr = [];
        let uncheckedRowNum = [];
        $("#IDL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody").children(".a-GV-row").each( function () {
            if( $(this).find("input[type=checkbox]").attr( "checked" ) ){
                console.log($(this).attr("data-id") + ": Checked");
                checkedArr.push( Number($(this).attr("data-id")) );
            } else {
                uncheckedRowNum.push( Number($(this).attr("data-rownum")) );
            }
        });
        console.log("checked: " + checkedArr);
        console.log("Unchecked Row Id: " + uncheckedRowNum);
        
        apex.server.process(
            'IDL_SEARCH',
            {   
                x01: $("#P60_DEPARTMENT_SEARCH").val(),
                f02: uncheckedRowNum
            },
            {
                dataType: 'text', 
                success: function(data){
                    if(data == 'Error in closing cases !'){
                        apex.message.showErrors({
                            type: 'error',
                            location: 'page',
                            message: data
                        });  
                    } else {
                        console.log('Selected cases closed')
                    }
                }
            }
        );
        
        setTimeout(() => {
            $( document ).ready(function() {
                console.log("Execute")
                $("#IDL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody").children(".a-GV-row").each( function () {
                    for (let i = 0; i < checkedArr.length; i++){
                        if( $(this).attr("data-id") ==  checkedArr[i]){
                            console.log(checkedArr[i]);
                            $(this).find("input[type=checkbox]").trigger("click");
                        }
                    }
                });
            });
        }, "500");
        
        

    execution: 
      sequence: 10
      event: Department Search # 15414357271384231
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Refresh =====================================
    id: 16323834670824719
    identification: 
      action: Refresh

    affected-elements: 
      selection-type: Region
      region: Item Dept Grid # 15972324377037531

    execution: 
      sequence: 50
      event: Department Search # 15414357271384231
      fire-when-event-result-is: True
      fire-on-initialization: false

    configuration: 
      build-option: Commented Out # 4207224469083906

- # ====== Dynamic Action: Open Discount List ==================
  id: 15783064595117647
  identification: 
    name: Open Discount List

  execution: 
    sequence: 40
    event-scope: Static

  when: 
    event: Page Load

  server-side-condition: 
    type: Item = Value
    item: P60_PAGE_STATUS
    value: v

  actions: 
  - # ====== Action: Open Region =================================
    id: 15783130170117648
    identification: 
      action: Open Region

    affected-elements: 
      selection-type: Region
      region: Discount List # 15782991626117646

    execution: 
      sequence: 10
      event: Open Discount List # 15783064595117647
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Execute JavaScript Code =====================
    id: 15970483990037512
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        mapP60KeysDL();
        $("#discount-list_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody .a-GV-cell").first().trigger("click");

    execution: 
      sequence: 20
      event: Open Discount List # 15783064595117647
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Create Collections ==================
  id: 15970542050037513
  identification: 
    name: Create Collections

  execution: 
    sequence: 50
    event-scope: Static

  when: 
    event: Page Load

  actions: 
  - # ====== Action: ITEMDEPT ====================================
    id: 15970690963037514
    identification: 
      name: ITEMDEPT
      action: Execute Server-side Code

    settings: 
      language: PE.PROPERTY.SOURCE_SNIPPET_LANG.LOV.PLSQL.D
      pl/sql-code: |
        DECLARE
            v_collection_name varchar2(20) := 'ITEMDEPT';
        BEGIN
            -- IF NOT apex_collection.collection_exists(p_collection_name => v_collection_name) THEN
            APEX_COLLECTION.CREATE_OR_TRUNCATE_COLLECTION(v_collection_name);
            -- END IF;
        
            EXCEPTION WHEN others THEN
                raise_application_error(-2000,DBMS_UTILITY.format_error_backtrace);
        END;

    execution: 
      sequence: 10
      event: Create Collections # 15970542050037513
      fire-when-event-result-is: True
      fire-on-initialization: false
      stop-execution-on-error: true
      wait-for-result: true

  - # ====== Action: ITEMDEPTLIST ================================
    id: 15972570608037533
    identification: 
      name: ITEMDEPTLIST
      action: Execute Server-side Code

    settings: 
      language: PE.PROPERTY.SOURCE_SNIPPET_LANG.LOV.PLSQL.D
      pl/sql-code: |
        DECLARE
            v_collection_name varchar2(20) := 'ITEMDEPTLIST';
        BEGIN
            -- IF NOT apex_collection.collection_exists(p_collection_name => v_collection_name) THEN
            APEX_COLLECTION.CREATE_OR_TRUNCATE_COLLECTION(v_collection_name);
            -- END IF;
        
            EXCEPTION WHEN others THEN
                raise_application_error(-2000,DBMS_UTILITY.format_error_backtrace);
        END;

    execution: 
      sequence: 20
      event: Create Collections # 15970542050037513
      fire-when-event-result-is: True
      fire-on-initialization: false
      stop-execution-on-error: true
      wait-for-result: true

  - # ====== Action: ITEMSIC =====================================
    id: 16326644564824747
    identification: 
      name: ITEMSIC
      action: Execute Server-side Code

    settings: 
      language: PE.PROPERTY.SOURCE_SNIPPET_LANG.LOV.PLSQL.D
      pl/sql-code: |
        DECLARE
            v_collection_name varchar2(20) := 'ITEMSIC';
        BEGIN
            -- IF NOT apex_collection.collection_exists(p_collection_name => v_collection_name) THEN
            APEX_COLLECTION.CREATE_OR_TRUNCATE_COLLECTION(v_collection_name);
            -- END IF;
        
            EXCEPTION WHEN others THEN
                raise_application_error(-2000,DBMS_UTILITY.format_error_backtrace);
        END;

    execution: 
      sequence: 30
      event: Create Collections # 15970542050037513
      fire-when-event-result-is: True
      fire-on-initialization: false
      stop-execution-on-error: true
      wait-for-result: true

  - # ====== Action: ITEMSICLIST =================================
    id: 16326799829824748
    identification: 
      name: ITEMSICLIST
      action: Execute Server-side Code

    settings: 
      language: PE.PROPERTY.SOURCE_SNIPPET_LANG.LOV.PLSQL.D
      pl/sql-code: |
        DECLARE
            v_collection_name varchar2(20) := 'ITEMSICLIST';
        BEGIN
            -- IF NOT apex_collection.collection_exists(p_collection_name => v_collection_name) THEN
            APEX_COLLECTION.CREATE_OR_TRUNCATE_COLLECTION(v_collection_name);
            -- END IF;
        
            EXCEPTION WHEN others THEN
                raise_application_error(-2000,DBMS_UTILITY.format_error_backtrace);
        END;

    execution: 
      sequence: 40
      event: Create Collections # 15970542050037513
      fire-when-event-result-is: True
      fire-on-initialization: false
      stop-execution-on-error: true
      wait-for-result: true

  - # ====== Action: ITEMCLASS ===================================
    id: 16326850780824749
    identification: 
      name: ITEMCLASS
      action: Execute Server-side Code

    settings: 
      language: PE.PROPERTY.SOURCE_SNIPPET_LANG.LOV.PLSQL.D
      pl/sql-code: |
        DECLARE
            v_collection_name varchar2(20) := 'ITEMCLASS';
        BEGIN
            -- IF NOT apex_collection.collection_exists(p_collection_name => v_collection_name) THEN
            APEX_COLLECTION.CREATE_OR_TRUNCATE_COLLECTION(v_collection_name);
            -- END IF;
        
            EXCEPTION WHEN others THEN
                raise_application_error(-2000,DBMS_UTILITY.format_error_backtrace);
        END;

    execution: 
      sequence: 50
      event: Create Collections # 15970542050037513
      fire-when-event-result-is: True
      fire-on-initialization: false
      stop-execution-on-error: true
      wait-for-result: true

  - # ====== Action: ITEMCLASSLIST ===============================
    id: 16326915308824750
    identification: 
      name: ITEMCLASSLIST
      action: Execute Server-side Code

    settings: 
      language: PE.PROPERTY.SOURCE_SNIPPET_LANG.LOV.PLSQL.D
      pl/sql-code: |
        DECLARE
            v_collection_name varchar2(20) := 'ITEMCLASSLIST';
        BEGIN
            -- IF NOT apex_collection.collection_exists(p_collection_name => v_collection_name) THEN
            APEX_COLLECTION.CREATE_OR_TRUNCATE_COLLECTION(v_collection_name);
            -- END IF;
        
            EXCEPTION WHEN others THEN
                raise_application_error(-2000,DBMS_UTILITY.format_error_backtrace);
        END;

    execution: 
      sequence: 60
      event: Create Collections # 15970542050037513
      fire-when-event-result-is: True
      fire-on-initialization: false
      stop-execution-on-error: true
      wait-for-result: true

  - # ====== Action: ITEMDEPT POPULATE ===========================
    id: 16944627584657831
    identification: 
      name: ITEMDEPT POPULATE
      action: Execute Server-side Code

    settings: 
      language: PE.PROPERTY.SOURCE_SNIPPET_LANG.LOV.PLSQL.D
      pl/sql-code: |
        DECLARE
            v_collection_name varchar2(20) := 'ITEMDEPT';
            CURSOR c_dept IS 
            SELECT
                a.DEPT_ID, a.DEPT_NAME
            FROM NIM024 a, NPT029 b
            WHERE a.DEPT_ID = b.DEPT_ID AND b.DISCOUNT_ID = :P60_DISCOUNT_ID;
        BEGIN
            FOR c IN c_dept LOOP
                apex_collection.add_member (p_collection_name => 'ITEMDEPT',
                    p_n001 => c.DEPT_ID,
                    p_c001 => c.DEPT_NAME
                );
            END LOOP;
        
            -- EXCEPTION WHEN others THEN
            --     raise_application_error(-2000,DBMS_UTILITY.format_error_backtrace);
        END;
      items-to-submit: 
      - P60_DISCOUNT_ID

    execution: 
      sequence: 70
      event: Create Collections # 15970542050037513
      fire-when-event-result-is: True
      fire-on-initialization: false
      stop-execution-on-error: true
      wait-for-result: true

    server-side-condition: 
      type: Item is NOT NULL
      item: P60_DISCOUNT_ID

  - # ====== Action: ITEMSIC POPULATE ============================
    id: 16944707739657832
    identification: 
      name: ITEMSIC POPULATE
      action: Execute Server-side Code

    settings: 
      language: PE.PROPERTY.SOURCE_SNIPPET_LANG.LOV.PLSQL.D
      pl/sql-code: |
        DECLARE
            v_collection_name varchar2(20) := 'ITEMSIC';
            CURSOR c_sic IS 
            SELECT
                a.SIC_ID, a.SIC_NAME
            FROM NIM023 a, NPT028 b
            WHERE a.SIC_ID = b.SIC_ID AND b.DISCOUNT_ID = :P60_DISCOUNT_ID;
        BEGIN
            FOR c IN c_sic LOOP
                apex_collection.add_member (p_collection_name => 'ITEMSIC',
                    p_n001 => c.SIC_ID,
                    p_c001 => c.SIC_NAME
                );
            END LOOP;
        
            -- EXCEPTION WHEN others THEN
            --     raise_application_error(-2000,DBMS_UTILITY.format_error_backtrace);
        END;
      items-to-submit: 
      - P60_DISCOUNT_ID

    execution: 
      sequence: 80
      event: Create Collections # 15970542050037513
      fire-when-event-result-is: True
      fire-on-initialization: false
      stop-execution-on-error: true
      wait-for-result: true

    server-side-condition: 
      type: Item is NOT NULL
      item: P60_DISCOUNT_ID

  - # ====== Action: ITEMCLASS POPULATE ==========================
    id: 16944872543657833
    identification: 
      name: ITEMCLASS POPULATE
      action: Execute Server-side Code

    settings: 
      language: PE.PROPERTY.SOURCE_SNIPPET_LANG.LOV.PLSQL.D
      pl/sql-code: |
        DECLARE
            v_collection_name varchar2(20) := 'ITEMCLASS';
            CURSOR c_class IS 
            SELECT
                a.CLASS_ID, a.CLASS_NAME
            FROM NIM025 a, NPT030 b
            WHERE a.CLASS_ID = b.CLASS_ID AND b.DISCOUNT_ID = :P60_DISCOUNT_ID;
        BEGIN
            FOR c IN c_class LOOP
                apex_collection.add_member (p_collection_name => 'ITEMCLASS',
                    p_n001 => c.CLASS_ID,
                    p_c001 => c.CLASS_NAME
                );
            END LOOP;
        
            -- EXCEPTION WHEN others THEN
            --     raise_application_error(-2000,DBMS_UTILITY.format_error_backtrace);
        END;
      items-to-submit: 
      - P60_DISCOUNT_ID

    execution: 
      sequence: 90
      event: Create Collections # 15970542050037513
      fire-when-event-result-is: True
      fire-on-initialization: false
      stop-execution-on-error: true
      wait-for-result: true

    server-side-condition: 
      type: Item is NOT NULL
      item: P60_DISCOUNT_ID

  - # ====== Action: Refresh =====================================
    id: 16944907231657834
    identification: 
      action: Refresh

    affected-elements: 
      selection-type: Region
      region: Item Department # 15415539041384243

    execution: 
      sequence: 100
      event: Create Collections # 15970542050037513
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Refresh =====================================
    id: 16945048460657835
    identification: 
      action: Refresh

    affected-elements: 
      selection-type: Region
      region: Item SIC # 16326206584824743

    execution: 
      sequence: 110
      event: Create Collections # 15970542050037513
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Refresh =====================================
    id: 16945146897657836
    identification: 
      action: Refresh

    affected-elements: 
      selection-type: Region
      region: Item Class # 16851704184755903

    execution: 
      sequence: 120
      event: Create Collections # 15970542050037513
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Open Dialog =========================
  id: 15971169885037519
  identification: 
    name: Open Dialog

  execution: 
    sequence: 60
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: Add_Item_Categories # 15414266065384230

  actions: 
  - # ====== Action: Open Region =================================
    id: 15971253393037520
    identification: 
      action: Open Region

    affected-elements: 
      selection-type: Region
      region: Item Categories # 15971013829037518

    execution: 
      sequence: 10
      event: Open Dialog # 15971169885037519
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Execute JavaScript Code =====================
    id: 15971363289037521
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: mapP60KeysIC();

    execution: 
      sequence: 20
      event: Open Dialog # 15971169885037519
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Open Item Department List ===========
  id: 15971869311037526
  identification: 
    name: Open Item Department List

  execution: 
    sequence: 70
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: Add_Item_Department # 15971550810037523

  actions: 
  - # ====== Action: Close Region ================================
    id: 15972092677037528
    identification: 
      action: Close Region

    affected-elements: 
      selection-type: Region
      region: Item Categories # 15971013829037518

    execution: 
      sequence: 30
      event: Open Item Department List # 15971869311037526
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Open Region =================================
    id: 15972160159037529
    identification: 
      action: Open Region

    affected-elements: 
      selection-type: Region
      region: Item Department List # 15972259744037530

    execution: 
      sequence: 40
      event: Open Item Department List # 15971869311037526
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Execute JavaScript Code =====================
    id: 15973436635037542
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        mapP60KeysIDL();
        setTimeout(() => {
            $( document ).ready(function() {
                $("#IDL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody .a-GV-cell").first().trigger("click");
            });
        }, "500");

    execution: 
      sequence: 70
      event: Open Item Department List # 15971869311037526
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Execute Server-side Code ====================
    id: 16324716281824728
    identification: 
      action: Execute Server-side Code

    settings: 
      language: PE.PROPERTY.SOURCE_SNIPPET_LANG.LOV.PLSQL.D
      pl/sql-code: |
        DECLARE
            l_selected_ids NUMBER;
            CURSOR c_dept IS 
            SELECT n001, c001
            FROM APEX_COLLECTIONS
            WHERE COLLECTION_NAME = 'ITEMDEPT';
        BEGIN
            APEX_COLLECTION.TRUNCATE_COLLECTION ('ITEMDEPTLIST');
            SELECT
                COUNT(n001)
            INTO l_selected_ids
            FROM APEX_COLLECTIONS
            WHERE COLLECTION_NAME = 'ITEMDEPT';
        
            IF
                l_selected_ids > 0 THEN
                FOR c IN c_dept LOOP
                    apex_collection.add_member (p_collection_name => 'ITEMDEPTLIST',
                        p_n001 => c.n001,
                        p_c001 => c.c001
                    );
                END LOOP;
            END IF;
            
            APEX_COLLECTION.RESEQUENCE_COLLECTION ('ITEMDEPTLIST');
        END;

    execution: 
      sequence: 10
      event: Open Item Department List # 15971869311037526
      fire-when-event-result-is: True
      fire-on-initialization: false
      stop-execution-on-error: true
      wait-for-result: true

  - # ====== Action: Execute JavaScript Code =====================
    id: 16325312907824734
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        var grid = apex.region('IDL-grid').widget().interactiveGrid('getViews').grid;
        // grid.model.clearChanges(); // Clears unsaved changes to avoid warnings
        apex.region('IDL-grid').refresh(); // Refreshes the Interactive Grid
        
        setTimeout(() => {
            $( document ).ready(function() {
                $(".js-confirmBtn").trigger("click");
            });
            setTimeout(() => {
                $( document ).ready(function() {
                    $("#IDL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody .a-GV-cell").first().trigger("click");
                });
            }, "500");
        }, "500");
        
        

    execution: 
      sequence: 60
      event: Open Item Department List # 15971869311037526
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Refresh =====================================
    id: 16325604056824737
    identification: 
      action: Refresh

    affected-elements: 
      selection-type: Region
      region: Item Dept Grid # 15972324377037531

    execution: 
      sequence: 20
      event: Open Item Department List # 15971869311037526
      fire-when-event-result-is: True
      fire-on-initialization: false

    configuration: 
      build-option: Commented Out # 4207224469083906

- # ====== Dynamic Action: Open Department Search ==============
  id: 15974007637037548
  identification: 
    name: Open Department Search

  execution: 
    sequence: 100
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: IDL_Search # 15973673357037544

  actions: 
  - # ====== Action: Open Region =================================
    id: 15974170630037549
    identification: 
      action: Open Region

    affected-elements: 
      selection-type: Region
      region: Department Search # 15973811692037546

    execution: 
      sequence: 10
      event: Open Department Search # 15974007637037548
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Execute JavaScript Code =====================
    id: 15974268159037550
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: mapP60KeysIDS();

    execution: 
      sequence: 20
      event: Open Department Search # 15974007637037548
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Mark/Unmark IDL =====================
  id: 16323992153824720
  identification: 
    name: Mark/Unmark IDL

  execution: 
    sequence: 130
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: IDL_Mark # 15973324125037541

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 16324018986824721
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        // if( $(".is-selected").find("input[type=checkbox]").is(':checked') ){
        //     $(".is-selected").find("input[type=checkbox]").prop( "checked", false );
        // } else {
        //     $(".is-selected").find("input[type=checkbox]").prop( "checked", true );
        // }
        
        $(".is-selected").find("input[type=checkbox]").trigger( "click" );

    execution: 
      sequence: 10
      event: Mark/Unmark IDL # 16323992153824720
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Mark All IDL ========================
  id: 16324188395824722
  identification: 
    name: Mark All IDL

  execution: 
    sequence: 160
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: IDL_Mark_All # 15973559571037543

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 16324266590824723
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        $("#IDL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody").children(".a-GV-row").each( function () {
            if( !$(this).find("input[type=checkbox]").is(':checked') ){
                $(this).find("input[type=checkbox]").trigger("click");
            }
        });

    execution: 
      sequence: 10
      event: Mark All IDL # 16324188395824722
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Unmark All IDL ======================
  id: 16324329499824724
  identification: 
    name: Unmark All IDL

  execution: 
    sequence: 190
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: IDL_Unmark_All # 15973737856037545

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 16324420975824725
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        $("#IDL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody").children(".a-GV-row").each( function () {
            if( $(this).find("input[type=checkbox]").is(':checked') ){
                $(this).find("input[type=checkbox]").trigger("click");
            }
        });

    execution: 
      sequence: 10
      event: Unmark All IDL # 16324329499824724
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Department Close Dialog =============
  id: 16324541693824726
  identification: 
    name: Department Close Dialog

  execution: 
    sequence: 220
    event-scope: Static
    type: Immediate

  when: 
    event: Custom
    custom-event: departmentCloseDialog
    selection-type: JavaScript Expression
    javascript-expression: document

  actions: 
  - # ====== Action: Execute Server-side Code ====================
    id: 16324678405824727
    identification: 
      action: Execute Server-side Code

    settings: 
      language: PE.PROPERTY.SOURCE_SNIPPET_LANG.LOV.PLSQL.D
      pl/sql-code: |
        BEGIN
            APEX_COLLECTION.TRUNCATE_COLLECTION ('ITEMDEPTLIST');
            APEX_COLLECTION.RESEQUENCE_COLLECTION ('ITEMDEPTLIST');
        END;

    execution: 
      sequence: 10
      event: Department Close Dialog # 16324541693824726
      fire-when-event-result-is: True
      fire-on-initialization: false
      stop-execution-on-error: true
      wait-for-result: true

- # ====== Dynamic Action: Department Enter ====================
  id: 16324810379824729
  identification: 
    name: Department Enter

  execution: 
    sequence: 250
    event-scope: Static
    type: Immediate

  when: 
    event: Custom
    custom-event: departmentEnter
    selection-type: JavaScript Expression
    javascript-expression: document

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 16325114311824732
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        let uncheckedRowNum = [];
        $("#IDL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody").children(".a-GV-row").each( function () {
            if( !$(this).find("input[type=checkbox]").is(":checked") ){
                uncheckedRowNum.push( Number($(this).attr("data-rownum")) );
            }
        });
        console.log("Unchecked rows to remove: " + uncheckedRowNum)
        apex.server.process(
            'IDL_REMOVE_UNCHECKED',
            {   
                f01: uncheckedRowNum
            },
            {
                dataType: 'text', 
                success: function(data){
                    if(data == 'Error in closing cases !'){
                        apex.message.showErrors({
                            type: 'error',
                            location: 'page',
                            message: data
                        });  
                    } else {
                        console.log('Selected cases closed')
                    }
                }
            }
        );

    execution: 
      sequence: 10
      event: Department Enter # 16324810379824729
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Close Region ================================
    id: 16325588184824736
    identification: 
      action: Close Region

    affected-elements: 
      selection-type: Region
      region: Item Department List # 15972259744037530

    execution: 
      sequence: 40
      event: Department Enter # 16324810379824729
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Execute JavaScript Code =====================
    id: 16326142719824742
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        var grid = apex.region('departmentGrid').widget().interactiveGrid('getViews').grid;
        // grid.model.clearChanges(); // Clears unsaved changes to avoid warnings
        setTimeout(() => {
            $( document ).ready(function() {
                apex.region('departmentGrid').refresh(); // Refreshes the Interactive Grid
            });
        }, "500");
        
        // js-confirmBtn
        setTimeout(() => {
            $( document ).ready(function() {
                $(".js-confirmBtn").trigger("click");
            });
        }, "500");

    execution: 
      sequence: 20
      event: Department Enter # 16324810379824729
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Mark/Unmark ISL =====================
  id: 16808309775342341
  identification: 
    name: Mark/Unmark ISL

  execution: 
    sequence: 140
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: ISL_Mark # 16807039328342328

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 16808413001342342
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        // if( $(".is-selected").find("input[type=checkbox]").is(':checked') ){
        //     $(".is-selected").find("input[type=checkbox]").prop( "checked", false );
        // } else {
        //     $(".is-selected").find("input[type=checkbox]").prop( "checked", true );
        // }
        
        $(".is-selected").find("input[type=checkbox]").trigger( "click" );

    execution: 
      sequence: 10
      event: Mark/Unmark ISL # 16808309775342341
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Open SIC Search =====================
  id: 16808539855342343
  identification: 
    name: Open SIC Search

  execution: 
    sequence: 110
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: ISL_Search # 16807142445342329

  actions: 
  - # ====== Action: Open Region =================================
    id: 16808666957342344
    identification: 
      action: Open Region

    affected-elements: 
      selection-type: Region
      region: SIC Search # 16809274825342350

    execution: 
      sequence: 10
      event: Open SIC Search # 16808539855342343
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Execute JavaScript Code =====================
    id: 16808757827342345
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: mapP60KeysISS();

    execution: 
      sequence: 20
      event: Open SIC Search # 16808539855342343
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Mark All ISL ========================
  id: 16808801658342346
  identification: 
    name: Mark All ISL

  execution: 
    sequence: 170
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: ISL_Mark_All # 16807211123342330

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 16808964803342347
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        $("#ISL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody").children(".a-GV-row").each( function () {
            if( !$(this).find("input[type=checkbox]").is(':checked') ){
                $(this).find("input[type=checkbox]").trigger("click");
            }
        });

    execution: 
      sequence: 10
      event: Mark All ISL # 16808801658342346
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Unmark All ISL ======================
  id: 16809002122342348
  identification: 
    name: Unmark All ISL

  execution: 
    sequence: 200
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: ISL_Unmark_All # 16807329915342331

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 16809195572342349
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        $("#ISL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody").children(".a-GV-row").each( function () {
            if( $(this).find("input[type=checkbox]").is(':checked') ){
                $(this).find("input[type=checkbox]").trigger("click");
            }
        });

    execution: 
      sequence: 10
      event: Unmark All ISL # 16809002122342348
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Open Item SIC List ==================
  id: 16826848047409802
  identification: 
    name: Open Item SIC List

  execution: 
    sequence: 80
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: Add_Item_SIC # 15971686478037524

  actions: 
  - # ====== Action: Execute Server-side Code ====================
    id: 16826994326409803
    identification: 
      action: Execute Server-side Code

    settings: 
      language: PE.PROPERTY.SOURCE_SNIPPET_LANG.LOV.PLSQL.D
      pl/sql-code: |
        DECLARE
            l_selected_ids NUMBER;
            CURSOR c_dept IS 
            SELECT n001, c001
            FROM APEX_COLLECTIONS
            WHERE COLLECTION_NAME = 'ITEMSIC';
        BEGIN
            APEX_COLLECTION.TRUNCATE_COLLECTION ('ITEMSICLIST');
            SELECT
                COUNT(n001)
            INTO l_selected_ids
            FROM APEX_COLLECTIONS
            WHERE COLLECTION_NAME = 'ITEMSIC';
        
            IF
                l_selected_ids > 0 THEN
                FOR c IN c_dept LOOP
                    apex_collection.add_member (p_collection_name => 'ITEMSICLIST',
                        p_n001 => c.n001,
                        p_c001 => c.c001
                    );
                END LOOP;
            END IF;
            
            APEX_COLLECTION.RESEQUENCE_COLLECTION ('ITEMSICLIST');
        END;

    execution: 
      sequence: 10
      event: Open Item SIC List # 16826848047409802
      fire-when-event-result-is: True
      fire-on-initialization: false
      stop-execution-on-error: true
      wait-for-result: true

  - # ====== Action: Close Region ================================
    id: 16827199035409805
    identification: 
      action: Close Region

    affected-elements: 
      selection-type: Region
      region: Item Categories # 15971013829037518

    execution: 
      sequence: 30
      event: Open Item SIC List # 16826848047409802
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Open Region =================================
    id: 16827245866409806
    identification: 
      action: Open Region

    affected-elements: 
      selection-type: Region
      region: Item SIC List # 16806302756342321

    execution: 
      sequence: 40
      event: Open Item SIC List # 16826848047409802
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Execute JavaScript Code =====================
    id: 16827326667409807
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        var grid = apex.region('ISL-grid').widget().interactiveGrid('getViews').grid;
        // grid.model.clearChanges(); // Clears unsaved changes to avoid warnings
        apex.region('ISL-grid').refresh(); // Refreshes the Interactive Grid
        
        setTimeout(() => {
            $( document ).ready(function() {
                $(".js-confirmBtn").trigger("click");
            });
            setTimeout(() => {
                $( document ).ready(function() {
                    $("#ISL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody .a-GV-cell").first().trigger("click");
                });
            }, "500");
        }, "500");
        
        

    execution: 
      sequence: 50
      event: Open Item SIC List # 16826848047409802
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Execute JavaScript Code =====================
    id: 16827464812409808
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        mapP60KeysISL();
        setTimeout(() => {
            $( document ).ready(function() {
                $("#ISL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody .a-GV-cell").first().trigger("click");
            });
        }, "500");

    execution: 
      sequence: 60
      event: Open Item SIC List # 16826848047409802
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: SIC Search ==========================
  id: 16827582986409809
  identification: 
    name: SIC Search

  execution: 
    sequence: 20
    event-scope: Static
    type: Immediate

  when: 
    event: Custom
    custom-event: sicSearch
    selection-type: JavaScript Expression
    javascript-expression: document

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 16827612712409810
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        let checkedArr = [];
        let uncheckedRowNum = [];
        $("#ISL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody").children(".a-GV-row").each( function () {
            if( $(this).find("input[type=checkbox]").attr( "checked" ) ){
                console.log($(this).attr("data-id") + ": Checked");
                checkedArr.push( Number($(this).attr("data-id")) );
            } else {
                uncheckedRowNum.push( Number($(this).attr("data-rownum")) );
            }
        });
        console.log("checked: " + checkedArr);
        console.log("Unchecked Row Id: " + uncheckedRowNum);
        
        apex.server.process(
            'ISL_SEARCH',
            {   
                x01: $("#P60_SIC_SEARCH").val(),
                f02: uncheckedRowNum
            },
            {
                dataType: 'text', 
                success: function(data){
                    if(data == 'Error in closing cases !'){
                        apex.message.showErrors({
                            type: 'error',
                            location: 'page',
                            message: data
                        });  
                    } else {
                        console.log('Selected cases closed')
                    }
                }
            }
        );
        
        setTimeout(() => {
            $( document ).ready(function() {
                $("#ISL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody").children(".a-GV-row").each( function () {
                    for (let i = 0; i < checkedArr.length; i++){
                        if( $(this).attr("data-id") ==  checkedArr[i]){
                            console.log(checkedArr[i]);
                            $(this).find("input[type=checkbox]").trigger("click");
                        }
                    }
                });
            });
        }, "500");
        
        

    execution: 
      sequence: 10
      event: SIC Search # 16827582986409809
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Close Region ================================
    id: 16827741932409811
    identification: 
      action: Close Region

    affected-elements: 
      selection-type: Region
      region: SIC Search # 16809274825342350

    execution: 
      sequence: 20
      event: SIC Search # 16827582986409809
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Execute JavaScript Code =====================
    id: 16827997305409813
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        var grid = apex.region('ISL-grid').widget().interactiveGrid('getViews').grid;
        grid.model.clearChanges(); // Clears unsaved changes to avoid warnings
        apex.region('ISL-grid').refresh(); // Refreshes the Interactive Grid
        
        // setTimeout(() => {
        //     $( document ).ready(function() {
        //         $(".js-confirmBtn").trigger("click");
        //     });
        // }, "500");
        
        setTimeout(() => {
            $( document ).ready(function() {
                $("#ISL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody .a-GV-cell").first().trigger("click");
            });
        }, "500");

    execution: 
      sequence: 40
      event: SIC Search # 16827582986409809
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: SIC Close Dialog ====================
  id: 16828001325409814
  identification: 
    name: SIC Close Dialog

  execution: 
    sequence: 230
    event-scope: Static
    type: Immediate

  when: 
    event: Custom
    custom-event: sicCloseDialog
    selection-type: JavaScript Expression
    javascript-expression: document

  actions: 
  - # ====== Action: Execute Server-side Code ====================
    id: 16828121082409815
    identification: 
      action: Execute Server-side Code

    settings: 
      language: PE.PROPERTY.SOURCE_SNIPPET_LANG.LOV.PLSQL.D
      pl/sql-code: |
        BEGIN
            APEX_COLLECTION.TRUNCATE_COLLECTION ('ITEMSICLIST');
            APEX_COLLECTION.RESEQUENCE_COLLECTION ('ITEMSICLIST');
        END;

    execution: 
      sequence: 10
      event: SIC Close Dialog # 16828001325409814
      fire-when-event-result-is: True
      fire-on-initialization: false
      stop-execution-on-error: true
      wait-for-result: true

- # ====== Dynamic Action: SIC Enter ===========================
  id: 16828208335409816
  identification: 
    name: SIC Enter

  execution: 
    sequence: 260
    event-scope: Static
    type: Immediate

  when: 
    event: Custom
    custom-event: sicEnter
    selection-type: JavaScript Expression
    javascript-expression: document

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 16828352856409817
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        let uncheckedRowNum = [];
        $("#ISL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody").children(".a-GV-row").each( function () {
            if( !$(this).find("input[type=checkbox]").is(":checked") ){
                uncheckedRowNum.push( Number($(this).attr("data-rownum")) );
            }
        });
        console.log("Unchecked rows to remove: " + uncheckedRowNum)
        apex.server.process(
            'ISL_REMOVE_UNCHECKED',
            {   
                f01: uncheckedRowNum
            },
            {
                dataType: 'text', 
                success: function(data){
                    if(data == 'Error in closing cases !'){
                        apex.message.showErrors({
                            type: 'error',
                            location: 'page',
                            message: data
                        });  
                    } else {
                        console.log('Selected cases closed')
                    }
                }
            }
        );

    execution: 
      sequence: 10
      event: SIC Enter # 16828208335409816
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Execute JavaScript Code =====================
    id: 16828493653409818
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        var grid = apex.region('sicGrid').widget().interactiveGrid('getViews').grid;
        // grid.model.clearChanges(); // Clears unsaved changes to avoid warnings
        setTimeout(() => {
            $( document ).ready(function() {
                apex.region('sicGrid').refresh(); // Refreshes the Interactive Grid
            });
        }, "500");
        
        // js-confirmBtn
        setTimeout(() => {
            $( document ).ready(function() {
                $(".js-confirmBtn").trigger("click");
            });
        }, "500");

    execution: 
      sequence: 20
      event: SIC Enter # 16828208335409816
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Close Region ================================
    id: 16828655383409820
    identification: 
      action: Close Region

    affected-elements: 
      selection-type: Region
      region: Item SIC List # 16806302756342321

    execution: 
      sequence: 40
      event: SIC Enter # 16828208335409816
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Open Item Class List ================
  id: 16829129274409825
  identification: 
    name: Open Item Class List

  execution: 
    sequence: 90
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: Add_Item_Class # 15971795326037525

  actions: 
  - # ====== Action: Execute Server-side Code ====================
    id: 16829216785409826
    identification: 
      action: Execute Server-side Code

    settings: 
      language: PE.PROPERTY.SOURCE_SNIPPET_LANG.LOV.PLSQL.D
      pl/sql-code: |
        DECLARE
            l_selected_ids NUMBER;
            CURSOR c_dept IS 
            SELECT n001, c001
            FROM APEX_COLLECTIONS
            WHERE COLLECTION_NAME = 'ITEMCLASS';
        BEGIN
            APEX_COLLECTION.TRUNCATE_COLLECTION ('ITEMCLASSLIST');
            SELECT
                COUNT(n001)
            INTO l_selected_ids
            FROM APEX_COLLECTIONS
            WHERE COLLECTION_NAME = 'ITEMCLASS';
        
            IF
                l_selected_ids > 0 THEN
                FOR c IN c_dept LOOP
                    apex_collection.add_member (p_collection_name => 'ITEMCLASSLIST',
                        p_n001 => c.n001,
                        p_c001 => c.c001
                    );
                END LOOP;
            END IF;
            
            APEX_COLLECTION.RESEQUENCE_COLLECTION ('ITEMCLASSLIST');
        END;

    execution: 
      sequence: 10
      event: Open Item Class List # 16829129274409825
      fire-when-event-result-is: True
      fire-on-initialization: false
      stop-execution-on-error: true
      wait-for-result: true

  - # ====== Action: Close Region ================================
    id: 16829346570409827
    identification: 
      action: Close Region

    affected-elements: 
      selection-type: Region
      region: Item Categories # 15971013829037518

    execution: 
      sequence: 20
      event: Open Item Class List # 16829129274409825
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Open Region =================================
    id: 16829484558409828
    identification: 
      action: Open Region

    affected-elements: 
      selection-type: Region
      region: Item Class List # 16829754130409831

    execution: 
      sequence: 30
      event: Open Item Class List # 16829129274409825
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Execute JavaScript Code =====================
    id: 16829590347409829
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        var grid = apex.region('ICL-grid').widget().interactiveGrid('getViews').grid;
        // grid.model.clearChanges(); // Clears unsaved changes to avoid warnings
        apex.region('ICL-grid').refresh(); // Refreshes the Interactive Grid
        
        setTimeout(() => {
            $( document ).ready(function() {
                $(".js-confirmBtn").trigger("click");
            });
            setTimeout(() => {
                $( document ).ready(function() {
                    $("#ICL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody .a-GV-cell").first().trigger("click");
                });
            }, "500");
        }, "500");
        
        

    execution: 
      sequence: 40
      event: Open Item Class List # 16829129274409825
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Execute JavaScript Code =====================
    id: 16829687341409830
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        mapP60KeysICL();
        setTimeout(() => {
            $( document ).ready(function() {
                $("#ICL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody .a-GV-cell").first().trigger("click");
            });
        }, "500");

    execution: 
      sequence: 50
      event: Open Item Class List # 16829129274409825
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Mark/Unmark ICL =====================
  id: 16830850267409842
  identification: 
    name: Mark/Unmark ICL

  execution: 
    sequence: 150
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: ICL_Mark # 16830495127409838

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 16830903323409843
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        // if( $(".is-selected").find("input[type=checkbox]").is(':checked') ){
        //     $(".is-selected").find("input[type=checkbox]").prop( "checked", false );
        // } else {
        //     $(".is-selected").find("input[type=checkbox]").prop( "checked", true );
        // }
        
        $(".is-selected").find("input[type=checkbox]").trigger( "click" );

    execution: 
      sequence: 10
      event: Mark/Unmark ICL # 16830850267409842
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Open Class Search ===================
  id: 16831019524409844
  identification: 
    name: Open Class Search

  execution: 
    sequence: 120
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: ICL_Search # 16830549227409839

  actions: 
  - # ====== Action: Open Region =================================
    id: 16831168625409845
    identification: 
      action: Open Region

    affected-elements: 
      selection-type: Region
      region: Class Search # 16851530386755901

    execution: 
      sequence: 10
      event: Open Class Search # 16831019524409844
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Execute JavaScript Code =====================
    id: 16831221444409846
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: mapP60KeysICS();

    execution: 
      sequence: 20
      event: Open Class Search # 16831019524409844
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Mark All ICL ========================
  id: 16831346589409847
  identification: 
    name: Mark All ICL

  execution: 
    sequence: 180
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: ICL_Mark_All # 16830648980409840

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 16831420975409848
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        $("#ICL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody").children(".a-GV-row").each( function () {
            if( !$(this).find("input[type=checkbox]").is(':checked') ){
                $(this).find("input[type=checkbox]").trigger("click");
            }
        });

    execution: 
      sequence: 10
      event: Mark All ICL # 16831346589409847
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Unmark All ICL ======================
  id: 16831556267409849
  identification: 
    name: Unmark All ICL

  execution: 
    sequence: 210
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: ICL_Unmark_All # 16830730393409841

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 16831641260409850
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        $("#ICL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody").children(".a-GV-row").each( function () {
            if( $(this).find("input[type=checkbox]").is(':checked') ){
                $(this).find("input[type=checkbox]").trigger("click");
            }
        });

    execution: 
      sequence: 10
      event: Unmark All ICL # 16831556267409849
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Class Search ========================
  id: 16852156605755907
  identification: 
    name: Class Search

  execution: 
    sequence: 30
    event-scope: Static
    type: Immediate

  when: 
    event: Custom
    custom-event: classSearch
    selection-type: JavaScript Expression
    javascript-expression: document

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 16852234874755908
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        let checkedArr = [];
        let uncheckedRowNum = [];
        $("#ICL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody").children(".a-GV-row").each( function () {
            if( $(this).find("input[type=checkbox]").attr( "checked" ) ){
                console.log($(this).attr("data-id") + ": Checked");
                checkedArr.push( Number($(this).attr("data-id")) );
            } else {
                uncheckedRowNum.push( Number($(this).attr("data-rownum")) );
            }
        });
        console.log("checked: " + checkedArr);
        console.log("Unchecked Row Id: " + uncheckedRowNum);
        
        apex.server.process(
            'ICL_SEARCH',
            {   
                x01: $("#P60_CLASS_SEARCH").val(),
                f02: uncheckedRowNum
            },
            {
                dataType: 'text', 
                success: function(data){
                    if(data == 'Error in closing cases !'){
                        apex.message.showErrors({
                            type: 'error',
                            location: 'page',
                            message: data
                        });  
                    } else {
                        console.log('Selected cases closed')
                    }
                }
            }
        );
        
        setTimeout(() => {
            $( document ).ready(function() {
                $("#ICL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody").children(".a-GV-row").each( function () {
                    for (let i = 0; i < checkedArr.length; i++){
                        if( $(this).attr("data-id") ==  checkedArr[i]){
                            console.log(checkedArr[i]);
                            $(this).find("input[type=checkbox]").trigger("click");
                        }
                    }
                });
            });
        }, "500");
        
        

    execution: 
      sequence: 10
      event: Class Search # 16852156605755907
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Close Region ================================
    id: 16852394192755909
    identification: 
      action: Close Region

    affected-elements: 
      selection-type: Region
      region: Class Search # 16851530386755901

    execution: 
      sequence: 20
      event: Class Search # 16852156605755907
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Execute JavaScript Code =====================
    id: 16852443509755910
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        var grid = apex.region('ICL-grid').widget().interactiveGrid('getViews').grid;
        grid.model.clearChanges(); // Clears unsaved changes to avoid warnings
        apex.region('ICL-grid').refresh(); // Refreshes the Interactive Grid
        
        // setTimeout(() => {
        //     $( document ).ready(function() {
        //         $(".js-confirmBtn").trigger("click");
        //     });
        // }, "500");
        
        setTimeout(() => {
            $( document ).ready(function() {
                $("#ICL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody .a-GV-cell").first().trigger("click");
            });
        }, "500");

    execution: 
      sequence: 30
      event: Class Search # 16852156605755907
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Class Close Dialog ==================
  id: 16852569695755911
  identification: 
    name: Class Close Dialog

  execution: 
    sequence: 240
    event-scope: Static
    type: Immediate

  when: 
    event: Custom
    custom-event: classCloseDialog
    selection-type: JavaScript Expression
    javascript-expression: document

  actions: 
  - # ====== Action: Execute Server-side Code ====================
    id: 16852681761755912
    identification: 
      action: Execute Server-side Code

    settings: 
      language: PE.PROPERTY.SOURCE_SNIPPET_LANG.LOV.PLSQL.D
      pl/sql-code: |
        BEGIN
            APEX_COLLECTION.TRUNCATE_COLLECTION ('ITEMCLASSLIST');
            APEX_COLLECTION.RESEQUENCE_COLLECTION ('ITEMCLASSLIST');
        END;

    execution: 
      sequence: 10
      event: Class Close Dialog # 16852569695755911
      fire-when-event-result-is: True
      fire-on-initialization: false
      stop-execution-on-error: true
      wait-for-result: true

- # ====== Dynamic Action: Class Enter =========================
  id: 16852797436755913
  identification: 
    name: Class Enter

  execution: 
    sequence: 270
    event-scope: Static
    type: Immediate

  when: 
    event: Custom
    custom-event: classEnter
    selection-type: JavaScript Expression
    javascript-expression: document

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 16852868600755914
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        let uncheckedRowNum = [];
        $("#ICL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody").children(".a-GV-row").each( function () {
            if( !$(this).find("input[type=checkbox]").is(":checked") ){
                uncheckedRowNum.push( Number($(this).attr("data-rownum")) );
            }
        });
        console.log("Unchecked rows to remove: " + uncheckedRowNum)
        apex.server.process(
            'ICL_REMOVE_UNCHECKED',
            {   
                f01: uncheckedRowNum
            },
            {
                dataType: 'text', 
                success: function(data){
                    if(data == 'Error in closing cases !'){
                        apex.message.showErrors({
                            type: 'error',
                            location: 'page',
                            message: data
                        });  
                    } else {
                        console.log('Selected cases closed')
                    }
                }
            }
        );

    execution: 
      sequence: 10
      event: Class Enter # 16852797436755913
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Execute JavaScript Code =====================
    id: 16852921210755915
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        var grid = apex.region('classGrid').widget().interactiveGrid('getViews').grid;
        // grid.model.clearChanges(); // Clears unsaved changes to avoid warnings
        setTimeout(() => {
            $( document ).ready(function() {
                apex.region('classGrid').refresh(); // Refreshes the Interactive Grid
            });
        }, "500");
        
        // js-confirmBtn
        setTimeout(() => {
            $( document ).ready(function() {
                $(".js-confirmBtn").trigger("click");
            });
        }, "500");

    execution: 
      sequence: 20
      event: Class Enter # 16852797436755913
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Close Region ================================
    id: 16853051089755916
    identification: 
      action: Close Region

    affected-elements: 
      selection-type: Region
      region: Item Class List # 16829754130409831

    execution: 
      sequence: 30
      event: Class Enter # 16852797436755913
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Change Fields =======================
  id: 16854692965755932
  identification: 
    name: Change Fields

  execution: 
    sequence: 280
    event-scope: Static
    type: Immediate

  when: 
    event: Change
    selection-type: Item(s)
    item(s): 
    - P60_TYPE

  configuration: 
    build-option: Commented Out # 4207224469083906

  actions: 
  - # ====== Action: Disable =====================================
    id: 16854763999755933
    identification: 
      action: Disable

    affected-elements: 
      selection-type: Item(s)
      item(s): 
      - P60_DISCOUNT_FIXED

    execution: 
      sequence: 10
      event: Change Fields # 16854692965755932
      fire-when-event-result-is: True
      fire-on-initialization: false

    client-side-condition: 
      type: Item = Value
      item: P60_TYPE
      value: Percent

  - # ====== Action: Disable =====================================
    id: 16854846753755934
    identification: 
      action: Disable

    affected-elements: 
      selection-type: Item(s)
      item(s): 
      - P60_DISCOUNT_PERCENT

    execution: 
      sequence: 30
      event: Change Fields # 16854692965755932
      fire-when-event-result-is: True
      fire-on-initialization: false

    client-side-condition: 
      type: Item = Value
      item: P60_TYPE
      value: Fixed

  - # ====== Action: Enable ======================================
    id: 16854916800755935
    identification: 
      action: Enable

    affected-elements: 
      selection-type: Item(s)
      item(s): 
      - P60_DISCOUNT_PERCENT

    execution: 
      sequence: 20
      event: Change Fields # 16854692965755932
      fire-when-event-result-is: True
      fire-on-initialization: false

    client-side-condition: 
      type: Item = Value
      item: P60_TYPE
      value: Percent

  - # ====== Action: Enable ======================================
    id: 16855086158755936
    identification: 
      action: Enable

    affected-elements: 
      selection-type: Item(s)
      item(s): 
      - P60_DISCOUNT_FIXED

    execution: 
      sequence: 40
      event: Change Fields # 16854692965755932
      fire-when-event-result-is: True
      fire-on-initialization: false

    client-side-condition: 
      type: Item = Value
      item: P60_TYPE
      value: Fixed

  - # ====== Action: Clear =======================================
    id: 16855132218755937
    identification: 
      action: Clear

    affected-elements: 
      selection-type: Item(s)
      item(s): 
      - P60_DISCOUNT_PERCENT

    execution: 
      sequence: 50
      event: Change Fields # 16854692965755932
      fire-when-event-result-is: True
      fire-on-initialization: false

    client-side-condition: 
      type: Item = Value
      item: P60_TYPE
      value: Fixed

  - # ====== Action: Clear =======================================
    id: 16855246730755938
    identification: 
      action: Clear

    affected-elements: 
      selection-type: Item(s)
      item(s): 
      - P60_DISCOUNT_FIXED

    execution: 
      sequence: 60
      event: Change Fields # 16854692965755932
      fire-when-event-result-is: True
      fire-on-initialization: false

    client-side-condition: 
      type: Item = Value
      item: P60_TYPE
      value: Percent

- # ====== Dynamic Action: Disable Menu Buttons When View ======
  id: 16855903120755945
  identification: 
    name: Disable Menu Buttons When View

  execution: 
    sequence: 290
    event-scope: Static

  when: 
    event: Page Load

  server-side-condition: 
    type: Item = Value
    item: P60_PAGE_STATUS
    value: v

  actions: 
  - # ====== Action: Disable =====================================
    id: 16856065703755946
    identification: 
      action: Disable

    affected-elements: 
      selection-type: Button
      button: Enter # 16853539414755921

    execution: 
      sequence: 10
      event: Disable Menu Buttons When View # 16855903120755945
      fire-when-event-result-is: True
      fire-on-initialization: true

  - # ====== Action: Disable =====================================
    id: 16856177270755947
    identification: 
      action: Disable

    affected-elements: 
      selection-type: Button
      button: Add_Item_Categories # 15414266065384230

    execution: 
      sequence: 40
      event: Disable Menu Buttons When View # 16855903120755945
      fire-when-event-result-is: True
      fire-on-initialization: true

  - # ====== Action: Hide ========================================
    id: 16942084176657805
    identification: 
      action: Hide

    affected-elements: 
      selection-type: Button
      button: Enter # 16853539414755921

    execution: 
      sequence: 20
      event: Disable Menu Buttons When View # 16855903120755945
      fire-when-event-result-is: True
      fire-on-initialization: true

  - # ====== Action: Hide ========================================
    id: 16942118206657806
    identification: 
      action: Hide

    affected-elements: 
      selection-type: Button
      button: Add_Item_Categories # 15414266065384230

    execution: 
      sequence: 50
      event: Disable Menu Buttons When View # 16855903120755945
      fire-when-event-result-is: True
      fire-on-initialization: true

- # ====== Dynamic Action: Open Discount List Button ===========
  id: 16856335743755949
  identification: 
    name: Open Discount List Button

  execution: 
    sequence: 320
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: Open_Discount_List # 16856269513755948

  actions: 
  - # ====== Action: Open Region =================================
    id: 16856410034755950
    identification: 
      action: Open Region

    affected-elements: 
      selection-type: Region
      region: Discount List # 15782991626117646

    execution: 
      sequence: 10
      event: Open Discount List Button # 16856335743755949
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Execute JavaScript Code =====================
    id: 16941615811657801
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        mapP60KeysDL();
        $("#discount-list_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody .a-GV-cell").first().trigger("click");

    execution: 
      sequence: 20
      event: Open Discount List Button # 16856335743755949
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Disable Menu Buttons When Add =======
  id: 16941776064657802
  identification: 
    name: Disable Menu Buttons When Add

  execution: 
    sequence: 300
    event-scope: Static

  when: 
    event: Page Load

  server-side-condition: 
    type: Item = Value
    item: P60_PAGE_STATUS
    value: a

  actions: 
  - # ====== Action: Hide ========================================
    id: 16942219646657807
    identification: 
      action: Hide

    affected-elements: 
      selection-type: Button
      button: Open_Discount_List # 16856269513755948

    execution: 
      sequence: 40
      event: Disable Menu Buttons When Add # 16941776064657802
      fire-when-event-result-is: True
      fire-on-initialization: true

  - # ====== Action: Execute JavaScript Code =====================
    id: 16942506484657810
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        mapP60KeysCrud();
        $x('P60_DISCOUNT_NAME').focus();
        

    execution: 
      sequence: 50
      event: Disable Menu Buttons When Add # 16941776064657802
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Disable =====================================
    id: 16943711661657822
    identification: 
      action: Disable

    affected-elements: 
      selection-type: Button
      button: Open_Discount_List # 16856269513755948

    execution: 
      sequence: 10
      event: Disable Menu Buttons When Add # 16941776064657802
      fire-when-event-result-is: True
      fire-on-initialization: true

- # ====== Dynamic Action: Selection Change ====================
  id: 16942727158657812
  identification: 
    name: Selection Change

  execution: 
    sequence: 330
    event-scope: Static
    type: Immediate

  when: 
    event: NATIVE_IG|REGION TYPE|interactivegridselectionchange
    selection-type: Region
    region: Customer Discounts # 15969399691037501

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 16942891927657813
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        if (this.data.selectedRecords.length > 0) {
            let itemNoSelected = this.data.selectedRecords[0][0];
            apex.item("P60_SELECTED_ID").setValue(itemNoSelected);
        }

    execution: 
      sequence: 10
      event: Selection Change # 16942727158657812
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Update Discount =====================
  id: 16943087739657815
  identification: 
    name: Update Discount

  execution: 
    sequence: 340
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: Update_Discount # 15970236081037510

  client-side-condition: 
    type: Item is not null
    item: P60_SELECTED_ID

  actions: 
  - # ====== Action: Execute Server-side Code ====================
    id: 16943123301657816
    identification: 
      action: Execute Server-side Code

    settings: 
      language: PE.PROPERTY.SOURCE_SNIPPET_LANG.LOV.PLSQL.D
      pl/sql-code: |
        BEGIN
            :P60_PREPARED_URL := apex_page.get_url(
               p_page   => 60,
               p_items  => 'P60_CUSTOMER_ID,P60_DISCOUNT_ID,P60_PAGE_STATUS',
               p_values => :P60_CUSTOMER_ID || ',' || :P60_SELECTED_ID || ',' || 'u'
             );
        END;
      items-to-submit: 
      - P60_SELECTED_ID
      - P60_CUSTOMER_ID
      items-to-return: 
      - P60_PREPARED_URL
      suppress-change-event: false

    execution: 
      sequence: 10
      event: Update Discount # 16943087739657815
      fire-when-event-result-is: True
      fire-on-initialization: false
      stop-execution-on-error: true
      wait-for-result: true

  - # ====== Action: Execute JavaScript Code =====================
    id: 16943297915657817
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        let url = $v("P60_PREPARED_URL");
        apex.navigation.redirect(url);

    execution: 
      sequence: 20
      event: Update Discount # 16943087739657815
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Disable Menu Buttons When Update ====
  id: 16943327178657818
  identification: 
    name: Disable Menu Buttons When Update

  execution: 
    sequence: 310
    event-scope: Static

  when: 
    event: Page Load

  server-side-condition: 
    type: Item = Value
    item: P60_PAGE_STATUS
    value: u

  actions: 
  - # ====== Action: Disable =====================================
    id: 16943413503657819
    identification: 
      action: Disable

    affected-elements: 
      selection-type: Button
      button: Open_Discount_List # 16856269513755948

    execution: 
      sequence: 10
      event: Disable Menu Buttons When Update # 16943327178657818
      fire-when-event-result-is: True
      fire-on-initialization: true

  - # ====== Action: Hide ========================================
    id: 16943527127657820
    identification: 
      action: Hide

    affected-elements: 
      selection-type: Button
      button: Open_Discount_List # 16856269513755948

    execution: 
      sequence: 20
      event: Disable Menu Buttons When Update # 16943327178657818
      fire-when-event-result-is: True
      fire-on-initialization: true

  - # ====== Action: Execute JavaScript Code =====================
    id: 16943623079657821
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        mapP60KeysCrud();
        $x('P60_DISCOUNT_NAME').focus();
        

    execution: 
      sequence: 30
      event: Disable Menu Buttons When Update # 16943327178657818
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Open Item Categories Validation Modal
  id: 16946412505657849
  identification: 
    name: Open Item Categories Validation Modal

  execution: 
    sequence: 350
    event-scope: Static
    type: Immediate

  when: 
    event: Custom
    custom-event: itemCategoriesValidation
    selection-type: JavaScript Expression
    javascript-expression: document

  actions: 
  - # ====== Action: Open Region =================================
    id: 16946561462657850
    identification: 
      action: Open Region

    affected-elements: 
      selection-type: Region
      region: Item Category Validation # 17189792456817101

    execution: 
      sequence: 10
      event: Open Item Categories Validation Modal # 16946412505657849
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Execute JavaScript Code =====================
    id: 17189815504817102
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: mapP60KeysExit();

    execution: 
      sequence: 20
      event: Open Item Categories Validation Modal # 16946412505657849
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Close Item Categories Validation Moda
  id: 17189901194817103
  identification: 
    name: Close Item Categories Validation Modal

  execution: 
    sequence: 360
    event-scope: Static
    type: Immediate

  when: 
    event: Custom
    custom-event: itemCategoriesValidationClose
    selection-type: JavaScript Expression
    javascript-expression: document

  actions: 
  - # ====== Action: Close Region ================================
    id: 17190027057817104
    identification: 
      action: Close Region

    affected-elements: 
      selection-type: Region
      region: Item Category Validation # 17189792456817101

    execution: 
      sequence: 10
      event: Close Item Categories Validation Modal # 17189901194817103
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Redirect to Add =====================
  id: 17190818889817112
  identification: 
    name: Redirect to Add

  execution: 
    sequence: 370
    event-scope: Static
    type: Immediate

  when: 
    event: Custom
    custom-event: reloadToAdd
    selection-type: JavaScript Expression
    javascript-expression: document

  actions: 
  - # ====== Action: Execute Server-side Code ====================
    id: 17190970012817113
    identification: 
      action: Execute Server-side Code

    settings: 
      language: PE.PROPERTY.SOURCE_SNIPPET_LANG.LOV.PLSQL.D
      pl/sql-code: |
        BEGIN
            :P60_PREPARED_URL := apex_page.get_url(
               p_page   => 60,
               p_items  => 'P60_CUSTOMER_ID,P60_PAGE_STATUS',
               p_values => :P60_CUSTOMER_ID || ','  || 'a'
             );
        END;
      items-to-submit: 
      - P60_CUSTOMER_ID
      items-to-return: 
      - P60_PREPARED_URL
      suppress-change-event: false

    execution: 
      sequence: 10
      event: Redirect to Add # 17190818889817112
      fire-when-event-result-is: True
      fire-on-initialization: false
      stop-execution-on-error: true
      wait-for-result: true

  - # ====== Action: Execute JavaScript Code =====================
    id: 17191027980817114
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        let url = $v("P60_PREPARED_URL");
        apex.navigation.redirect(url);

    execution: 
      sequence: 20
      event: Redirect to Add # 17190818889817112
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Add Discount ========================
  id: 17191158694817115
  identification: 
    name: Add Discount

  execution: 
    sequence: 380
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: Add_Discount # 15970166515037509

  client-side-condition: 
    type: Item is not null
    item: P60_CUSTOMER_ID

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 17191251246817116
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        var discountListRowCount = apex.region("discount-list").widget()
                .interactiveGrid("getViews", "grid")
                .model.getTotalRecords();
                
        if(discountListRowCount >= 4){
            $.event.trigger("openDiscountListMax");
        } else {
            $.event.trigger("reloadToAdd");
        }
        

    execution: 
      sequence: 10
      event: Add Discount # 17191158694817115
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Open Discount List Reached Max ======
  id: 17191365940817117
  identification: 
    name: Open Discount List Reached Max

  execution: 
    sequence: 390
    event-scope: Static
    type: Immediate

  when: 
    event: Custom
    custom-event: openDiscountListMax
    selection-type: JavaScript Expression
    javascript-expression: document

  actions: 
  - # ====== Action: Open Region =================================
    id: 17191413026817118
    identification: 
      action: Open Region

    affected-elements: 
      selection-type: Region
      region: Discount List Reached Max # 17191529205817119

    execution: 
      sequence: 20
      event: Open Discount List Reached Max # 17191365940817117
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Execute JavaScript Code =====================
    id: 17191828112817122
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: mapP60KeysReachedMax();

    execution: 
      sequence: 30
      event: Open Discount List Reached Max # 17191365940817117
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Close Region ================================
    id: 17194630574817150
    identification: 
      action: Close Region

    affected-elements: 
      selection-type: Region
      region: Discount List # 15782991626117646

    execution: 
      sequence: 10
      event: Open Discount List Reached Max # 17191365940817117
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Remove Discount =====================
  id: 17191954126817123
  identification: 
    name: Remove Discount

  execution: 
    sequence: 410
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: Remove_Discount # 15970058212037508

  actions: 
  - # ====== Action: Execute Server-side Code ====================
    id: 17192030221817124
    identification: 
      action: Execute Server-side Code

    settings: 
      language: PE.PROPERTY.SOURCE_SNIPPET_LANG.LOV.PLSQL.D
      pl/sql-code: |
        BEGIN
            DELETE FROM NPT029 WHERE DISCOUNT_ID = :P60_SELECTED_ID;
            DELETE FROM NPT028 WHERE DISCOUNT_ID = :P60_SELECTED_ID;
            DELETE FROM NPT030 WHERE DISCOUNT_ID = :P60_SELECTED_ID;
            DELETE FROM NPT008 WHERE DISCOUNT_ID = :P60_SELECTED_ID;
        END;
      items-to-submit: 
      - P60_DISCOUNT_ID
      - P60_SELECTED_ID

    execution: 
      sequence: 10
      event: Remove Discount # 17191954126817123
      fire-when-event-result-is: True
      fire-on-initialization: false
      stop-execution-on-error: true
      wait-for-result: true

  - # ====== Action: Refresh =====================================
    id: 17192170110817125
    identification: 
      action: Refresh

    affected-elements: 
      selection-type: Region
      region: Customer Discounts Menu # 30877022824364214

    execution: 
      sequence: 20
      event: Remove Discount # 17191954126817123
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Refresh =====================================
    id: 17192209246817126
    identification: 
      action: Refresh

    affected-elements: 
      selection-type: Region
      region: Customer Discounts # 15969399691037501

    execution: 
      sequence: 30
      event: Remove Discount # 17191954126817123
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Yes Remove Discount =================
  id: 18079629036113201
  identification: 
    name: Yes Remove Discount

  execution: 
    sequence: 420
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: Yes # 17194594217817149

  actions: 
  - # ====== Action: Open Region =================================
    id: 18079792734113202
    identification: 
      action: Open Region

    affected-elements: 
      selection-type: Region
      region: Discount List # 15782991626117646

    execution: 
      sequence: 20
      event: Yes Remove Discount # 18079629036113201
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Close Region ================================
    id: 18079833731113203
    identification: 
      action: Close Region

    affected-elements: 
      selection-type: Region
      region: Discount List Reached Max # 17191529205817119

    execution: 
      sequence: 10
      event: Yes Remove Discount # 18079629036113201
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Execute JavaScript Code =====================
    id: 18080222425113207
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: mapP60KeysDL();

    execution: 
      sequence: 30
      event: Yes Remove Discount # 18079629036113201
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: No Close Region =====================
  id: 18079945931113204
  identification: 
    name: No Close Region

  execution: 
    sequence: 430
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: No # 17194401387817148

  actions: 
  - # ====== Action: Close Region ================================
    id: 18080083279113205
    identification: 
      action: Close Region

    affected-elements: 
      selection-type: Region
      region: Discount List Reached Max # 17191529205817119

    execution: 
      sequence: 10
      event: No Close Region # 18079945931113204
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Execute JavaScript Code =====================
    id: 18080187685113206
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: mapP60KeysView()

    execution: 
      sequence: 20
      event: No Close Region # 18079945931113204
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Clear Discount Value ================
  id: 18084333738113248
  identification: 
    name: Clear Discount Value

  execution: 
    sequence: 440
    event-scope: Static
    type: Immediate

  when: 
    event: Change
    selection-type: Item(s)
    item(s): 
    - P60_TYPE

  actions: 
  - # ====== Action: Clear =======================================
    id: 18084416657113249
    identification: 
      action: Clear

    affected-elements: 
      selection-type: Item(s)
      item(s): 
      - P60_DISCOUNT_VALUE

    execution: 
      sequence: 10
      event: Clear Discount Value # 18084333738113248
      fire-when-event-result-is: True
      fire-on-initialization: false

validations: 
- # ====== Validation: Empty Name ==============================
  id: 16853613452755922
  identification: 
    name: Empty Name

  execution: 
    sequence: 10

  validation: 
    type: Item is NOT NULL
    item: P60_DISCOUNT_NAME
    always-execute: true

  error: 
    error-message: Must have some value.
    display-location: Inline with Field
    associated-item: P60_DISCOUNT_NAME # 15412460075384212

- # ====== Validation: Empty Start Date ========================
  id: 16853700575755923
  identification: 
    name: Empty Start Date

  execution: 
    sequence: 20

  validation: 
    type: Item is NOT NULL
    item: P60_DATE_FROM
    always-execute: true

  error: 
    error-message: Must have some value.
    display-location: Inline with Field
    associated-item: P60_DATE_FROM # 15412671093384214

- # ====== Validation: Empty End Date ==========================
  id: 16853822522755924
  identification: 
    name: Empty End Date

  execution: 
    sequence: 30

  validation: 
    type: Item is NOT NULL
    item: P60_DATE_TO
    always-execute: true

  error: 
    error-message: Must have some value.
    display-location: Inline with Field
    associated-item: P60_DATE_TO # 15412790546384215

- # ====== Validation: Empty Type ==============================
  id: 16854344457755929
  identification: 
    name: Empty Type

  execution: 
    sequence: 40

  validation: 
    type: Item is NOT NULL
    item: P60_TYPE
    always-execute: true

  error: 
    error-message: Must have some value.
    display-location: Inline with Field
    associated-item: P60_TYPE # 15412599349384213

- # ====== Validation: Empty Percent ===========================
  id: 16854436835755930
  identification: 
    name: Empty Percent

  execution: 
    sequence: 50

  validation: 
    type: Function Body (returning Boolean)
    language: PL/SQL
    pl/sql-function-body: |
      BEGIN
          IF :P60_TYPE = 'Percent' AND :P60_DISCOUNT_PERCENT IS NOT NULL THEN
              RETURN TRUE;
          ELSIF :P60_TYPE = 'Fixed' THEN
              RETURN TRUE;
          ELSE
              RETURN FALSE;
          END IF;
      END;
    always-execute: false

  error: 
    error-message: Must have some value.
    display-location: Inline with Field
    associated-item: P60_DISCOUNT_PERCENT # 15413328781384221

  configuration: 
    build-option: Commented Out # 4207224469083906

- # ====== Validation: Empty Fixed =============================
  id: 16854528184755931
  identification: 
    name: Empty Fixed

  execution: 
    sequence: 60

  validation: 
    type: Function Body (returning Boolean)
    language: PL/SQL
    pl/sql-function-body: |
      BEGIN
          IF :P60_TYPE = 'Fixed' AND :P60_DISCOUNT_FIXED IS NOT NULL THEN
              RETURN TRUE;
          ELSIF :P60_TYPE = 'Percent' THEN
              RETURN TRUE;
          ELSE
              RETURN FALSE;
          END IF;
      END;
    always-execute: false

  error: 
    error-message: Must have some value.
    display-location: Inline with Field
    associated-item: P60_DISCOUNT_FIXED # 15413438135384222

  configuration: 
    build-option: Commented Out # 4207224469083906

- # ====== Validation: Empty Item Categories ===================
  id: 16944080735657825
  identification: 
    name: Empty Item Categories

  execution: 
    sequence: 70

  validation: 
    type: Function Body (returning Boolean)
    language: PL/SQL
    pl/sql-function-body: |
      DECLARE
          l_dept_count NUMBER;
          l_sic_count NUMBER;
          l_class_count NUMBER;
      BEGIN
          SELECT COUNT(N001) INTO l_dept_count FROM APEX_COLLECTIONS WHERE COLLECTION_NAME = 'ITEMDEPT';
          SELECT COUNT(N001) INTO l_sic_count FROM APEX_COLLECTIONS WHERE COLLECTION_NAME = 'ITEMSIC';
          SELECT COUNT(N001) INTO l_class_count FROM APEX_COLLECTIONS WHERE COLLECTION_NAME = 'ITEMCLASS';
      
          IF l_dept_count > 0 OR l_sic_count > 0 OR l_class_count > 0 THEN
              RETURN TRUE;
          ELSE
              RETURN FALSE;
          END IF;
      END;
    always-execute: true

  error: 
    error-message: Must have at least one Item Category Selected.
    display-location: Inline with Field and in Notification

- # ====== Validation: Valid Start Date Add ====================
  id: 17190364597817107
  identification: 
    name: Valid Start Date Add

  execution: 
    sequence: 80

  validation: 
    type: Rows returned
    sql-query: |
      SELECT 1 FROM DUAL
      WHERE TO_DATE(:P60_DATE_FROM) >= TO_DATE(SYSDATE)
    always-execute: true

  error: 
    error-message: Must be either today or day after today.
    display-location: Inline with Field
    associated-item: P60_DATE_FROM # 15412671093384214

  server-side-condition: 
    type: Item is NULL
    item: P60_DISCOUNT_ID

- # ====== Validation: Valid End Date ==========================
  id: 17190485016817108
  identification: 
    name: Valid End Date

  execution: 
    sequence: 90

  validation: 
    type: Rows returned
    sql-query: |
      SELECT 1 FROM DUAL
      WHERE TO_DATE(:P60_DATE_TO) > TO_DATE(:P60_DATE_FROM)
    always-execute: false

  error: 
    error-message: Must be day after Start Date.
    display-location: Inline with Field
    associated-item: P60_DATE_TO # 15412790546384215

- # ====== Validation: Valid Start Date Update =================
  id: 17190520988817109
  identification: 
    name: Valid Start Date Update

  execution: 
    sequence: 100

  validation: 
    type: Rows returned
    sql-query: |
      SELECT 1 FROM DUAL
      WHERE TO_DATE(:P60_DATE_FROM_INITIAL) = TO_DATE(:P60_DATE_FROM) OR TO_DATE(:P60_DATE_FROM) >= SYSDATE
    always-execute: true

  error: 
    error-message: Must be either today or day after today.
    display-location: Inline with Field
    associated-item: P60_DATE_FROM # 15412671093384214

  server-side-condition: 
    type: Item is NOT NULL
    item: P60_DISCOUNT_ID

- # ====== Validation: Empty Discount Value ====================
  id: 18084532250113250
  identification: 
    name: Empty Discount Value

  execution: 
    sequence: 110

  validation: 
    type: Item is NOT NULL
    item: P60_DISCOUNT_VALUE
    always-execute: false

  error: 
    error-message: Must have some value.
    display-location: Inline with Field
    associated-item: P60_DISCOUNT_VALUE # 15412364601384211

- # ====== Validation: Percent Validation ======================
  id: 22264214417028301
  identification: 
    name: Percent Validation

  execution: 
    sequence: 120

  validation: 
    type: Function Body (returning Boolean)
    language: PL/SQL
    pl/sql-function-body: |
      BEGIN
          IF :P60_TYPE = 'Percent' AND :P60_DISCOUNT_VALUE <= 100 THEN
              RETURN TRUE;
          ELSIF :P60_TYPE = 'Fixed' THEN
              RETURN TRUE;
          ELSE 
              RETURN FALSE;
          END IF;
      END;
    always-execute: true

  error: 
    error-message: Value must not exceed 100.
    display-location: Inline with Field
    associated-item: P60_DISCOUNT_VALUE # 15412364601384211

computations: 
- # ====== Computation: P60_DISCOUNT_FIXED =====================
  id: 16943838589657823
  identification: 
    item-name: P60_DISCOUNT_FIXED

  execution: 
    sequence: 20
    point: Before Regions

  computation: 
    type: Expression
    language: PL/SQL
    pl/sql-expression: "CASE WHEN :P60_TYPE = 'Fixed' THEN :P60_DISCOUNT_NUMBER END"

  configuration: 
    build-option: Commented Out # 4207224469083906

- # ====== Computation: P60_DISCOUNT_PERCENT ===================
  id: 16943986579657824
  identification: 
    item-name: P60_DISCOUNT_PERCENT

  execution: 
    sequence: 30
    point: Before Regions

  computation: 
    type: Expression
    language: PL/SQL
    pl/sql-expression: "CASE WHEN :P60_TYPE = 'Percent' THEN :P60_DISCOUNT_NUMBER END"

  configuration: 
    build-option: Commented Out # 4207224469083906

processes: 
- # ====== Process: Initialize form Customer Readonly ==========
  id: 15411340767384201
  identification: 
    name: Initialize form Customer Readonly
    type: Form - Initialization
    execution-chain: None
    form-region: Read Only Customer Detail # 15147238558750650

  execution: 
    sequence: 10
    point: Before Header
    run-process: Once Per Page Visit (default)

- # ====== Process: Initialize form Customer Discount Form =====
  id: 15412173611384209
  identification: 
    name: Initialize form Customer Discount Form
    type: Form - Initialization
    execution-chain: None
    form-region: Discount Form # 15412061377384208

  execution: 
    sequence: 20
    point: Before Header
    run-process: Once Per Page Visit (default)

- # ====== Process: Item Dept Grid - Save Interactive Grid Data 
  id: 16322417265824705
  identification: 
    name: Item Dept Grid - Save Interactive Grid Data
    type: Interactive Grid - Automatic Row Processing (DML)
    execution-chain: None
    editable-region: Item Dept Grid # 15972324377037531

  settings: 
    target-type: Region Source
    prevent-lost-updates: true
    lock-row: Yes
    return-primary-key(s)-after-insert: true

  execution: 
    sequence: 20
    point: Processing
    run-process: Once Per Page Visit (default)

  error: 
    display-location: Inline in Notification

  server-side-condition: 
    execution-scope: For Created and Modified Rows

  configuration: 
    build-option: Commented Out # 4207224469083906

- # ====== Process: IDL_SEARCH =================================
  id: 16322830630824709
  identification: 
    name: IDL_SEARCH
    type: Execute Code
    execution-chain: None

  source: 
    location: Local Database
    language: PL/SQL
    pl/sql-code: |
      DECLARE
          -- f01_to_number DEPT_ID_TYPE;
          CURSOR c_dept IS 
          SELECT DEPT_ID, DEPT_NAME
          FROM NIM024
          WHERE UPPER(DEPT_NAME) LIKE '%' || UPPER(APEX_APPLICATION.g_x01) || '%';
          -- AND
          --     DEPT_ID NOT IN( SELECT TO_NUMBER('*' DEFAULT 0 ON CONVERSION ERROR) VALUE FROM TABLE(APEX_APPLICATION.g_f01) );
      BEGIN
          -- FOR i in 1..APEX_APPLICATION.G_F01.COUNT LOOP
          --     f01_to_number(i) := TO_NUMBER(APEX_APPLICATION.g_f01(i));
          -- END LOOP;
      
          FOR i in 1..APEX_APPLICATION.G_F02.COUNT LOOP
              APEX_COLLECTION.DELETE_MEMBER(
                  p_collection_name => 'ITEMDEPTLIST',
                  p_seq => TO_NUMBER(APEX_APPLICATION.g_f02(i))
              );
          END LOOP;
      
          FOR c IN c_dept LOOP
              apex_collection.add_member (p_collection_name => 'ITEMDEPTLIST',
                  p_n001 => c.DEPT_ID,
                  p_c001 => c.DEPT_NAME
              );
          END LOOP;
      
          for r_rec in (
          select seq_id, rn from
              (select seq_id, row_number() over (partition by c001 order by d001 desc) rn
                  from apex_collections
                  where collection_name = 'ITEMDEPTLIST'
              ) where rn != 1
              ) loop
              APEX_COLLECTION.DELETE_MEMBER
                  (p_collection_name =>  'ITEMDEPTLIST'
                  ,p_seq             => r_rec.seq_id);
            end loop;
      
          APEX_COLLECTION.RESEQUENCE_COLLECTION ('ITEMDEPTLIST');
      END;

  execution: 
    sequence: 10
    point: Ajax Callback
    run-process: Once Per Page Visit (default)

- # ====== Process: IDL_REMOVE_UNCHECKED =======================
  id: 16325025833824731
  identification: 
    name: IDL_REMOVE_UNCHECKED
    type: Execute Code
    execution-chain: None

  source: 
    location: Local Database
    language: PL/SQL
    pl/sql-code: |
      DECLARE
          CURSOR c_dept IS 
          SELECT n001, c001
          FROM APEX_COLLECTIONS
          WHERE COLLECTION_NAME = 'ITEMDEPTLIST';
      BEGIN
          APEX_COLLECTION.TRUNCATE_COLLECTION ('ITEMDEPT');
          FOR i in 1..APEX_APPLICATION.g_f01.COUNT LOOP
              APEX_COLLECTION.DELETE_MEMBER(
                  p_collection_name => 'ITEMDEPTLIST',
                  p_seq => TO_NUMBER(APEX_APPLICATION.g_f01(i))
              );
          END LOOP;
          -- APEX_COLLECTION.RESEQUENCE_COLLECTION ('ITEMDEPTLIST');
          FOR c IN c_dept LOOP
              apex_collection.add_member (p_collection_name => 'ITEMDEPT',
                  p_n001 => c.n001,
                  p_c001 => c.c001
              );
          END LOOP;
          APEX_COLLECTION.RESEQUENCE_COLLECTION ('ITEMDEPT');
          -- APEX_COLLECTION.TRUNCATE_COLLECTION ('ITEMDEPTLIST');
      END;

  execution: 
    sequence: 20
    point: Ajax Callback
    run-process: Once Per Page Visit (default)

- # ====== Process: ISL_SEARCH =================================
  id: 16828735682409821
  identification: 
    name: ISL_SEARCH
    type: Execute Code
    execution-chain: None

  source: 
    location: Local Database
    language: PL/SQL
    pl/sql-code: |
      DECLARE
          -- f01_to_number DEPT_ID_TYPE;
          CURSOR c_sic IS 
          SELECT SIC_ID, SIC_NAME
          FROM NIM023
          WHERE UPPER(SIC_NAME) LIKE '%' || UPPER(APEX_APPLICATION.g_x01) || '%';
          -- AND
          --     DEPT_ID NOT IN( SELECT TO_NUMBER('*' DEFAULT 0 ON CONVERSION ERROR) VALUE FROM TABLE(APEX_APPLICATION.g_f01) );
      BEGIN
          -- FOR i in 1..APEX_APPLICATION.G_F01.COUNT LOOP
          --     f01_to_number(i) := TO_NUMBER(APEX_APPLICATION.g_f01(i));
          -- END LOOP;
      
          FOR i in 1..APEX_APPLICATION.G_F02.COUNT LOOP
              APEX_COLLECTION.DELETE_MEMBER(
                  p_collection_name => 'ITEMSICLIST',
                  p_seq => TO_NUMBER(APEX_APPLICATION.g_f02(i))
              );
          END LOOP;
      
          FOR c IN c_sic LOOP
              apex_collection.add_member (p_collection_name => 'ITEMSICLIST',
                  p_n001 => c.SIC_ID,
                  p_c001 => c.SIC_NAME
              );
          END LOOP;
      
          for r_rec in (
          select seq_id, rn from
              (select seq_id, row_number() over (partition by c001 order by d001 desc) rn
                  from apex_collections
                  where collection_name = 'ITEMSICLIST'
              ) where rn != 1
              ) loop
              APEX_COLLECTION.DELETE_MEMBER
                  (p_collection_name =>  'ITEMSICLIST'
                  ,p_seq             => r_rec.seq_id);
            end loop;
      
          APEX_COLLECTION.RESEQUENCE_COLLECTION ('ITEMSICLIST');
      END;

  execution: 
    sequence: 30
    point: Ajax Callback
    run-process: Once Per Page Visit (default)

- # ====== Process: ISL_REMOVE_UNCHECKED =======================
  id: 16828849084409822
  identification: 
    name: ISL_REMOVE_UNCHECKED
    type: Execute Code
    execution-chain: None

  source: 
    location: Local Database
    language: PL/SQL
    pl/sql-code: |
      DECLARE
          CURSOR c_sic IS 
          SELECT n001, c001
          FROM APEX_COLLECTIONS
          WHERE COLLECTION_NAME = 'ITEMSICLIST';
      BEGIN
          APEX_COLLECTION.TRUNCATE_COLLECTION ('ITEMSIC');
          FOR i in 1..APEX_APPLICATION.g_f01.COUNT LOOP
              APEX_COLLECTION.DELETE_MEMBER(
                  p_collection_name => 'ITEMSICLIST',
                  p_seq => TO_NUMBER(APEX_APPLICATION.g_f01(i))
              );
          END LOOP;
          -- APEX_COLLECTION.RESEQUENCE_COLLECTION ('ITEMSICLIST');
          FOR c IN c_sic LOOP
              apex_collection.add_member (p_collection_name => 'ITEMSIC',
                  p_n001 => c.n001,
                  p_c001 => c.c001
              );
          END LOOP;
          APEX_COLLECTION.RESEQUENCE_COLLECTION ('ITEMDEPT');
          -- APEX_COLLECTION.TRUNCATE_COLLECTION ('ITEMSICLIST');
      END;

  execution: 
    sequence: 50
    point: Ajax Callback
    run-process: Once Per Page Visit (default)

- # ====== Process: ICL_SEARCH =================================
  id: 16853128156755917
  identification: 
    name: ICL_SEARCH
    type: Execute Code
    execution-chain: None

  source: 
    location: Local Database
    language: PL/SQL
    pl/sql-code: |
      DECLARE
          -- f01_to_number DEPT_ID_TYPE;
          CURSOR c_class IS 
          SELECT CLASS_ID, CLASS_NAME
          FROM NIM025
          WHERE UPPER(CLASS_NAME) LIKE '%' || UPPER(APEX_APPLICATION.g_x01) || '%';
          -- AND
          --     DEPT_ID NOT IN( SELECT TO_NUMBER('*' DEFAULT 0 ON CONVERSION ERROR) VALUE FROM TABLE(APEX_APPLICATION.g_f01) );
      BEGIN
          -- FOR i in 1..APEX_APPLICATION.G_F01.COUNT LOOP
          --     f01_to_number(i) := TO_NUMBER(APEX_APPLICATION.g_f01(i));
          -- END LOOP;
      
          FOR i in 1..APEX_APPLICATION.G_F02.COUNT LOOP
              APEX_COLLECTION.DELETE_MEMBER(
                  p_collection_name => 'ITEMCLASSLIST',
                  p_seq => TO_NUMBER(APEX_APPLICATION.g_f02(i))
              );
          END LOOP;
      
          FOR c IN c_class LOOP
              apex_collection.add_member (p_collection_name => 'ITEMCLASSLIST',
                  p_n001 => c.CLASS_ID,
                  p_c001 => c.CLASS_NAME
              );
          END LOOP;
      
          for r_rec in (
          select seq_id, rn from
              (select seq_id, row_number() over (partition by c001 order by d001 desc) rn
                  from apex_collections
                  where collection_name = 'ITEMCLASSLIST'
              ) where rn != 1
              ) loop
              APEX_COLLECTION.DELETE_MEMBER
                  (p_collection_name =>  'ITEMCLASSLIST'
                  ,p_seq             => r_rec.seq_id);
            end loop;
      
          APEX_COLLECTION.RESEQUENCE_COLLECTION ('ITEMCLASSLIST');
      END;

  execution: 
    sequence: 60
    point: Ajax Callback
    run-process: Once Per Page Visit (default)

- # ====== Process: ICL_REMOVE_UNCHECKED =======================
  id: 16853274824755918
  identification: 
    name: ICL_REMOVE_UNCHECKED
    type: Execute Code
    execution-chain: None

  source: 
    location: Local Database
    language: PL/SQL
    pl/sql-code: |
      DECLARE
          CURSOR c_class IS 
          SELECT n001, c001
          FROM APEX_COLLECTIONS
          WHERE COLLECTION_NAME = 'ITEMCLASSLIST';
      BEGIN
          APEX_COLLECTION.TRUNCATE_COLLECTION ('ITEMCLASS');
          FOR i in 1..APEX_APPLICATION.g_f01.COUNT LOOP
              APEX_COLLECTION.DELETE_MEMBER(
                  p_collection_name => 'ITEMCLASSLIST',
                  p_seq => TO_NUMBER(APEX_APPLICATION.g_f01(i))
              );
          END LOOP;
          -- APEX_COLLECTION.RESEQUENCE_COLLECTION ('ITEMCLASSLIST');
          FOR c IN c_class LOOP
              apex_collection.add_member (p_collection_name => 'ITEMCLASS',
                  p_n001 => c.n001,
                  p_c001 => c.c001
              );
          END LOOP;
          APEX_COLLECTION.RESEQUENCE_COLLECTION ('ITEMCLASS');
          -- APEX_COLLECTION.TRUNCATE_COLLECTION ('ITEMCLASSLIST');
      END;

  execution: 
    sequence: 70
    point: Ajax Callback
    run-process: Once Per Page Visit (default)

- # ====== Process: Process form Add Discount ==================
  id: 16853480619755920
  identification: 
    name: Process form Add Discount
    type: Execute Code
    execution-chain: None

  source: 
    location: Local Database
    language: PL/SQL
    pl/sql-code: |
      DECLARE
          l_discount_id NPT008.DISCOUNT_ID%type;
      BEGIN
          INSERT INTO NPT008(
              DISCOUNT_NAME,
              CUSTOMER_ID,
              TYPE,
              DISCOUNT_VALUE,
              DATE_FROM,
              DATE_TO,
              USER_CREATED,
              DATE_CREATED
          )
          VALUES(
              :P60_DISCOUNT_NAME,
              :P60_CUSTOMER_ID,
              :P60_TYPE,
              :P60_DISCOUNT_VALUE,
              -- CASE WHEN :P60_TYPE = 'Percent'
              --     THEN :P60_DISCOUNT_PERCENT
              --     ELSE :P60_DISCOUNT_FIXED
              -- END,
              :P60_DATE_FROM,
              :P60_DATE_TO,
              v('APP_USER'),
              SYSDATE
          )
          RETURNING DISCOUNT_ID INTO l_discount_id;
      
          FOR d IN (
              SELECT N001
                  FROM APEX_COLLECTIONS
              WHERE COLLECTION_NAME='ITEMDEPT'
          ) LOOP
              INSERT INTO NPT029 ( DISCOUNT_ID, DEPT_ID )
              VALUES ( l_discount_id, d.N001 );
          END LOOP;
      
          FOR s IN (
              SELECT N001
                  FROM APEX_COLLECTIONS
              WHERE COLLECTION_NAME='ITEMSIC'
          ) LOOP
              INSERT INTO NPT028 ( DISCOUNT_ID, SIC_ID )
              VALUES ( l_discount_id, s.N001 );
          END LOOP;
      
          FOR c IN (
              SELECT N001
                  FROM APEX_COLLECTIONS
              WHERE COLLECTION_NAME='ITEMCLASS'
          ) LOOP
              INSERT INTO NPT030 ( DISCOUNT_ID, CLASS_ID )
              VALUES ( l_discount_id, c.N001 );
          END LOOP;
      
      END;

  execution: 
    sequence: 30
    point: Processing
    run-process: Once Per Page Visit (default)

  success-message: 
    success-message: Discount Successfully Added.

  error: 
    display-location: Inline in Notification

  server-side-condition: 
    type: Item is NULL
    item: P60_DISCOUNT_ID

- # ====== Process: Process form Update Discount ===============
  id: 16944205537657827
  identification: 
    name: Process form Update Discount
    type: Execute Code
    execution-chain: None

  source: 
    location: Local Database
    language: PL/SQL
    pl/sql-code: |
      DECLARE
      BEGIN
          UPDATE NPT008 SET
              DISCOUNT_NAME = :P60_DISCOUNT_NAME,
              TYPE = :P60_TYPE,
              DISCOUNT_VALUE = :P60_DISCOUNT_VALUE,
                  -- CASE WHEN :P60_TYPE = 'Percent'
                  --     THEN :P60_DISCOUNT_PERCENT
                  --     ELSE :P60_DISCOUNT_FIXED
                  -- END,
              DATE_FROM = :P60_DATE_FROM,
              DATE_TO = :P60_DATE_TO,
              USER_UPDATE = v('APP_USER'),
              DATE_UPDATED = SYSDATE
          WHERE DISCOUNT_ID = :P60_DISCOUNT_ID;
      
          DELETE FROM NPT029 
          WHERE DISCOUNT_ID = :P60_DISCOUNT_ID AND DEPT_ID NOT IN (
              SELECT N001
                  FROM APEX_COLLECTIONS
              WHERE COLLECTION_NAME='ITEMDEPT'
          );
          DELETE FROM NPT028 
          WHERE DISCOUNT_ID = :P60_DISCOUNT_ID AND SIC_ID NOT IN (
              SELECT N001
                  FROM APEX_COLLECTIONS
              WHERE COLLECTION_NAME='ITEMSIC'
          );
          DELETE FROM NPT030 
          WHERE DISCOUNT_ID = :P60_DISCOUNT_ID AND CLASS_ID NOT IN (
              SELECT N001
                  FROM APEX_COLLECTIONS
              WHERE COLLECTION_NAME='ITEMCLASS'
          );
      
          FOR d IN (
              SELECT N001
                  FROM APEX_COLLECTIONS
              WHERE COLLECTION_NAME='ITEMDEPT'
          ) LOOP
              INSERT INTO NPT029 ( DISCOUNT_ID, DEPT_ID )
              SELECT :P60_DISCOUNT_ID, d.N001 FROM DUAL
              WHERE NOT EXISTS( 
                  SELECT 1 FROM NPT029
                  WHERE DISCOUNT_ID = :P60_DISCOUNT_ID AND DEPT_ID = d.N001
              );
          END LOOP;
          FOR s IN (
              SELECT N001
                  FROM APEX_COLLECTIONS
              WHERE COLLECTION_NAME='ITEMSIC'
          ) LOOP
              INSERT INTO NPT028 ( DISCOUNT_ID, SIC_ID )
              SELECT :P60_DISCOUNT_ID, s.N001 FROM DUAL
              WHERE NOT EXISTS( 
                  SELECT 1 FROM NPT028
                  WHERE DISCOUNT_ID = :P60_DISCOUNT_ID AND SIC_ID = s.N001
              );
          END LOOP;
          FOR c IN (
              SELECT N001
                  FROM APEX_COLLECTIONS
              WHERE COLLECTION_NAME='ITEMCLASS'
          ) LOOP
              INSERT INTO NPT030 ( DISCOUNT_ID, CLASS_ID )
              SELECT :P60_DISCOUNT_ID, c.N001 FROM DUAL
              WHERE NOT EXISTS( 
                  SELECT 1 FROM NPT030
                  WHERE DISCOUNT_ID = :P60_DISCOUNT_ID AND CLASS_ID = c.N001
              );
          END LOOP;
      END;

  execution: 
    sequence: 40
    point: Processing
    run-process: Once Per Page Visit (default)

  success-message: 
    success-message: Discount Successfully Updated.

  error: 
    display-location: Inline in Notification

  server-side-condition: 
    type: Item is NOT NULL
    item: P60_DISCOUNT_ID

branches: 
- # ====== Branch: Go To Page 58 ===============================
  id: 16945248405657837
  identification: 
    name: Go To Page 58

  execution: 
    sequence: 10
    point: After Processing

  behavior: 
    type: Page or URL (Redirect)
    target: 
      url: 'f?p=&APP_ID.:58:&SESSION.::&DEBUG.::P58_CUSTOMER_ID:&P60_CUSTOMER_ID.&success_msg=#SUCCESS_MSG#'
      page: 58 # Add/Update Customer
      values: 
        p58_customer_id: '&P60_CUSTOMER_ID.'

