---
# ====== Page: Add/Edit Discount =============================
id: 67
identification: 
  name: Add/Edit Discount
  alias: ADD-EDIT-DISCOUNT
  title: Add/Edit Discount

appearance: 
  page-mode: Normal
  page-template: Standard - No Footer
  template-options: 
  - '#DEFAULT#'

navigation-menu: 
  override-user-interface-level: false

navigation: 
  cursor-focus: Do not focus cursor
  warn-on-unsaved-changes: true

javascript: 
  file-urls: 
  - '#APP_FILES#js/cmn#MIN#.js'
  function-and-global-variable-declaration: |
    // Main menu keys Add/Update
    const p67KeyMapCrud = {
        escape : (v) => {
            $("#esc").trigger("click");
        },
        enter : (v) => {
            if( checkItemCategories() ){
                $.event.trigger("itemCategoriesValidation");
            } else {
                showGPopup({
                    icon: "fa fa-exclamation-circle",
                    message: "Sub Categories are empty.",
                    width: "10rem",
                    timeoutActive: true,
                    timeout: 2000,
                    top: "80%"
                });
            }
        },
        f8 : (v) => {
            $("#f8").trigger("click");
        },
        f6 : (v) => {
            $("#f6").trigger("click");
        }
    }
    function mapP67KeysCrud() {
        $(document).off('keydown.p67keyevents');
        $(document).on('keydown.p67keyevents', (ev) => {
            var key = ev.key?.toLowerCase();
            if (p67KeyMapCrud[key]) {
                ev.preventDefault();
                p67KeyMapCrud[key]();
            }
        });
    }
    
    const p67KeyMapError = {
        escape : (v) => {
            mapP67KeysCrud();
        }
    }
    function mapP67KeysError() {
        $(document).off('keydown.p67keyevents');
        $(document).on('keydown.p67keyevents', (ev) => {
            var key = ev.key?.toLowerCase();
            if (p67KeyMapError[key]) {
                ev.preventDefault();
                p67KeyMapError[key]();
            }
        });
    }
    
    // Main menu keys View
    // const p67KeyMapView = {
    //     escape : (v) => {
    //         $("#esc").trigger("click");
    //     },
    //     f9 : (v) => {
    //         $("#f9").trigger("click");
    //     },
    // }
    // function mapP67KeysView() {
    //     $(document).off('keydown.p67keyevents');
    //     $(document).on('keydown.p67keyevents', (ev) => {
    //         var key = ev.key?.toLowerCase();
    //         if (p67KeyMapView[key]) {
    //             ev.preventDefault();
    //             p67KeyMapView[key]();
    //         }
    //     });
    // }
    
    // Discount List keys
    // const p67KeyMapDL = {
    //     r : (v) => {
    //         $("#remove").trigger("click");
    //     },
    //     a : (v) => {
    //         $("#add").trigger("click");
    //     },
    //     u : (v) => {
    //         $("#update").trigger("click");
    //     },
    //     escape : (v) => {
    //         mapP67KeysView();
    //     }
    // }
    // function mapP67KeysDL() {
    //     $(document).off('keydown.p67keyevents');
    //     $(document).on('keydown.p67keyevents', (ev) => {
    //         var key = ev.key?.toLowerCase();
    //         if (p67KeyMapDL[key]) {
    //             ev.preventDefault();
    //             p67KeyMapDL[key]();
    //         }
    //     });
    // }
    
    // Item Categories Modal
    const p67KeyMapIC = {
        d : (v) => {
            $("#d").trigger("click");
        },
        s : (v) => {
            $("#s").trigger("click");
        },
        c : (v) => {
            $("#c").trigger("click");
        },
        escape : (v) => {
            mapP67KeysCrud();
        }
    }
    function mapP67KeysIC() {
        $(document).off('keydown.p67keyevents');
        $(document).on('keydown.p67keyevents', (ev) => {
            var key = ev.key?.toLowerCase();
            if (p67KeyMapIC[key]) {
                ev.preventDefault();
                p67KeyMapIC[key]();
            }
        });
    }
    
    // Item Department List
    const p67KeyMapIDL = {
        space : (v) => {
            $("#IDLm").trigger("click");
        },
        a : (v) => {
            $("#IDLa").trigger("click");
        },
        s : (v) => {
            $("#IDLs").trigger("click");
        },
        u : (v) => {
            $("#IDLu").trigger("click");
        },
        escape : (v) => {
            $.event.trigger("departmentCloseDialog");
            mapP67KeysCrud();
        },
        enter : (v) => {
            $.event.trigger("departmentEnter");
            mapP67KeysCrud();
        }
    }
    function mapP67KeysIDL() {
        $(document).off('keydown.p67keyevents');
        $(document).on('keydown.p67keyevents', (ev) => {
            var key = ev.key?.toLowerCase();
            if (p67KeyMapIDL[key]) {
                ev.preventDefault();
                p67KeyMapIDL[key]();
            }
        });
    }
    
    const p67KeyMapIDS = {
        escape : (v) => {
            mapP67KeysIDL();
        },
        enter : (v) => {
            if($v("P67_DEPARTMENT_SEARCH").length <= 0){
                $("#P67_DEPARTMENT_SEARCH").addClass("apex-page-item-error");
                $("#P67_DEPARTMENT_SEARCH_error_placeholder").removeClass("u-hidden");
                $("#P67_DEPARTMENT_SEARCH_error_placeholder").html("Must have some value.");
            } else {
                mapP67KeysIDL();
                $.event.trigger("deptSearch");
            }
        }
    }
    function mapP67KeysIDS() {
        $(document).off('keydown.p67keyevents');
        $(document).on('keydown.p67keyevents', (ev) => {
            var key = ev.key?.toLowerCase();
            if (p67KeyMapIDS[key]) {
                ev.preventDefault();
                p67KeyMapIDS[key]();
            }
        });
    }
    
    // Item SIC List
    const p67KeyMapISL = {
        space : (v) => {
            $("#ISLm").trigger("click");
        },
        a : (v) => {
            $("#ISLa").trigger("click");
        },
        s : (v) => {
            $("#ISLs").trigger("click");
        },
        u : (v) => {
            $("#ISLu").trigger("click");
        },
        escape : (v) => {
            $.event.trigger("sicCloseDialog");
            mapP67KeysCrud();
        },
        enter : (v) => {
            $.event.trigger("sicEnter");
            mapP67KeysCrud();
        }
    }
    function mapP67KeysISL() {
        $(document).off('keydown.p67keyevents');
        $(document).on('keydown.p67keyevents', (ev) => {
            var key = ev.key?.toLowerCase();
            if (p67KeyMapISL[key]) {
                ev.preventDefault();
                p67KeyMapISL[key]();
            }
        });
    }
    
    const p67KeyMapISS = {
        escape : (v) => {
            mapP67KeysISL();
        },
        enter : (v) => {
            if($v("P67_SIC_SEARCH").length <= 0){
                $("#P67_SIC_SEARCH").addClass("apex-page-item-error");
                $("#P67_SIC_SEARCH_error_placeholder").removeClass("u-hidden");
                $("#P67_SIC_SEARCH_error_placeholder").html("Must have some value.");
            } else {
                mapP67KeysISL();
                $.event.trigger("sicSearch");
            }
        }
    }
    function mapP67KeysISS() {
        $(document).off('keydown.p67keyevents');
        $(document).on('keydown.p67keyevents', (ev) => {
            var key = ev.key?.toLowerCase();
            if (p67KeyMapISS[key]) {
                ev.preventDefault();
                p67KeyMapISS[key]();
            }
        });
    }
    
    // Item Class List
    const p67KeyMapICL = {
        space : (v) => {
            $("#ICLm").trigger("click");
        },
        a : (v) => {
            $("#ICLa").trigger("click");
        },
        s : (v) => {
            $("#ICLs").trigger("click");
        },
        u : (v) => {
            $("#ICLu").trigger("click");
        },
        escape : (v) => {
            $.event.trigger("classCloseDialog");
            mapP67KeysCrud();
        },
        enter : (v) => {
            $.event.trigger("classEnter");
            mapP67KeysCrud();
        }
    }
    function mapP67KeysICL() {
        $(document).off('keydown.p67keyevents');
        $(document).on('keydown.p67keyevents', (ev) => {
            var key = ev.key?.toLowerCase();
            if (p67KeyMapICL[key]) {
                ev.preventDefault();
                p67KeyMapICL[key]();
            }
        });
    }
    
    const p67KeyMapICS = {
        escape : (v) => {
            mapP67KeysICL();
        },
        enter : (v) => {
            if($v("P67_CLASS_SEARCH").length <= 0){
                $("#P67_CLASS_SEARCH").addClass("apex-page-item-error");
                $("#P67_CLASS_SEARCH_error_placeholder").removeClass("u-hidden");
                $("#P67_CLASS_SEARCH_error_placeholder").html("Must have some value.");
            } else {
                mapP67KeysICL();
                $.event.trigger("classSearch");
            }
        }
    }
    function mapP67KeysICS() {
        $(document).off('keydown.p67keyevents');
        $(document).on('keydown.p67keyevents', (ev) => {
            var key = ev.key?.toLowerCase();
            if (p67KeyMapICS[key]) {
                ev.preventDefault();
                p67KeyMapICS[key]();
            }
        });
    }
    
    // Any key Exit Categories Validation
    function mapP67KeysExit(){
        $(document).off('keydown.p67keyevents');
        $(document).on('keydown.p67keyevents', (ev) => {
            $.event.trigger("itemCategoriesValidationClose");
            mapP67KeysCrud();
        });
    }
    
    // Discount List Reached Max
    const p67KeyMapReachedMax = {
        y : (v) => {
            $("#DLRMy").trigger("click");
        },
        n : (v) => {
            $("#DLRMn").trigger("click");
        },
        escape : (v) => {
            mapP67KeysView();
        }
    }
    function mapP67KeysReachedMax(){
        $(document).off('keydown.p67keyevents');
        $(document).on('keydown.p67keyevents', (ev) => {
            var key = ev.key?.toLowerCase();
            if (p67KeyMapReachedMax[key]) {
                ev.preventDefault();
                p67KeyMapReachedMax[key]();
            }
        });
    }
    
    function checkItemCategories(){
        var subcatCount = apex.region("sub-categories-table").widget()
            .interactiveGrid("getViews", "grid")
            .model.getTotalRecords()
        if( subcatCount == 0 ){
            return false;
        } else {
            return true;
        }
    }
    
    // Restrict Fields to numbers only.
    $('.a-GV-columnItem input').keypress(function (e) {
        if($('#P67_TYPE').val() == "Percent"){
            if(Number( $(this).val() + e.key ) <= 99.99){
                if(
                    e.key == "1" || e.key == "2" || e.key == "3" || e.key == "4" ||
                    e.key == "5" || e.key == "6" || e.key == "7" || e.key == "8" ||
                    e.key == "9" || e.key == "0"
                ){
                    return true;
                } else if(e.key == "." && $(this).val().indexOf('.') == -1){
                    return true;
                } else {
                    return false;
                }
            } else {
                return false;
            }
        } else if($('#P67_TYPE').val() == "Fixed") {
            if(
                e.key == "1" || e.key == "2" || e.key == "3" || e.key == "4" ||
                e.key == "5" || e.key == "6" || e.key == "7" || e.key == "8" ||
                e.key == "9" || e.key == "0"
            ){
                return true;
            } else if(e.key == "." && $(this).val().indexOf('.') == -1){
                return true;
            } else {
                return false;
            }
        } else{
            // showGPopup({
            //     icon: "fa-exclamation-circle",
            //     message: "Please enter discount type"
            // });
            $("#P67_TYPE").addClass("apex-page-item-error");
            $("#P67_TYPE_error_placeholder").removeClass("u-hidden");
            $("#P67_TYPE_error_placeholder").html("Must have some value.");
    
            $x('P67_TYPE').focus();
            return false;
        }
    });
  execute-when-page-loads: |
    mapP67KeysCrud();
    apex.actions.shortcutSupport("off");

css: 
  inline: |
    .t-Header .t-Header-branding {
        background-color: white !important;
        color: rgb(30, 58, 138) !important;
    }
    
    body {
        background-color: rgb(30, 58, 138);
    }
    
    .btns {
        font-size: 1.125rem;
        color: white;
    }
    .reached-max-btns {
        font-size: 1.125rem;
        color: black;
    }
    .dialog-btns {
        font-size: 1.125rem;
        color: white;
        background-color: #056AC8;
        border: none;
        margin-bottom: 0.4rem !important;
    }
    
    #sub-categories-table .a-IG {
        height: calc(70vh + 2px) !important;
    } 
    
    #sub-categories-table .a-IG-contentContainer {
        height: 70vh !important;
    }
    
    #sub-categories-table .a-IG-gridView.a-GV {
        height: 70vh !important;
    }
    
    #sub-categories-table .a-GV-bdy {
        height: calc(70vh - 2.5625rem) !important;
    }
    
    /* .t-Header .t-Header-branding {
        background-color: white !important;
        color: rgb(30, 58, 138) !important;
    } */
    
    #sub-categories-table_ig{
        border: 0.0625rem solid black;
    }
    
    #IDL-dialog .t-DialogRegion-body, #ICL-dialog .t-DialogRegion-body, #ISL-dialog .t-DialogRegion-body {
        background-color: #056AC8;
    }
    .ui-resizable-s {
        background-color: #056AC8;
    }
    /* .t-DialogRegion-wrap {
        background-color: #056AC8;
    } */
    
    #esc, #enter {
        display: none;
    }
    
    #readonly-form {
        margin-bottom: 0;
        background-color: rgb(30, 58, 138);
    }
    #readonly-form label{
        font-size: 1.125rem;
        color: white;
    }
    #readonly-form .readonly-field{
        font-size: 1.125rem;
        color: white;
    }
    
    #sub-categories-table table,
    #sub-categories-table tr,
    #sub-categories-table td,
    #sub-categories-table th {
        font-size: 1.125rem;
        /* font-family: Arial; */
    }
    #sicGrid table,
    #sicGrid tr,
    #sicGrid td,
    #sicGrid th {
        font-size: 1.125rem;
        /* font-family: Arial; */
    }
    #classGrid table,
    #classGrid tr,
    #classGrid td,
    #classGrid th {
        font-size: 1.125rem;
        /* font-family: Arial; */
    }
    #ICL-grid table,
    #ICL-grid tr,
    #ICL-grid td,
    #ICL-grid th {
        font-size: 1.125rem;
        /* font-family: Arial; */
    }
    #ISL-grid table,
    #ISL-grid tr,
    #ISL-grid td,
    #ISL-grid th {
        font-size: 1.125rem;
        /* font-family: Arial; */
    }
    #IDL-grid table,
    #IDL-grid tr,
    #IDL-grid td,
    #IDL-grid th {
        font-size: 1.125rem;
        /* font-family: Arial; */
    }
    #discount-list table,
    #discount-list tr,
    #discount-list td,
    #discount-list th {
        font-size: 1.125rem;
        /* font-family: Arial; */
    }
    
    #discount-list_ig, #IDL-grid_ig, #sicGrid_ig, #ISL-grid_ig, #classGrid_ig, #ICL-grid_ig {
        border: 0.0625rem solid rgb(30, 58, 138);
    }
    
    .a-GV-table .a-GV-cell, th.a-GV-header {
        border-color: rgb(30, 58, 138);
    }
    
    .a-GV-header a, th.a-GV-header {
        background-color: #046BC8;
        color: white;
    }
    
    .a-GV-hdr .a-GV-table {
        width: 100% !important;
    }
    
    #discount-form {
        background-color: rgb(30, 58, 138);
    }
    #discount-form label,
    #discount-form input,
    #discount-form select {
        font-size: 1.125rem;
    }
    #discount-form label {
        color: white;
    }
    #discount-form .t-Form-error{
        color: #FFD700;
    }
    
    #P67_TYPE, #P67_CATEGORY{
        font-size: 1.125rem;
        padding-top: 0.438rem;
        padding-bottom: 0.438rem;
    }
    
    .t-Form-labelContainer:has(> #P67_TYPE_LABEL),
    .t-Form-labelContainer:has(> #P67_DATE_FROM_LABEL),
    .t-Form-labelContainer:has(> #P67_DEPARTMENT_SEARCH_LABEL),
    .t-Form-labelContainer:has(> #P67_SIC_SEARCH_LABEL),
    .t-Form-labelContainer:has(> #P67_CLASS_SEARCH_LABEL),
    .t-Form-labelContainer:has(> #P67_CATEGORY_LABEL) {
        text-align: start;
    }
    
    .t-Form-labelContainer:has(> #P67_DATE_TO_LABEL){
        text-align: center;
    }
    
    .ui-dialog .ui-dialog-titlebar {
        background-color: #056AC8;
        color: white;
    }
    
    .ui-dialog{
        border: 2px solid black;
        border-radius: 0.75rem;
        box-shadow: 0 0.625rem 0.625rem -0.25rem rgba(0,0,0,0.2);
    }
    
    .ui-dialog-title{
        font-size: 1.5rem;
    }
    
    .ui-dialog-titlebar-close {
        display:none;
    }
    .blueCorner{
        background-color: #046BC8;
        padding-top: 0;
        padding-bottom: 0;
    }
    #DSform label, #SSform label, #CSform label,
    #DSform input, #SSform input, #CSform input {
        font-size: 1.125rem;
    }
    
    .ui-draggable {
        top: 45% !important;
    }
    
    #add-sub-dept label, #add-sub-dept input{
        font-size: 1.125rem;
    }
    
    .a-GV-columnItem input{
        text-align: right;
    }

security: 
  authentication: Page Requires Authentication
  deep-linking: Application Default
  page-access-protection: Arguments Must Have Checksum
  form-auto-complete: Off
  browser-cache: Application Default

session-management: 
  rejoin-sessions: Application Default

advanced: 
  enable-duplicate-page-submissions: Yes - Enable page to be re-posted
  reload-on-submit: Only for Success

server-cache: 
  caching: Disabled

regions: 
- # ====== Region: Sub Category Header =========================
  id: 36262271625538816
  identification: 
    name: Sub Category Header
    type: Static Content

  source: 
    html-code: '<h3 style="color:white;font-size:1.5rem;text-align:start">Sub-Categories Discount</h3>'

  layout: 
    sequence: 10
    parent-region: Sub Categories Discount # 37724744150892459
    slot: SUB_REGIONS
    start-new-layout: false
    start-new-row: true
    column: 3
    new-column: true
    column-span: 6

  appearance: 
    template: None
    render-components: Above Content

  advanced: 
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

- # ====== Region: Discount Form ===============================
  id: 37712170599853351
  identification: 
    name: Discount Form
    type: Form

  source: 
    location: Local Database
    type: Table / View
    table-owner: Parsing Schema
    table-name: NPT008
    include-rowid-column: false

  layout: 
    sequence: 40
    parent-region: No Parent
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: 6

  appearance: 
    template: Standard
    template-options: 
    - '#DEFAULT#'
    - t-Region--removeHeader js-removeLandmark
    - t-Region--noUI
    - t-Region--scrollBody
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    static-id: discount-form
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    edit: 
      enabled: true
      allowed-operations: 
      - Add Row
      - Update Row
      - Delete Row
      lost-update-type: Row Values

- # ====== Region: Sub Categories Discount =====================
  id: 37724744150892459
  identification: 
    name: Sub Categories Discount
    type: Static Content

  layout: 
    sequence: 50
    parent-region: No Parent
    slot: BODY
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: None
    render-components: Above Content

  advanced: 
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

- # ====== Region: Sub Categories Table ========================
  id: 37724854744892460
  identification: 
    name: Sub Categories Table
    type: Interactive Grid

  source: 
    location: Local Database
    type: SQL Query
    sql-query: |
      SELECT
          seq_id,
          n001,
          c001,
          c002
      FROM APEX_COLLECTIONS
      WHERE COLLECTION_NAME = 'SUBCATEGORIES'

  layout: 
    sequence: 20
    parent-region: Sub Categories Discount # 37724744150892459
    slot: SUB_REGIONS
    start-new-layout: false
    start-new-row: true
    column: 3
    new-column: true
    column-span: 6

  appearance: 
    template: Interactive Report
    template-options: 
    - '#DEFAULT#'
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    static-id: sub-categories-table
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    id: 38091360524625854
    edit: 
      enabled: true
      allowed-operations: 
      - Update Row
      lost-update-type: Row Values

    performance: 
      lazy-loading: false

    appearance: 
      select-first-row: true
      fixed-row-height: true

    pagination: 
      type: Scroll
      show-total-count: true

    toolbar: 
      show: false

    enable-users-to: 
      save-public-report: false
      flashback: false
      define-chart-view: false
      download: false

    heading: 
      fixed-to: Region
      fixed-report-height: 400

    icon-view: 
      show: false

    detail-view: 
      show: false

    advanced: 
      initialization-javascript-function: |
        function( options ) {
            options.defaultModelOptions = {
                pageSize: 1000
            };
            options.defaultGridViewOptions = {
                pagination: {
                    scroll: true,
                    virtual: true,
                    loadMore: false
                },
                resizeColumns: false,
                reorderColumns: false,
                footer: false
            };
            options.defaultGridColumnOptions = {
                noHeaderActivate: true
            }
            return options;
        }

    saved-reports: 
    - # ====== Saved Report: Primary Report ========================
      id: 38202416074230696
      identification: 
        name: Primary Report
        alias: 158932

  columns: 
  - # ====== Column: N001 ========================================
    id: 36262887568538822
    identification: 
      column-name: N001
      type: Hidden

    settings: 
      value-protected: true

    layout: 
      sequence: 20

    accessibility: 
      value-identifies-row: false

    source: 
      type: Database Column
      database-column: N001
      data-type: NUMBER
      query-only: false
      primary-key: false

    default: 
      duplicate-copies-existing-value: true

    session-state: 
      data-type: VARCHAR2

    export-/-printing: 
      include-in-export-/-print: false

    enable-users-to: 
      sort: false

    advanced: 
      column-initialization-javascript-function: |
        function( options ) {
            options.defaultGridColumnOptions = {
                noHeaderActivate: true
            };
            return options;
        }

  - # ====== Column: C001 ========================================
    id: 36262988011538823
    identification: 
      column-name: C001
      type: Display Only

    heading: 
      heading: Sub-Category
      alignment: center

    settings: 
      format: Plain Text
      based-on: Item Value

    layout: 
      sequence: 30
      column-alignment: start
      stretch: Use Report Setting

    accessibility: 
      value-identifies-row: false

    source: 
      type: Database Column
      database-column: C001
      data-type: VARCHAR2
      query-only: false
      primary-key: false

    default: 
      duplicate-copies-existing-value: true

    session-state: 
      data-type: VARCHAR2

    column-filter: 
      enabled: false

    export-/-printing: 
      include-in-export-/-print: false

    enable-users-to: 
      sort: false
      hide: false

    advanced: 
      column-initialization-javascript-function: |
        function( options ) {
            options.defaultGridColumnOptions = {
                noHeaderActivate: true
            };
            return options;
        }

  - # ====== Column: C002 ========================================
    id: 36263093967538824
    identification: 
      column-name: C002
      type: Text Field

    heading: 
      heading: Discount Value
      alignment: center

    settings: 
      trim-spaces: Leading and Trailing
      text-case: NO CHANGE

    layout: 
      sequence: 40
      column-alignment: end
      stretch: Use Report Setting

    accessibility: 
      value-identifies-row: false

    validation: 
      value-required: false
      maximum-length: 4000

    source: 
      type: Database Column
      database-column: C002
      data-type: NUMBER
      query-only: false
      primary-key: false

    default: 
      duplicate-copies-existing-value: true

    column-filter: 
      enabled: false

    export-/-printing: 
      include-in-export-/-print: false

    enable-users-to: 
      sort: false
      hide: false

    advanced: 
      column-initialization-javascript-function: |
        function( options ) {
            options.defaultGridColumnOptions = {
                noHeaderActivate: true
            };
            return options;
        }

  - # ====== Column: SEQ_ID ======================================
    id: 37621000777039506
    identification: 
      column-name: SEQ_ID
      type: Hidden

    settings: 
      value-protected: true

    layout: 
      sequence: 10

    accessibility: 
      value-identifies-row: false

    source: 
      type: Database Column
      database-column: SEQ_ID
      data-type: NUMBER
      query-only: false
      primary-key: true

    default: 
      duplicate-copies-existing-value: true

    session-state: 
      data-type: VARCHAR2

    export-/-printing: 
      include-in-export-/-print: false

    enable-users-to: 
      sort: false

- # ====== Region: Buttons =====================================
  id: 39441635958727946
  identification: 
    name: Buttons
    type: Static Content

  layout: 
    sequence: 60
    parent-region: No Parent
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: None
    render-components: Above Content

  advanced: 
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

- # ====== Region: Item Categories =============================
  id: 40001089739390964
  identification: 
    name: Item Categories
    type: Static Content

  layout: 
    sequence: 70
    parent-region: No Parent
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Inline Dialog
    template-options: 
    - '#DEFAULT#'
    - js-dialog-autoheight
    - js-dialog-size600x400
    css-classes: 
    - blueCorner
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  configuration: 
    build-option: Commented Out # 4207224469083906

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

- # ====== Region: Item Department List ========================
  id: 40003814826394445
  identification: 
    name: Item Department List
    type: Static Content

  layout: 
    sequence: 80
    parent-region: No Parent
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Inline Dialog
    template-options: 
    - js-dialog-autoheight
    - js-modal
    - js-resizable
    - js-dialog-size600x400
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    static-id: IDL-dialog
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

- # ====== Region: Item Dept Grid ==============================
  id: 40003879459394446
  identification: 
    name: Item Dept Grid
    type: Interactive Grid

  source: 
    location: Local Database
    type: SQL Query
    sql-query: |
      SELECT
          n001,
          c001
      FROM APEX_COLLECTIONS
      WHERE COLLECTION_NAME = 'ITEMDEPTLIST'

  layout: 
    sequence: 10
    parent-region: Item Department List # 40003814826394445
    slot: SUB_REGIONS
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Interactive Report
    template-options: 
    - '#DEFAULT#'
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    static-id: IDL-grid
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    id: 40003988089394447
    edit: 
      enabled: true
      allowed-operations: 
      - Update Row
      lost-update-type: Row Values

    performance: 
      lazy-loading: false

    appearance: 
      select-first-row: false
      fixed-row-height: false

    pagination: 
      type: Scroll
      show-total-count: false

    toolbar: 
      show: false

    enable-users-to: 
      save-public-report: false
      flashback: false
      define-chart-view: false
      download: false

    heading: 
      fixed-to: Region
      fixed-report-height: 260

    icon-view: 
      show: false

    detail-view: 
      show: false

    advanced: 
      initialization-javascript-function: |
        function( options ) {
            options.defaultModelOptions = {
                pageSize: 1000
            };
            options.defaultGridViewOptions = {
                pagination: {
                    scroll: true,
                    virtual: true,
                    loadMore: false
                },
                resizeColumns: false,
                reorderColumns: false,
                footer: false
            };
            options.defaultGridColumnOptions = {
                noHeaderActivate: true
            }
            return options;
        }

    saved-reports: 
    - # ====== Saved Report: Primary Report ========================
      id: 40106197732886596
      identification: 
        name: Primary Report
        alias: 160747

  columns: 
  - # ====== Column: N001 ========================================
    id: 40004247853394449
    identification: 
      column-name: N001
      type: Hidden

    settings: 
      value-protected: true

    layout: 
      sequence: 40

    accessibility: 
      value-identifies-row: false

    source: 
      type: Database Column
      database-column: N001
      data-type: NUMBER
      query-only: false
      primary-key: true

    default: 
      duplicate-copies-existing-value: true

    session-state: 
      data-type: VARCHAR2

    export-/-printing: 
      include-in-export-/-print: false

    enable-users-to: 
      sort: false

  - # ====== Column: C001 ========================================
    id: 40004321507394450
    identification: 
      column-name: C001
      type: Textarea

    heading: 
      heading: Item Department
      alignment: center

    settings: 
      resizable: true
      auto-height: false
      character-counter: false
      trim-spaces: Leading and Trailing

    layout: 
      sequence: 50
      column-alignment: center
      stretch: Use Report Setting

    accessibility: 
      value-identifies-row: false

    validation: 
      value-required: false
      maximum-length: 4000

    source: 
      type: Database Column
      database-column: C001
      data-type: VARCHAR2
      query-only: false
      primary-key: false

    default: 
      duplicate-copies-existing-value: true

    session-state: 
      data-type: VARCHAR2

    column-filter: 
      enabled: false

    export-/-printing: 
      include-in-export-/-print: false

    enable-users-to: 
      sort: false
      hide: false

    advanced: 
      column-initialization-javascript-function: |
        function( options ) {
            options.defaultGridColumnOptions = {
                noHeaderActivate: true
            };
            return options;
        }

  - # ====== Column: ADD =========================================
    id: 40004376542394451
    identification: 
      column-name: ADD
      type: Checkbox

    heading: 
      heading: Add
      alignment: center

    settings: 
      use-defaults: false
      checked-value: Y

    layout: 
      sequence: 30
      column-alignment: center
      stretch: Use Report Setting

    accessibility: 
      value-identifies-row: false

    validation: 
      value-required: false

    source: 
      type: None

    enable-users-to: 
      hide: false

    advanced: 
      column-initialization-javascript-function: |
        function( options ) {
            options.defaultGridColumnOptions = {
                noHeaderActivate: true
            };
            return options;
        }

- # ====== Region: IDL Buttons =================================
  id: 40004834735394455
  identification: 
    name: IDL Buttons
    type: Static Content

  layout: 
    sequence: 30
    parent-region: Item Department List # 40003814826394445
    slot: SUB_REGIONS
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: None
    render-components: Above Content

  advanced: 
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

- # ====== Region: Department Search ===========================
  id: 40018421230401436
  identification: 
    name: Department Search
    type: Static Content

  layout: 
    sequence: 110
    parent-region: No Parent
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Inline Dialog
    template-options: 
    - js-dialog-autoheight
    - js-modal
    - js-draggable
    - js-dialog-size600x400
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    static-id: DSform
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

- # ====== Region: Item SIC List ===============================
  id: 40842233525701274
  identification: 
    name: Item SIC List
    type: Static Content

  layout: 
    sequence: 90
    parent-region: No Parent
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Inline Dialog
    template-options: 
    - js-dialog-autoheight
    - js-modal
    - js-resizable
    - js-dialog-size600x400
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    static-id: ISL-dialog
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

- # ====== Region: Item SIC Grid ===============================
  id: 40842405470701275
  identification: 
    name: Item SIC Grid
    type: Interactive Grid

  source: 
    location: Local Database
    type: SQL Query
    sql-query: |
      SELECT
          n001,
          c001
      FROM APEX_COLLECTIONS
      WHERE COLLECTION_NAME = 'ITEMSICLIST'

  layout: 
    sequence: 20
    parent-region: Item SIC List # 40842233525701274
    slot: SUB_REGIONS
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Interactive Report
    template-options: 
    - '#DEFAULT#'
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    static-id: ISL-grid
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    id: 40842506178701276
    edit: 
      enabled: true
      allowed-operations: 
      - Update Row
      lost-update-type: Row Values

    performance: 
      lazy-loading: false

    appearance: 
      select-first-row: false
      fixed-row-height: false

    pagination: 
      type: Scroll
      show-total-count: false

    toolbar: 
      show: false

    enable-users-to: 
      save-public-report: false
      flashback: false
      define-chart-view: false
      download: false

    heading: 
      fixed-to: Region
      fixed-report-height: 260

    icon-view: 
      show: false

    detail-view: 
      show: false

    advanced: 
      initialization-javascript-function: |
        function( options ) {
            options.defaultModelOptions = {
                pageSize: 1000
            };
            options.defaultGridViewOptions = {
                pagination: {
                    scroll: true,
                    virtual: true,
                    loadMore: false
                },
                resizeColumns: false,
                reorderColumns: false,
                footer: false
            };
            options.defaultGridColumnOptions = {
                noHeaderActivate: true
            }
            return options;
        }

    saved-reports: 
    - # ====== Saved Report: Primary Report ========================
      id: 40856992703754328
      identification: 
        name: Primary Report
        alias: 168211

  columns: 
  - # ====== Column: ADD =========================================
    id: 40842584668701277
    identification: 
      column-name: ADD
      type: Checkbox

    heading: 
      heading: Add
      alignment: center

    settings: 
      use-defaults: false
      checked-value: Y

    layout: 
      sequence: 10
      column-alignment: center
      stretch: Use Report Setting

    accessibility: 
      value-identifies-row: false

    validation: 
      value-required: false

    source: 
      type: None

    enable-users-to: 
      hide: false

    advanced: 
      column-initialization-javascript-function: |
        function( options ) {
            options.defaultGridColumnOptions = {
                noHeaderActivate: true
            };
            return options;
        }

  - # ====== Column: N001 ========================================
    id: 40842634605701278
    identification: 
      column-name: N001
      type: Hidden

    settings: 
      value-protected: true

    layout: 
      sequence: 20

    accessibility: 
      value-identifies-row: false

    source: 
      type: Database Column
      database-column: N001
      data-type: NUMBER
      query-only: false
      primary-key: true

    default: 
      duplicate-copies-existing-value: true

    session-state: 
      data-type: VARCHAR2

    export-/-printing: 
      include-in-export-/-print: false

    enable-users-to: 
      sort: false

  - # ====== Column: C001 ========================================
    id: 40842796566701279
    identification: 
      column-name: C001
      type: Textarea

    heading: 
      heading: Item Department
      alignment: center

    settings: 
      resizable: true
      auto-height: false
      character-counter: false
      trim-spaces: Leading and Trailing

    layout: 
      sequence: 30
      column-alignment: center
      stretch: Use Report Setting

    accessibility: 
      value-identifies-row: false

    validation: 
      value-required: false
      maximum-length: 4000

    source: 
      type: Database Column
      database-column: C001
      data-type: VARCHAR2
      query-only: false
      primary-key: false

    default: 
      duplicate-copies-existing-value: true

    session-state: 
      data-type: VARCHAR2

    column-filter: 
      enabled: false

    export-/-printing: 
      include-in-export-/-print: false

    enable-users-to: 
      sort: false
      hide: false

    advanced: 
      column-initialization-javascript-function: |
        function( options ) {
            options.defaultGridColumnOptions = {
                noHeaderActivate: true
            };
            return options;
        }

- # ====== Region: ISL Buttons =================================
  id: 40842900438701280
  identification: 
    name: ISL Buttons
    type: Static Content

  layout: 
    sequence: 40
    parent-region: Item SIC List # 40842233525701274
    slot: SUB_REGIONS
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: None
    render-components: Above Content

  advanced: 
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

- # ====== Region: SIC Search ==================================
  id: 40854776661707657
  identification: 
    name: SIC Search
    type: Static Content

  layout: 
    sequence: 120
    parent-region: No Parent
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Inline Dialog
    template-options: 
    - js-dialog-autoheight
    - js-modal
    - js-draggable
    - js-dialog-size600x400
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    static-id: SSform
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

- # ====== Region: Item Class List =============================
  id: 40870048400770059
  identification: 
    name: Item Class List
    type: Static Content

  layout: 
    sequence: 100
    parent-region: No Parent
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Inline Dialog
    template-options: 
    - js-dialog-autoheight
    - js-modal
    - js-resizable
    - js-dialog-size600x400
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    static-id: ICL-dialog
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

- # ====== Region: Item Class Grid =============================
  id: 40870182068770060
  identification: 
    name: Item Class Grid
    type: Interactive Grid

  source: 
    location: Local Database
    type: SQL Query
    sql-query: |
      SELECT
          n001,
          c001
      FROM APEX_COLLECTIONS
      WHERE COLLECTION_NAME = 'ITEMCLASSLIST'

  layout: 
    sequence: 10
    parent-region: Item Class List # 40870048400770059
    slot: SUB_REGIONS
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Interactive Report
    template-options: 
    - '#DEFAULT#'
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    static-id: ICL-grid
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    id: 40870281671770061
    edit: 
      enabled: true
      allowed-operations: 
      - Update Row
      lost-update-type: Row Values

    performance: 
      lazy-loading: false

    appearance: 
      select-first-row: false
      fixed-row-height: false

    pagination: 
      type: Scroll
      show-total-count: false

    toolbar: 
      show: false

    enable-users-to: 
      save-public-report: false
      flashback: false
      define-chart-view: false
      download: false

    heading: 
      fixed-to: Region
      fixed-report-height: 260

    icon-view: 
      show: false

    detail-view: 
      show: false

    advanced: 
      initialization-javascript-function: |
        function( options ) {
            options.defaultModelOptions = {
                pageSize: 1000
            };
            options.defaultGridViewOptions = {
                pagination: {
                    scroll: true,
                    virtual: true,
                    loadMore: false
                },
                resizeColumns: false,
                reorderColumns: false,
                footer: false
            };
            options.defaultGridColumnOptions = {
                noHeaderActivate: true
            }
            return options;
        }

    saved-reports: 
    - # ====== Saved Report: Primary Report ========================
      id: 40918909188221037
      identification: 
        name: Primary Report
        alias: 168787

  columns: 
  - # ====== Column: ADD =========================================
    id: 40870388820770062
    identification: 
      column-name: ADD
      type: Checkbox

    heading: 
      heading: Add
      alignment: center

    settings: 
      use-defaults: false
      checked-value: Y

    layout: 
      sequence: 10
      column-alignment: center
      stretch: Use Report Setting

    accessibility: 
      value-identifies-row: false

    validation: 
      value-required: false

    source: 
      type: None

    enable-users-to: 
      hide: false

    advanced: 
      column-initialization-javascript-function: |
        function( options ) {
            options.defaultGridColumnOptions = {
                noHeaderActivate: true
            };
            return options;
        }

  - # ====== Column: N001 ========================================
    id: 40870412703770063
    identification: 
      column-name: N001
      type: Hidden

    settings: 
      value-protected: true

    layout: 
      sequence: 20

    accessibility: 
      value-identifies-row: false

    source: 
      type: Database Column
      database-column: N001
      data-type: NUMBER
      query-only: false
      primary-key: true

    default: 
      duplicate-copies-existing-value: true

    session-state: 
      data-type: VARCHAR2

    export-/-printing: 
      include-in-export-/-print: false

    enable-users-to: 
      sort: false

  - # ====== Column: C001 ========================================
    id: 40870553790770064
    identification: 
      column-name: C001
      type: Textarea

    heading: 
      heading: Item Department
      alignment: center

    settings: 
      resizable: true
      auto-height: false
      character-counter: false
      trim-spaces: Leading and Trailing

    layout: 
      sequence: 30
      column-alignment: center
      stretch: Use Report Setting

    accessibility: 
      value-identifies-row: false

    validation: 
      value-required: false
      maximum-length: 4000

    source: 
      type: Database Column
      database-column: C001
      data-type: VARCHAR2
      query-only: false
      primary-key: false

    default: 
      duplicate-copies-existing-value: true

    session-state: 
      data-type: VARCHAR2

    column-filter: 
      enabled: false

    export-/-printing: 
      include-in-export-/-print: false

    enable-users-to: 
      sort: false
      hide: false

    advanced: 
      column-initialization-javascript-function: |
        function( options ) {
            options.defaultGridColumnOptions = {
                noHeaderActivate: true
            };
            return options;
        }

- # ====== Region: ISL Buttons =================================
  id: 40870663228770065
  identification: 
    name: ISL Buttons
    type: Static Content

  layout: 
    sequence: 20
    parent-region: Item Class List # 40870048400770059
    slot: SUB_REGIONS
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: None
    render-components: Above Content

  advanced: 
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

- # ====== Region: Class Search ================================
  id: 40897776769122452
  identification: 
    name: Class Search
    type: Static Content

  layout: 
    sequence: 130
    parent-region: No Parent
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Inline Dialog
    template-options: 
    - js-dialog-autoheight
    - js-modal
    - js-draggable
    - js-dialog-size600x400
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    static-id: CSform
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

page-items: 
- # ====== Page Item: P67_PAGE_STATUS ==========================
  id: 22264591936028304
  identification: 
    name: P67_PAGE_STATUS
    type: Hidden

  settings: 
    value-protected: true

  layout: 
    sequence: 30
    region: No Parent
    slot: BODY

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    type: Null
    used: Only when current value in session state is null

  session-state: 
    data-type: VARCHAR2
    storage: Per Session (Persistent)

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

  configuration: 
    build-option: Commented Out # 4207224469083906

- # ====== Page Item: P67_DISCOUNT_DESC ========================
  id: 36262139105538815
  identification: 
    name: P67_DISCOUNT_DESC
    type: Text Field

  label: 
    label: 'Discount Description <span style="color:red">*</span>'
    alignment: Left

  settings: 
    subtype: Text
    trim-spaces: Leading and Trailing
    text-case: NO CHANGE
    submit-when-enter-pressed: false
    disabled: false

  layout: 
    sequence: 30
    region: Discount Form # 37712170599853351
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: 10
    label-column-span: Page Template Default

  appearance: 
    template: Optional - Above
    template-options: 
    - '#DEFAULT#'
    - t-Form-fieldContainer--stretchInputs
    width: 30

  validation: 
    value-required: false
    maximum-length: 50

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Discount Form # 37712170599853351
    column: DISCOUNT_CODE
    data-type: VARCHAR2
    query-only: false
    primary-key: false

  session-state: 
    storage: Per Request (Memory Only)

  quick-picks: 
    show-quick-picks: false

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P67_SELECTED_SUBCATEGORY =================
  id: 37621401372039510
  identification: 
    name: P67_SELECTED_SUBCATEGORY
    type: Hidden

  settings: 
    value-protected: true

  layout: 
    sequence: 20
    region: No Parent
    slot: BODY

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    type: Null
    used: Only when current value in session state is null

  session-state: 
    data-type: VARCHAR2
    storage: Per Session (Persistent)

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P67_DISCOUNT_ID ==========================
  id: 37712739189853358
  identification: 
    name: P67_DISCOUNT_ID
    type: Hidden

  settings: 
    value-protected: true

  layout: 
    sequence: 10
    region: Discount Form # 37712170599853351
    slot: BODY

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Discount Form # 37712170599853351
    column: DISCOUNT_ID
    data-type: NUMBER
    query-only: false
    primary-key: true

  session-state: 
    data-type: VARCHAR2
    storage: Per Request (Memory Only)

  security: 
    session-state-protection: Checksum Required - Session Level
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P67_DISCOUNT_CODE ========================
  id: 37712956390853360
  identification: 
    name: P67_DISCOUNT_CODE
    type: Text Field

  label: 
    label: 'Discount Code <span style="color:red">*</span>'
    alignment: Left

  settings: 
    subtype: Text
    trim-spaces: Leading and Trailing
    text-case: Upper
    submit-when-enter-pressed: false
    disabled: false

  layout: 
    sequence: 20
    region: Discount Form # 37712170599853351
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: 5
    label-column-span: Page Template Default

  appearance: 
    template: Optional - Above
    template-options: 
    - '#DEFAULT#'
    - t-Form-fieldContainer--stretchInputs
    width: 30

  validation: 
    value-required: false
    maximum-length: 8

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Discount Form # 37712170599853351
    column: DISCOUNT_CODE
    data-type: VARCHAR2
    query-only: false
    primary-key: false

  session-state: 
    storage: Per Request (Memory Only)

  quick-picks: 
    show-quick-picks: false

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P67_CUSTOMER_ID_DISCOUNT =================
  id: 37713711038853368
  identification: 
    name: P67_CUSTOMER_ID_DISCOUNT
    type: Hidden

  settings: 
    value-protected: true

  layout: 
    sequence: 90
    region: Discount Form # 37712170599853351
    slot: BODY

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Discount Form # 37712170599853351
    column: CUSTOMER_ID
    data-type: NUMBER
    query-only: false
    primary-key: false

  session-state: 
    data-type: VARCHAR2
    storage: Per Request (Memory Only)

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

  configuration: 
    build-option: Commented Out # 4207224469083906

- # ====== Page Item: P67_CATEGORY =============================
  id: 37716226744853375
  identification: 
    name: P67_CATEGORY
    type: Select List

  label: 
    label: 'Category <span style="color:red">*</span>'
    alignment: Left

  settings: 
    page-action-on-selection: None

  multiple-values: 
    type: No

  layout: 
    sequence: 50
    region: Discount Form # 37712170599853351
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: 5
    label-column-span: 2

  appearance: 
    template: Optional
    template-options: 
    - '#DEFAULT#'
    - t-Form-fieldContainer--stretchInputs
    height: 1

  validation: 
    value-required: false

  list-of-values: 
    type: Static Values
    static-values: 'STATIC:Department;Department,SIC;SIC,Class;Class'
    display-extra-values: true
    display-null-value: true

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Discount Form # 37712170599853351
    column: CATEGORY
    data-type: VARCHAR2
    query-only: false
    primary-key: false

  session-state: 
    storage: Per Request (Memory Only)

  quick-picks: 
    show-quick-picks: false

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P67_TYPE =================================
  id: 37716461492853377
  identification: 
    name: P67_TYPE
    type: Select List

  label: 
    label: 'Type <span style="color:red">*</span>'
    alignment: Left

  settings: 
    page-action-on-selection: None

  multiple-values: 
    type: No

  layout: 
    sequence: 40
    region: Discount Form # 37712170599853351
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: 5
    label-column-span: 2

  appearance: 
    template: Optional
    template-options: 
    - '#DEFAULT#'
    - t-Form-fieldContainer--stretchInputs
    height: 1

  validation: 
    value-required: false

  list-of-values: 
    type: Static Values
    static-values: 'STATIC2:Percent;Percent,Fixed;Fixed'
    display-extra-values: true
    display-null-value: true

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Discount Form # 37712170599853351
    column: TYPE
    data-type: VARCHAR2
    query-only: false
    primary-key: false

  session-state: 
    storage: Per Request (Memory Only)

  quick-picks: 
    show-quick-picks: false

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P67_DATE_FROM ============================
  id: 37716533236853378
  identification: 
    name: P67_DATE_FROM
    type: Date Picker

  label: 
    label: 'Eff Date Range <span style="color:red">*</span>'
    alignment: Left

  settings: 
    show-time: false
    display-as: Popup
    minimum-date: None
    maximum-date: Item
    maximum-item: P67_DATE_TO
    multiple-months: No
    use-defaults: true

  layout: 
    sequence: 60
    region: Discount Form # 37712170599853351
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: 4
    label-column-span: 2

  appearance: 
    template: Optional
    template-options: 
    - '#DEFAULT#'
    width: 30

  validation: 
    value-required: false

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Discount Form # 37712170599853351
    column: DATE_FROM
    data-type: DATE
    query-only: false
    primary-key: false

  session-state: 
    storage: Per Request (Memory Only)

  quick-picks: 
    show-quick-picks: false

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P67_DATE_TO ==============================
  id: 37716652689853379
  identification: 
    name: P67_DATE_TO
    type: Date Picker

  label: 
    label: To
    alignment: Left

  settings: 
    show-time: false
    display-as: Popup
    minimum-date: Item
    minimum-item: P67_DATE_FROM
    maximum-date: None
    multiple-months: No
    use-defaults: true

  layout: 
    sequence: 70
    region: Discount Form # 37712170599853351
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: 3
    label-column-span: 1

  appearance: 
    template: Optional
    template-options: 
    - '#DEFAULT#'
    width: 30

  validation: 
    value-required: false

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Discount Form # 37712170599853351
    column: DATE_TO
    data-type: DATE
    query-only: false
    primary-key: false

  session-state: 
    storage: Per Request (Memory Only)

  quick-picks: 
    show-quick-picks: false

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P67_SUBCATEGORY_VALIDATION ===============
  id: 38733789453412610
  identification: 
    name: P67_SUBCATEGORY_VALIDATION
    type: Hidden

  settings: 
    value-protected: false

  layout: 
    sequence: 10
    region: No Parent
    slot: BODY

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    type: Null
    used: Only when current value in session state is null

  session-state: 
    data-type: VARCHAR2
    storage: Per Session (Persistent)

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P67_CATEGORY_INITIAL =====================
  id: 38734687505412619
  identification: 
    name: P67_CATEGORY_INITIAL
    type: Hidden

  settings: 
    value-protected: true

  layout: 
    sequence: 100
    region: Discount Form # 37712170599853351
    slot: BODY

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Discount Form # 37712170599853351
    column: CATEGORY
    data-type: VARCHAR2
    query-only: false
    primary-key: false

  session-state: 
    data-type: VARCHAR2
    storage: Per Request (Memory Only)

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P67_DATE_FROM_INITIAL ====================
  id: 39154610482225075
  identification: 
    name: P67_DATE_FROM_INITIAL
    type: Hidden

  settings: 
    value-protected: true

  layout: 
    sequence: 110
    region: Discount Form # 37712170599853351
    slot: BODY

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Discount Form # 37712170599853351
    column: DATE_FROM
    data-type: DATE
    query-only: false
    primary-key: false

  session-state: 
    data-type: VARCHAR2
    storage: Per Request (Memory Only)

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P67_DATE_TO_INITIAL_1 ====================
  id: 39490778426286254
  identification: 
    name: P67_DATE_TO_INITIAL_1
    type: Hidden

  settings: 
    value-protected: true

  layout: 
    sequence: 120
    region: Discount Form # 37712170599853351
    slot: BODY

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    form-region: Discount Form # 37712170599853351
    column: DATE_TO
    data-type: DATE
    query-only: false
    primary-key: false

  session-state: 
    data-type: VARCHAR2
    storage: Per Request (Memory Only)

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P67_DEPARTMENT_SEARCH ====================
  id: 40018881927401439
  identification: 
    name: P67_DEPARTMENT_SEARCH
    type: Text Field

  label: 
    label: 'Item Department:'
    alignment: Left

  settings: 
    subtype: Text
    trim-spaces: Leading and Trailing
    text-case: NO CHANGE
    submit-when-enter-pressed: false
    disabled: false

  layout: 
    sequence: 10
    region: Department Search # 40018421230401436
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    label-column-span: 4

  appearance: 
    template: Optional
    template-options: 
    - '#DEFAULT#'
    - t-Form-fieldContainer--stretchInputs
    width: 30

  validation: 
    value-required: false

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    type: Null
    used: Only when current value in session state is null

  session-state: 
    storage: Per Request (Memory Only)

  quick-picks: 
    show-quick-picks: false

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P67_SIC_SEARCH ===========================
  id: 40872611777775110
  identification: 
    name: P67_SIC_SEARCH
    type: Text Field

  label: 
    label: 'Item SIC:'
    alignment: Left

  settings: 
    subtype: Text
    trim-spaces: Leading and Trailing
    text-case: NO CHANGE
    submit-when-enter-pressed: false
    disabled: false

  layout: 
    sequence: 10
    region: SIC Search # 40854776661707657
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    label-column-span: 4

  appearance: 
    template: Optional
    template-options: 
    - '#DEFAULT#'
    - t-Form-fieldContainer--stretchInputs
    width: 30

  validation: 
    value-required: false

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    type: Null
    used: Only when current value in session state is null

  session-state: 
    storage: Per Request (Memory Only)

  quick-picks: 
    show-quick-picks: false

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

- # ====== Page Item: P67_CLASS_SEARCH =========================
  id: 40898215965122455
  identification: 
    name: P67_CLASS_SEARCH
    type: Text Field

  label: 
    label: 'Item Class:'
    alignment: Left

  settings: 
    subtype: Text
    trim-spaces: Leading and Trailing
    text-case: NO CHANGE
    submit-when-enter-pressed: false
    disabled: false

  layout: 
    sequence: 10
    region: Class Search # 40897776769122452
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    label-column-span: 4

  appearance: 
    template: Optional
    template-options: 
    - '#DEFAULT#'
    - t-Form-fieldContainer--stretchInputs
    width: 30

  validation: 
    value-required: false

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    type: Null
    used: Only when current value in session state is null

  session-state: 
    storage: Per Request (Memory Only)

  quick-picks: 
    show-quick-picks: false

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

buttons: 
- # ====== Button: Add_Item_Categories =========================
  id: 24027863052343735
  identification: 
    button-name: Add_Item_Categories
    label: <u>F8</u> - Add/Remove Sub-categories

  layout: 
    sequence: 10
    region: Buttons # 39441635958727946
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--noUI
    css-classes: 
    - btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: f8

- # ====== Button: Escape ======================================
  id: 24028259325343737
  identification: 
    button-name: Escape
    label: '-'

  layout: 
    sequence: 60
    region: Buttons # 39441635958727946
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--noUI
    css-classes: 
    - invisible-btn

  behavior: 
    action: Redirect to Page in this Application
    target: 
      url: 'f?p=&APP_ID.:66:&SESSION.::&DEBUG.:::'
      page: 66 # Discount List

    warn-on-unsaved-changes: Do Not Check

  advanced: 
    static-id: esc

- # ====== Button: Add_Item_Department =========================
  id: 24030309723353467
  identification: 
    button-name: Add_Item_Department
    label: <u>D</u> - Add Item Department

  layout: 
    sequence: 10
    region: Item Categories # 40001089739390964
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--stretch
    css-classes: 
    - dialog-btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: d

- # ====== Button: Add_Item_SIC ================================
  id: 24030733881353468
  identification: 
    button-name: Add_Item_SIC
    label: <u>S</u> - Add Item SIC

  layout: 
    sequence: 20
    region: Item Categories # 40001089739390964
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--stretch
    css-classes: 
    - dialog-btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: s

- # ====== Button: Add_Item_Class ==============================
  id: 24031180572353468
  identification: 
    button-name: Add_Item_Class
    label: <u>C</u> - Add Item Class

  layout: 
    sequence: 30
    region: Item Categories # 40001089739390964
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--stretch
    css-classes: 
    - dialog-btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: c

- # ====== Button: IDL_Mark ====================================
  id: 24034383594356940
  identification: 
    button-name: IDL_Mark
    label: <u>Space</u> - Mark/Unmark

  layout: 
    sequence: 10
    region: IDL Buttons # 40004834735394455
    slot: BODY
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--noUI
    - t-Button--stretch
    css-classes: 
    - dialog-btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: IDLm

- # ====== Button: IDL_Mark_All ================================
  id: 24034785796356940
  identification: 
    button-name: IDL_Mark_All
    label: <u>A</u> - Mark All

  layout: 
    sequence: 20
    region: IDL Buttons # 40004834735394455
    slot: BODY
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--noUI
    - t-Button--stretch
    css-classes: 
    - dialog-btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: IDLa

- # ====== Button: IDL_Search ==================================
  id: 24035105209356942
  identification: 
    button-name: IDL_Search
    label: <u>S</u> - Search

  layout: 
    sequence: 30
    region: IDL Buttons # 40004834735394455
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--noUI
    - t-Button--stretch
    css-classes: 
    - dialog-btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: IDLs

- # ====== Button: IDL_Unmark_All ==============================
  id: 24035504342356942
  identification: 
    button-name: IDL_Unmark_All
    label: <u>U</u> - Unmark All

  layout: 
    sequence: 50
    region: IDL Buttons # 40004834735394455
    slot: BODY
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--noUI
    - t-Button--stretch
    css-classes: 
    - dialog-btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: IDLu

- # ====== Button: ISL_Mark ====================================
  id: 24038640593358962
  identification: 
    button-name: ISL_Mark
    label: <u>Space</u> - Mark/Unmark

  layout: 
    sequence: 10
    region: ISL Buttons # 40842900438701280
    slot: BODY
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--noUI
    - t-Button--stretch
    css-classes: 
    - dialog-btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: ISLm

- # ====== Button: ISL_Search ==================================
  id: 24039037542358962
  identification: 
    button-name: ISL_Search
    label: <u>S</u> - Search

  layout: 
    sequence: 30
    region: ISL Buttons # 40842900438701280
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--noUI
    - t-Button--stretch
    css-classes: 
    - dialog-btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: ISLs

- # ====== Button: ISL_Mark_All ================================
  id: 24039402993358962
  identification: 
    button-name: ISL_Mark_All
    label: <u>A</u> - Mark All

  layout: 
    sequence: 20
    region: ISL Buttons # 40842900438701280
    slot: BODY
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--noUI
    - t-Button--stretch
    css-classes: 
    - dialog-btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: ISLa

- # ====== Button: ISL_Unmark_All ==============================
  id: 24039831231358964
  identification: 
    button-name: ISL_Unmark_All
    label: <u>U</u> - Unmark All

  layout: 
    sequence: 50
    region: ISL Buttons # 40842900438701280
    slot: BODY
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--noUI
    - t-Button--stretch
    css-classes: 
    - dialog-btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: ISLu

- # ====== Button: ICL_Mark ====================================
  id: 24043019371360234
  identification: 
    button-name: ICL_Mark
    label: <u>Space</u> - Mark/Unmark

  layout: 
    sequence: 10
    region: ISL Buttons # 40870663228770065
    slot: BODY
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--noUI
    - t-Button--stretch
    css-classes: 
    - dialog-btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: ICLm

- # ====== Button: ICL_Search ==================================
  id: 24043496206360234
  identification: 
    button-name: ICL_Search
    label: <u>S</u> - Search

  layout: 
    sequence: 30
    region: ISL Buttons # 40870663228770065
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--noUI
    - t-Button--stretch
    css-classes: 
    - dialog-btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: ICLs

- # ====== Button: ICL_Mark_All ================================
  id: 24043818485360235
  identification: 
    button-name: ICL_Mark_All
    label: <u>A</u> - Mark All

  layout: 
    sequence: 20
    region: ISL Buttons # 40870663228770065
    slot: BODY
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--noUI
    - t-Button--stretch
    css-classes: 
    - dialog-btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: ICLa

- # ====== Button: ICL_Unmark_All ==============================
  id: 24044266190360235
  identification: 
    button-name: ICL_Unmark_All
    label: <u>U</u> - Unmark All

  layout: 
    sequence: 50
    region: ISL Buttons # 40870663228770065
    slot: BODY
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--noUI
    - t-Button--stretch
    css-classes: 
    - dialog-btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: ICLu

- # ====== Button: Navigate ====================================
  id: 38733019067412603
  identification: 
    button-name: Navigate
    label: <u>F6</u> - Navigate

  layout: 
    sequence: 40
    region: Buttons # 39441635958727946
    slot: BODY
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--noUI
    css-classes: 
    - btns

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: false

  advanced: 
    static-id: f6

dynamic-actions: 
- # ====== Dynamic Action: Open Item Categories ================
  id: 22494066598163628
  identification: 
    name: Open Item Categories

  execution: 
    sequence: 10
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: Add_Item_Categories # 24027863052343735

  configuration: 
    build-option: Commented Out # 4207224469083906

  actions: 
  - # ====== Action: Open Region =================================
    id: 22494122701163629
    identification: 
      action: Open Region

    affected-elements: 
      selection-type: Region
      region: Item Categories # 40001089739390964

    execution: 
      sequence: 10
      event: Open Item Categories # 22494066598163628
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Execute JavaScript Code =====================
    id: 22494212295163630
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: mapP67KeysIC();

    execution: 
      sequence: 20
      event: Open Item Categories # 22494066598163628
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Open Item Department List ===========
  id: 22494347211163631
  identification: 
    name: Open Item Department List

  execution: 
    sequence: 20
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: Add_Item_Department # 24030309723353467

  actions: 
  - # ====== Action: Execute Server-side Code ====================
    id: 22494498312163632
    identification: 
      action: Execute Server-side Code

    settings: 
      language: PE.PROPERTY.SOURCE_SNIPPET_LANG.LOV.PLSQL.D
      pl/sql-code: |
        DECLARE
            l_selected_ids NUMBER;
            CURSOR c_dept IS 
            SELECT n001, c001
            FROM APEX_COLLECTIONS
            WHERE COLLECTION_NAME = 'ITEMDEPT';
        BEGIN
            APEX_COLLECTION.TRUNCATE_COLLECTION ('ITEMDEPTLIST');
            SELECT
                COUNT(n001)
            INTO l_selected_ids
            FROM APEX_COLLECTIONS
            WHERE COLLECTION_NAME = 'ITEMDEPT';
        
            IF
                l_selected_ids > 0 THEN
                FOR c IN c_dept LOOP
                    apex_collection.add_member (p_collection_name => 'ITEMDEPTLIST',
                        p_n001 => c.n001,
                        p_c001 => c.c001
                    );
                END LOOP;
            END IF;
            
            APEX_COLLECTION.RESEQUENCE_COLLECTION ('ITEMDEPTLIST');
        END;

    execution: 
      sequence: 10
      event: Open Item Department List # 22494347211163631
      fire-when-event-result-is: True
      fire-on-initialization: false
      stop-execution-on-error: true
      wait-for-result: true

  - # ====== Action: Close Region ================================
    id: 22494510680163633
    identification: 
      action: Close Region

    affected-elements: 
      selection-type: Region
      region: Item Categories # 40001089739390964

    execution: 
      sequence: 20
      event: Open Item Department List # 22494347211163631
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Open Region =================================
    id: 22494658786163634
    identification: 
      action: Open Region

    affected-elements: 
      selection-type: Region
      region: Item Department List # 40003814826394445

    execution: 
      sequence: 30
      event: Open Item Department List # 22494347211163631
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Execute JavaScript Code =====================
    id: 22494719854163635
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        var grid = apex.region('IDL-grid').widget().interactiveGrid('getViews').grid;
        // grid.model.clearChanges(); // Clears unsaved changes to avoid warnings
        apex.region('IDL-grid').refresh(); // Refreshes the Interactive Grid
        
        setTimeout(() => {
            $( document ).ready(function() {
                $(".js-confirmBtn").trigger("click");
            });
            mapP67KeysIDL();
            setTimeout(() => {
                $( document ).ready(function() {
                    $("#IDL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody .a-GV-cell").first().trigger("click");
                });
            }, "500");
        }, "500");

    execution: 
      sequence: 40
      event: Open Item Department List # 22494347211163631
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Create Collections ==================
  id: 24113909390650479
  identification: 
    name: Create Collections

  execution: 
    sequence: 20
    event-scope: Static

  when: 
    event: Page Load

  actions: 
  - # ====== Action: ITEMDEPTLIST ================================
    id: 24114393675650481
    identification: 
      name: ITEMDEPTLIST
      action: Execute Server-side Code

    settings: 
      language: PE.PROPERTY.SOURCE_SNIPPET_LANG.LOV.PLSQL.D
      pl/sql-code: |
        DECLARE
            v_collection_name varchar2(20) := 'ITEMDEPTLIST';
        BEGIN
            -- IF NOT apex_collection.collection_exists(p_collection_name => v_collection_name) THEN
            APEX_COLLECTION.CREATE_OR_TRUNCATE_COLLECTION(v_collection_name);
            -- END IF;
            FOR c IN (
                SELECT DEPT_ID, DEPT_NAME
                FROM NIM024
            ) LOOP
                apex_collection.add_member (p_collection_name => v_collection_name,
                    p_n001 => c.DEPT_ID,
                    p_c001 => c.DEPT_NAME
                );
            END LOOP;
        
            APEX_COLLECTION.RESEQUENCE_COLLECTION(v_collection_name);
        
            EXCEPTION WHEN others THEN
                raise_application_error(-2000,DBMS_UTILITY.format_error_backtrace);
        END;

    execution: 
      sequence: 20
      event: Create Collections # 24113909390650479
      fire-when-event-result-is: True
      fire-on-initialization: false
      stop-execution-on-error: true
      wait-for-result: true

  - # ====== Action: ITEMSIC =====================================
    id: 24114834057650482
    identification: 
      name: ITEMSIC
      action: Execute Server-side Code

    settings: 
      language: PE.PROPERTY.SOURCE_SNIPPET_LANG.LOV.PLSQL.D
      pl/sql-code: |
        DECLARE
            v_collection_name varchar2(20) := 'ITEMSIC';
        BEGIN
            -- IF NOT apex_collection.collection_exists(p_collection_name => v_collection_name) THEN
            APEX_COLLECTION.CREATE_OR_TRUNCATE_COLLECTION(v_collection_name);
            -- END IF;
        
            EXCEPTION WHEN others THEN
                raise_application_error(-2000,DBMS_UTILITY.format_error_backtrace);
        END;

    execution: 
      sequence: 30
      event: Create Collections # 24113909390650479
      fire-when-event-result-is: True
      fire-on-initialization: false
      stop-execution-on-error: true
      wait-for-result: true

    configuration: 
      build-option: Commented Out # 4207224469083906

  - # ====== Action: ITEMSICLIST =================================
    id: 24115350703650482
    identification: 
      name: ITEMSICLIST
      action: Execute Server-side Code

    settings: 
      language: PE.PROPERTY.SOURCE_SNIPPET_LANG.LOV.PLSQL.D
      pl/sql-code: |
        DECLARE
            v_collection_name varchar2(20) := 'ITEMSICLIST';
        BEGIN
            -- IF NOT apex_collection.collection_exists(p_collection_name => v_collection_name) THEN
            APEX_COLLECTION.CREATE_OR_TRUNCATE_COLLECTION(v_collection_name);
            -- END IF;
        
            FOR c IN (
                SELECT SIC_ID, SIC_NAME
                FROM NIM023
            ) LOOP
                apex_collection.add_member (p_collection_name => v_collection_name,
                    p_n001 => c.SIC_ID,
                    p_c001 => c.SIC_NAME
                );
            END LOOP;
        
            APEX_COLLECTION.RESEQUENCE_COLLECTION(v_collection_name);
        
            EXCEPTION WHEN others THEN
                raise_application_error(-2000,DBMS_UTILITY.format_error_backtrace);
        END;

    execution: 
      sequence: 40
      event: Create Collections # 24113909390650479
      fire-when-event-result-is: True
      fire-on-initialization: false
      stop-execution-on-error: true
      wait-for-result: true

  - # ====== Action: ITEMCLASS ===================================
    id: 24115866269650482
    identification: 
      name: ITEMCLASS
      action: Execute Server-side Code

    settings: 
      language: PE.PROPERTY.SOURCE_SNIPPET_LANG.LOV.PLSQL.D
      pl/sql-code: |
        DECLARE
            v_collection_name varchar2(20) := 'ITEMCLASS';
        BEGIN
            -- IF NOT apex_collection.collection_exists(p_collection_name => v_collection_name) THEN
            APEX_COLLECTION.CREATE_OR_TRUNCATE_COLLECTION(v_collection_name);
            -- END IF;
        
            EXCEPTION WHEN others THEN
                raise_application_error(-2000,DBMS_UTILITY.format_error_backtrace);
        END;

    execution: 
      sequence: 50
      event: Create Collections # 24113909390650479
      fire-when-event-result-is: True
      fire-on-initialization: false
      stop-execution-on-error: true
      wait-for-result: true

    configuration: 
      build-option: Commented Out # 4207224469083906

  - # ====== Action: ITEMCLASSLIST ===============================
    id: 24116372966650484
    identification: 
      name: ITEMCLASSLIST
      action: Execute Server-side Code

    settings: 
      language: PE.PROPERTY.SOURCE_SNIPPET_LANG.LOV.PLSQL.D
      pl/sql-code: |
        DECLARE
            v_collection_name varchar2(20) := 'ITEMCLASSLIST';
        BEGIN
            -- IF NOT apex_collection.collection_exists(p_collection_name => v_collection_name) THEN
            APEX_COLLECTION.CREATE_OR_TRUNCATE_COLLECTION(v_collection_name);
            -- END IF;
        
            FOR c IN (
                SELECT CLASS_ID, CLASS_NAME
                FROM NIM025
            ) LOOP
                apex_collection.add_member (p_collection_name => v_collection_name,
                    p_n001 => c.CLASS_ID,
                    p_c001 => c.CLASS_NAME
                );
            END LOOP;
        
            APEX_COLLECTION.RESEQUENCE_COLLECTION(v_collection_name);
        
            EXCEPTION WHEN others THEN
                raise_application_error(-2000,DBMS_UTILITY.format_error_backtrace);
        END;

    execution: 
      sequence: 60
      event: Create Collections # 24113909390650479
      fire-when-event-result-is: True
      fire-on-initialization: false
      stop-execution-on-error: true
      wait-for-result: true

  - # ====== Action: SUB_CATEGORIES_DISCOUNT =====================
    id: 24116879588650484
    identification: 
      name: SUB_CATEGORIES_DISCOUNT
      action: Execute Server-side Code

    settings: 
      language: PE.PROPERTY.SOURCE_SNIPPET_LANG.LOV.PLSQL.D
      pl/sql-code: |
        DECLARE
            v_collection_name varchar2(20) := 'SUBCATEGORIES';
        BEGIN
            -- IF NOT apex_collection.collection_exists(p_collection_name => v_collection_name) THEN
            APEX_COLLECTION.CREATE_OR_TRUNCATE_COLLECTION(v_collection_name);
            -- END IF;
        
            -- apex_collection.add_member (p_collection_name => 'SUBCATEGORIES',
            --         p_n001 => 1,
            --         p_c001 => 'Sample 1'
            --     );
            -- apex_collection.add_member (p_collection_name => 'SUBCATEGORIES',
            --         p_n001 => 2,
            --         p_c001 => 'Sample 2'
            --     );
        
            EXCEPTION WHEN others THEN
                raise_application_error(-2000,DBMS_UTILITY.format_error_backtrace);
        END;

    execution: 
      sequence: 10
      event: Create Collections # 24113909390650479
      fire-when-event-result-is: True
      fire-on-initialization: false
      stop-execution-on-error: true
      wait-for-result: true

  - # ====== Action: ITEMDEPT POPULATE ===========================
    id: 24117386575650484
    identification: 
      name: ITEMDEPT POPULATE
      action: Execute Server-side Code

    settings: 
      language: PE.PROPERTY.SOURCE_SNIPPET_LANG.LOV.PLSQL.D
      pl/sql-code: |
        DECLARE
            -- v_collection_name varchar2(20) := 'ITEMDEPT';
            CURSOR c_dept IS 
            SELECT
                DEPT_ID, DEPT_NAME, DISCOUNT_VALUE
            FROM NPT029
            WHERE DISCOUNT_ID = :P67_DISCOUNT_ID;
        BEGIN
            FOR c IN c_dept LOOP
                apex_collection.add_member (p_collection_name => 'SUBCATEGORIES',
                    p_n001 => c.DEPT_ID,
                    p_c001 => c.DEPT_NAME,
                    p_c002 => c.DISCOUNT_VALUE
                );
            END LOOP;
        
            -- EXCEPTION WHEN others THEN
            --     raise_application_error(-2000,DBMS_UTILITY.format_error_backtrace);
        END;
      items-to-submit: 
      - P67_DISCOUNT_ID

    execution: 
      sequence: 80
      event: Create Collections # 24113909390650479
      fire-when-event-result-is: True
      fire-on-initialization: false
      stop-execution-on-error: true
      wait-for-result: true

    server-side-condition: 
      type: Item = Value
      item: P67_CATEGORY
      value: Department

  - # ====== Action: ITEMSIC POPULATE ============================
    id: 24117828507650485
    identification: 
      name: ITEMSIC POPULATE
      action: Execute Server-side Code

    settings: 
      language: PE.PROPERTY.SOURCE_SNIPPET_LANG.LOV.PLSQL.D
      pl/sql-code: |
        DECLARE
            -- v_collection_name varchar2(20) := 'ITEMDEPT';
            CURSOR c_sic IS 
            SELECT
                SIC_ID, SIC_NAME, DISCOUNT_VALUE
            FROM NPT028
            WHERE DISCOUNT_ID = :P67_DISCOUNT_ID;
        BEGIN
            FOR c IN c_sic LOOP
                apex_collection.add_member (p_collection_name => 'SUBCATEGORIES',
                    p_n001 => c.SIC_ID,
                    p_c001 => c.SIC_NAME,
                    p_c002 => c.DISCOUNT_VALUE
                );
            END LOOP;
        
            -- EXCEPTION WHEN others THEN
            --     raise_application_error(-2000,DBMS_UTILITY.format_error_backtrace);
        END;
      items-to-submit: 
      - P67_DISCOUNT_ID

    execution: 
      sequence: 90
      event: Create Collections # 24113909390650479
      fire-when-event-result-is: True
      fire-on-initialization: false
      stop-execution-on-error: true
      wait-for-result: true

    server-side-condition: 
      type: Item = Value
      item: P67_CATEGORY
      value: SIC

  - # ====== Action: ITEMCLASS POPULATE ==========================
    id: 24118305444650485
    identification: 
      name: ITEMCLASS POPULATE
      action: Execute Server-side Code

    settings: 
      language: PE.PROPERTY.SOURCE_SNIPPET_LANG.LOV.PLSQL.D
      pl/sql-code: |
        DECLARE
            -- v_collection_name varchar2(20) := 'ITEMDEPT';
            CURSOR c_class IS 
            SELECT
                CLASS_ID, CLASS_NAME, DISCOUNT_VALUE
            FROM NPT030
            WHERE DISCOUNT_ID = :P67_DISCOUNT_ID;
        BEGIN
            FOR c IN c_class LOOP
                apex_collection.add_member (p_collection_name => 'SUBCATEGORIES',
                    p_n001 => c.CLASS_ID,
                    p_c001 => c.CLASS_NAME,
                    p_c002 => c.DISCOUNT_VALUE
                );
            END LOOP;
        
            -- EXCEPTION WHEN others THEN
            --     raise_application_error(-2000,DBMS_UTILITY.format_error_backtrace);
        END;
      items-to-submit: 
      - P67_DISCOUNT_ID

    execution: 
      sequence: 70
      event: Create Collections # 24113909390650479
      fire-when-event-result-is: True
      fire-on-initialization: false
      stop-execution-on-error: true
      wait-for-result: true

    server-side-condition: 
      type: Item = Value
      item: P67_CATEGORY
      value: Class

  - # ====== Action: Refresh =====================================
    id: 37987282031570421
    identification: 
      action: Refresh

    affected-elements: 
      selection-type: Region
      region: Sub Categories Table # 37724854744892460

    execution: 
      sequence: 110
      event: Create Collections # 24113909390650479
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Open Add Dept =======================
  id: 36263347515538827
  identification: 
    name: Open Add Dept

  execution: 
    sequence: 30
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: Add_Item_Categories # 24027863052343735

  client-side-condition: 
    type: Item is not null
    item: P67_CATEGORY

  actions: 
  - # ====== Action: Open Class List =============================
    id: 36263451891538828
    identification: 
      name: Open Class List
      action: Open Region

    affected-elements: 
      selection-type: Region
      region: Item Class List # 40870048400770059

    execution: 
      sequence: 10
      event: Open Add Dept # 36263347515538827
      fire-when-event-result-is: True
      fire-on-initialization: false

    client-side-condition: 
      type: Item = Value
      item: P67_CATEGORY
      value: Class

  - # ====== Action: Execute JavaScript Code =====================
    id: 37620502152039501
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        // apex.region("departmentGrid").widget().interactiveGrid("getActions").invoke("save");
        var seqIDs = [];
        var discountValues = [];
        var model = apex.region("sub-categories-table").widget().interactiveGrid("getViews", "grid").model; // retrieve the model
        var seqIDKey = model.getFieldKey("SEQ_ID"); // retrieve the field key for the QUANTITY column
        var discountValueKey = model.getFieldKey("C002"); // retrieve the field key for the UNIT_PRICE column
        
        model.forEach(function(row) { // loop through each row in the model
            seqIDs.push(Number( row[seqIDKey] ));
            discountValues.push(Number( row[discountValueKey] ));
        });
        console.log(seqIDs);
        console.log(discountValues);

    execution: 
      sequence: 40
      event: Open Add Dept # 36263347515538827
      fire-when-event-result-is: True
      fire-on-initialization: false

    configuration: 
      build-option: Commented Out # 4207224469083906

  - # ====== Action: Open Department List ========================
    id: 37622175496039517
    identification: 
      name: Open Department List
      action: Open Region

    affected-elements: 
      selection-type: Region
      region: Item Department List # 40003814826394445

    execution: 
      sequence: 20
      event: Open Add Dept # 36263347515538827
      fire-when-event-result-is: True
      fire-on-initialization: false

    client-side-condition: 
      type: Item = Value
      item: P67_CATEGORY
      value: Department

  - # ====== Action: Open SIC List ===============================
    id: 37622232319039518
    identification: 
      name: Open SIC List
      action: Open Region

    affected-elements: 
      selection-type: Region
      region: Item SIC List # 40842233525701274

    execution: 
      sequence: 30
      event: Open Add Dept # 36263347515538827
      fire-when-event-result-is: True
      fire-on-initialization: false

    client-side-condition: 
      type: Item = Value
      item: P67_CATEGORY
      value: SIC

  - # ====== Action: Class List Key Bind =========================
    id: 37622318529039519
    identification: 
      name: Class List Key Bind
      action: Execute JavaScript Code

    settings: 
      code: mapP67KeysICL();

    execution: 
      sequence: 80
      event: Open Add Dept # 36263347515538827
      fire-when-event-result-is: True
      fire-on-initialization: false

    client-side-condition: 
      type: Item = Value
      item: P67_CATEGORY
      value: Class

  - # ====== Action: Department List Key Bind ====================
    id: 37622461680039520
    identification: 
      name: Department List Key Bind
      action: Execute JavaScript Code

    settings: 
      code: mapP67KeysIDL();

    execution: 
      sequence: 90
      event: Open Add Dept # 36263347515538827
      fire-when-event-result-is: True
      fire-on-initialization: false

    client-side-condition: 
      type: Item = Value
      item: P67_CATEGORY
      value: Department

  - # ====== Action: SIC List Key Bind ===========================
    id: 37622563928039521
    identification: 
      name: SIC List Key Bind
      action: Execute JavaScript Code

    settings: 
      code: mapP67KeysISL();

    execution: 
      sequence: 100
      event: Open Add Dept # 36263347515538827
      fire-when-event-result-is: True
      fire-on-initialization: false

    client-side-condition: 
      type: Item = Value
      item: P67_CATEGORY
      value: SIC

  - # ====== Action: Refresh IDL IG ==============================
    id: 37986968633570418
    identification: 
      name: Refresh IDL IG
      action: Execute JavaScript Code

    settings: 
      code: |
        var region = apex.region('IDL-grid');
        var views = region.widget().interactiveGrid('getViews');
        views.grid.model.clearChanges(); // Clears unsaved changes to avoid warnings
        region.refresh(); // Refreshes the Interactive Grid
        region.widget().interactiveGrid('getActions').set("edit", false);
        
        var toCheckArr = [];
        let model = apex.region("sub-categories-table").widget().interactiveGrid('getViews').grid.model;
        let totalRecords = model.getTotalRecords(true);
        for (let i = 0; i < totalRecords; i++) 
        {
            let record = model.recordAt(i);
            if (record)
            {
                toCheckArr[i] = Number(model.getValue(record, "N001"));
            }
        }
        console.log(toCheckArr);
        
        setTimeout(() => {
            $( document ).ready(function() {
                $("#IDL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody").children(".a-GV-row").each( function () {
                    for (let i = 0; i < toCheckArr.length; i++){
                        if( $(this).attr("data-id") ==  toCheckArr[i]){
                            console.log(toCheckArr[i]);
                            $(this).find("input[type=checkbox]").trigger("click");
                        }
                    }
                });
            });
        }, "500");
        
        // setTimeout(() => {
        //     $( document ).ready(function() {
        //         $(".js-confirmBtn").trigger("click");
        //     });
            setTimeout(() => {
                $( document ).ready(function() {
                    $("#IDL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody .a-GV-cell").first().trigger("click");
                });
            }, "500");
        // }, "500");

    execution: 
      sequence: 60
      event: Open Add Dept # 36263347515538827
      fire-when-event-result-is: True
      fire-on-initialization: false

    client-side-condition: 
      type: Item = Value
      item: P67_CATEGORY
      value: Department

  - # ====== Action: Refresh ICL IG ==============================
    id: 37987087795570419
    identification: 
      name: Refresh ICL IG
      action: Execute JavaScript Code

    settings: 
      code: |
        var region = apex.region('ICL-grid');
        var views = region.widget().interactiveGrid('getViews');
        views.grid.model.clearChanges(); // Clears unsaved changes to avoid warnings
        region.refresh(); // Refreshes the Interactive Grid
        region.widget().interactiveGrid('getActions').set("edit", false);
        
        var toCheckArr = [];
        let model = apex.region("sub-categories-table").widget().interactiveGrid('getViews').grid.model;
        let totalRecords = model.getTotalRecords(true);
        for (let i = 0; i < totalRecords; i++) 
        {
            let record = model.recordAt(i);
            if (record)
            {
                toCheckArr[i] = Number(model.getValue(record, "N001"));
            }
        }
        console.log(toCheckArr);
        
        setTimeout(() => {
            $( document ).ready(function() {
                $("#ICL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody").children(".a-GV-row").each( function () {
                    for (let i = 0; i < toCheckArr.length; i++){
                        if( $(this).attr("data-id") ==  toCheckArr[i]){
                            console.log(toCheckArr[i]);
                            $(this).find("input[type=checkbox]").trigger("click");
                        }
                    }
                });
            });
        }, "500");
        
        // setTimeout(() => {
        //     $( document ).ready(function() {
        //         $(".js-confirmBtn").trigger("click");
        //     });
            setTimeout(() => {
                $( document ).ready(function() {
                    $("#ICL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody .a-GV-cell").first().trigger("click");
                });
            }, "500");
        // }, "500");
        
        

    execution: 
      sequence: 50
      event: Open Add Dept # 36263347515538827
      fire-when-event-result-is: True
      fire-on-initialization: false

    client-side-condition: 
      type: Item = Value
      item: P67_CATEGORY
      value: Class

  - # ====== Action: Refresh ISL IG ==============================
    id: 37987198705570420
    identification: 
      name: Refresh ISL IG
      action: Execute JavaScript Code

    settings: 
      code: |
        var region = apex.region('ISL-grid');
        var views = region.widget().interactiveGrid('getViews');
        views.grid.model.clearChanges(); // Clears unsaved changes to avoid warnings
        region.refresh(); // Refreshes the Interactive Grid
        region.widget().interactiveGrid('getActions').set("edit", false);
        
        var toCheckArr = [];
        let model = apex.region("sub-categories-table").widget().interactiveGrid('getViews').grid.model;
        let totalRecords = model.getTotalRecords(true);
        for (let i = 0; i < totalRecords; i++) 
        {
            let record = model.recordAt(i);
            if (record)
            {
                toCheckArr[i] = Number(model.getValue(record, "N001"));
            }
        }
        console.log(toCheckArr);
        
        setTimeout(() => {
            $( document ).ready(function() {
                $("#ISL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody").children(".a-GV-row").each( function () {
                    for (let i = 0; i < toCheckArr.length; i++){
                        if( $(this).attr("data-id") ==  toCheckArr[i]){
                            console.log(toCheckArr[i]);
                            $(this).find("input[type=checkbox]").trigger("click");
                        }
                    }
                });
            });
        }, "500");
        
        // setTimeout(() => {
        //     $( document ).ready(function() {
        //         $(".js-confirmBtn").trigger("click");
        //     });
            setTimeout(() => {
                $( document ).ready(function() {
                    $("#ISL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody .a-GV-cell").first().trigger("click");
                });
            }, "500");
        // }, "500");
        
        

    execution: 
      sequence: 70
      event: Open Add Dept # 36263347515538827
      fire-when-event-result-is: True
      fire-on-initialization: false

    client-side-condition: 
      type: Item = Value
      item: P67_CATEGORY
      value: SIC

- # ====== Dynamic Action: Set Name ============================
  id: 36263630123538830
  identification: 
    name: Set Name

  execution: 
    sequence: 40
    event-scope: Static
    type: Immediate

  when: 
    event: Change
    selection-type: Item(s)
    item(s): 
    - P67_ADD_DEPT_ID

  actions: 
  - # ====== Action: Set Value ===================================
    id: 36263758258538831
    identification: 
      action: Set Value

    settings: 
      set-type: JavaScript Expression
      javascript-expression: $('#P67_ADD_DEPT_ID').val();
      suppress-change-event: false

    affected-elements: 
      selection-type: Item(s)
      item(s): 
      - P67_DEPT_NAME

    execution: 
      sequence: 10
      event: Set Name # 36263630123538830
      fire-when-event-result-is: True
      fire-on-initialization: true
      stop-execution-on-error: true
      wait-for-result: true

- # ====== Dynamic Action: Refresh =============================
  id: 37620655479039502
  identification: 
    name: Refresh

  execution: 
    sequence: 60
    event-scope: Static

  when: 
    event: Page Load

  configuration: 
    build-option: Commented Out # 4207224469083906

- # ====== Dynamic Action: New_1 ===============================
  id: 37621143518039507
  identification: 
    name: New_1

  execution: 
    sequence: 70
    event-scope: Static
    type: Immediate

  when: 
    event: NATIVE_IG|REGION TYPE|interactivegridselectionchange
    selection-type: Region
    region: Sub Categories Table # 37724854744892460

  configuration: 
    build-option: Commented Out # 4207224469083906

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 37621227535039508
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        if (this.data.selectedRecords.length > 0) {
            console.log('0,0: '+this.data.selectedRecords[0][0]);
            console.log('0,1: '+this.data.selectedRecords[0][1]);
            console.log('0,2: '+this.data.selectedRecords[0][2]);
            console.log('0,3: '+this.data.selectedRecords[0][3]);
        }

    execution: 
      sequence: 10
      event: New_1 # 37621143518039507
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Save Value Changes ==================
  id: 37621646314039512
  identification: 
    name: Save Value Changes

  execution: 
    sequence: 80
    event-scope: Static
    type: Immediate

  when: 
    event: Change
    selection-type: Column(s)
    interactive-grid: Sub Categories Table # 37724854744892460
    column(s): 
    - C002

  actions: 
  - # ====== Action: Execute Server-side Code ====================
    id: 37621916890039515
    identification: 
      action: Execute Server-side Code

    settings: 
      language: PE.PROPERTY.SOURCE_SNIPPET_LANG.LOV.PLSQL.D
      pl/sql-code: |
        BEGIN
            APEX_COLLECTION.UPDATE_MEMBER (
                p_collection_name => 'SUBCATEGORIES',
                p_seq => :SEQ_ID,
                p_n001 => :N001,
                p_c001 => :C001,
                p_c002 => :C002);
        END;
      items-to-submit: 
      - SEQ_ID
      - C002
      - C001
      - N001

    execution: 
      sequence: 10
      event: Save Value Changes # 37621646314039512
      fire-when-event-result-is: True
      fire-on-initialization: false
      stop-execution-on-error: true
      wait-for-result: true

  - # ====== Action: Execute JavaScript Code =====================
    id: 38733420421412607
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        var ig$ = apex.region("sub-categories-table").widget().interactiveGrid("getViews").grid.view$;
        
        // setTimeout(function () {
        //     ig$.grid("gotoCell", activeRecordId, "C002").trigger("click");
        // }, 200);
        // var activeRecordId = ig$.grid("getActiveRecordId");
        
        setTimeout(function () {
            ig$.grid("gotoCell", ig$.grid("getActiveRecordId"), "C002").trigger("click");
        }, 200);

    execution: 
      sequence: 40
      event: Save Value Changes # 37621646314039512
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Open Department Search ==============
  id: 37622646178039522
  identification: 
    name: Open Department Search

  execution: 
    sequence: 90
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: IDL_Search # 24035105209356942

  actions: 
  - # ====== Action: Open Region =================================
    id: 37622750414039523
    identification: 
      action: Open Region

    affected-elements: 
      selection-type: Region
      region: Department Search # 40018421230401436

    execution: 
      sequence: 10
      event: Open Department Search # 37622646178039522
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Execute JavaScript Code =====================
    id: 37623137577039527
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: mapP67KeysIDS();

    execution: 
      sequence: 20
      event: Open Department Search # 37622646178039522
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Open SIC Search =====================
  id: 37622905888039525
  identification: 
    name: Open SIC Search

  execution: 
    sequence: 100
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: ISL_Search # 24039037542358962

  actions: 
  - # ====== Action: Open Region =================================
    id: 37623087187039526
    identification: 
      action: Open Region

    affected-elements: 
      selection-type: Region
      region: SIC Search # 40854776661707657

    execution: 
      sequence: 10
      event: Open SIC Search # 37622905888039525
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Execute JavaScript Code =====================
    id: 37623207786039528
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: mapP67KeysISS();

    execution: 
      sequence: 20
      event: Open SIC Search # 37622905888039525
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Open Class Search ===================
  id: 37623328552039529
  identification: 
    name: Open Class Search

  execution: 
    sequence: 110
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: ICL_Search # 24043496206360234

  actions: 
  - # ====== Action: Open Region =================================
    id: 37623405285039530
    identification: 
      action: Open Region

    affected-elements: 
      selection-type: Region
      region: Class Search # 40897776769122452

    execution: 
      sequence: 10
      event: Open Class Search # 37623328552039529
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Execute JavaScript Code =====================
    id: 37623593023039531
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: mapP67KeysICS();

    execution: 
      sequence: 20
      event: Open Class Search # 37623328552039529
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Class Search ========================
  id: 37623674170039532
  identification: 
    name: Class Search

  execution: 
    sequence: 120
    event-scope: Static
    type: Immediate

  when: 
    event: Custom
    custom-event: classSearch
    selection-type: JavaScript Expression
    javascript-expression: document

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 37623714558039533
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        let checkedArr = [];
        let uncheckedRowNum = [];
        $("#ICL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody").children(".a-GV-row").each( function () {
            if( $(this).find("input[type=checkbox]").attr( "checked" ) ){
                console.log($(this).attr("data-id") + ": Checked");
                checkedArr.push( Number($(this).attr("data-id")) );
            } else {
                uncheckedRowNum.push( Number($(this).attr("data-rownum")) );
            }
        });
        console.log("checked: " + checkedArr);
        console.log("Unchecked Row Id: " + uncheckedRowNum);
        
        apex.server.process(
            'ICL_SEARCH',
            {   
                x01: $("#P67_CLASS_SEARCH").val(),
                f02: uncheckedRowNum
            },
            {
                dataType: 'text', 
                success: function(data){
                    if(data == 'Error in closing cases !'){
                        apex.message.showErrors({
                            type: 'error',
                            location: 'page',
                            message: data
                        });  
                    } else {
                        console.log('Selected cases closed')
                    }
                }
            }
        );
        
        setTimeout(() => {
            $( document ).ready(function() {
                $("#ICL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody").children(".a-GV-row").each( function () {
                    for (let i = 0; i < checkedArr.length; i++){
                        if( $(this).attr("data-id") ==  checkedArr[i]){
                            console.log(checkedArr[i]);
                            $(this).find("input[type=checkbox]").trigger("click");
                        }
                    }
                });
            });
        }, "500");
        
        

    execution: 
      sequence: 10
      event: Class Search # 37623674170039532
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Close Region ================================
    id: 37624164810039537
    identification: 
      action: Close Region

    affected-elements: 
      selection-type: Region
      region: Class Search # 40897776769122452

    execution: 
      sequence: 20
      event: Class Search # 37623674170039532
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Execute JavaScript Code =====================
    id: 37624293446039538
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        var grid = apex.region('ICL-grid').widget().interactiveGrid('getViews').grid;
        grid.model.clearChanges(); // Clears unsaved changes to avoid warnings
        apex.region('ICL-grid').refresh(); // Refreshes the Interactive Grid
        
        setTimeout(() => {
            $( document ).ready(function() {
                apex.region('ICL-grid').refresh(); // Refreshes the Interactive Grid
            });
        }, "100");
        
        setTimeout(() => {
            $( document ).ready(function() {
                $("#ICL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody .a-GV-cell").first().trigger("click");
            });
        }, "600");

    execution: 
      sequence: 30
      event: Class Search # 37623674170039532
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Clear =======================================
    id: 38733855047412611
    identification: 
      action: Clear

    affected-elements: 
      selection-type: Item(s)
      item(s): 
      - P67_CLASS_SEARCH

    execution: 
      sequence: 40
      event: Class Search # 37623674170039532
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Department Search ===================
  id: 37624396970039539
  identification: 
    name: Department Search

  execution: 
    sequence: 130
    event-scope: Static
    type: Immediate

  when: 
    event: Custom
    custom-event: deptSearch
    selection-type: JavaScript Expression
    javascript-expression: document

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 37624413079039540
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        let checkedArr = [];
        let uncheckedRowNum = [];
        $("#IDL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody").children(".a-GV-row").each( function () {
            if( $(this).find("input[type=checkbox]").attr( "checked" ) ){
                console.log($(this).attr("data-id") + ": Checked");
                checkedArr.push( Number($(this).attr("data-id")) );
            } else {
                uncheckedRowNum.push( Number($(this).attr("data-rownum")) );
            }
        });
        console.log("checked: " + checkedArr);
        console.log("Unchecked Row Id: " + uncheckedRowNum);
        
        apex.server.process(
            'IDL_SEARCH',
            {   
                x01: $("#P67_DEPARTMENT_SEARCH").val(),
                f02: uncheckedRowNum
            },
            {
                dataType: 'text', 
                success: function(data){
                    if(data == 'Error in closing cases !'){
                        apex.message.showErrors({
                            type: 'error',
                            location: 'page',
                            message: data
                        });  
                    } else {
                        console.log('Selected cases closed')
                    }
                }
            }
        );
        
        setTimeout(() => {
            $( document ).ready(function() {
                console.log("Execute")
                $("#IDL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody").children(".a-GV-row").each( function () {
                    for (let i = 0; i < checkedArr.length; i++){
                        if( $(this).attr("data-id") ==  checkedArr[i]){
                            console.log(checkedArr[i]);
                            $(this).find("input[type=checkbox]").trigger("click");
                        }
                    }
                });
            });
        }, "500");
        
        

    execution: 
      sequence: 10
      event: Department Search # 37624396970039539
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Close Region ================================
    id: 37624524670039541
    identification: 
      action: Close Region

    affected-elements: 
      selection-type: Region
      region: Department Search # 40018421230401436

    execution: 
      sequence: 20
      event: Department Search # 37624396970039539
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Execute JavaScript Code =====================
    id: 37624615467039542
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        var grid = apex.region('IDL-grid').widget().interactiveGrid('getViews').grid;
        grid.model.clearChanges(); // Clears unsaved changes to avoid warnings
        apex.region('IDL-grid').refresh(); // Refreshes the Interactive Grid
        
        setTimeout(() => {
            $( document ).ready(function() {
                apex.region('IDL-grid').refresh(); // Refreshes the Interactive Grid
            });
        }, "100");
        
        setTimeout(() => {
            $( document ).ready(function() {
                $("#IDL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody .a-GV-cell").first().trigger("click");
            });
        }, "600");

    execution: 
      sequence: 30
      event: Department Search # 37624396970039539
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Clear =======================================
    id: 38733935404412612
    identification: 
      action: Clear

    affected-elements: 
      selection-type: Item(s)
      item(s): 
      - P67_DEPARTMENT_SEARCH

    execution: 
      sequence: 40
      event: Department Search # 37624396970039539
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: SIC Search ==========================
  id: 37624716927039543
  identification: 
    name: SIC Search

  execution: 
    sequence: 140
    event-scope: Static
    type: Immediate

  when: 
    event: Custom
    custom-event: sicSearch
    selection-type: JavaScript Expression
    javascript-expression: document

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 37624827029039544
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        let checkedArr = [];
        let uncheckedRowNum = [];
        $("#ISL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody").children(".a-GV-row").each( function () {
            if( $(this).find("input[type=checkbox]").attr( "checked" ) ){
                console.log($(this).attr("data-id") + ": Checked");
                checkedArr.push( Number($(this).attr("data-id")) );
            } else {
                uncheckedRowNum.push( Number($(this).attr("data-rownum")) );
            }
        });
        console.log("checked: " + checkedArr);
        console.log("Unchecked Row Id: " + uncheckedRowNum);
        
        apex.server.process(
            'ISL_SEARCH',
            {   
                x01: $("#P67_SIC_SEARCH").val(),
                f02: uncheckedRowNum
            },
            {
                dataType: 'text', 
                success: function(data){
                    if(data == 'Error in closing cases !'){
                        apex.message.showErrors({
                            type: 'error',
                            location: 'page',
                            message: data
                        });  
                    } else {
                        console.log('Selected cases closed')
                    }
                }
            }
        );
        
        setTimeout(() => {
            $( document ).ready(function() {
                $("#ISL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody").children(".a-GV-row").each( function () {
                    for (let i = 0; i < checkedArr.length; i++){
                        if( $(this).attr("data-id") ==  checkedArr[i]){
                            console.log(checkedArr[i]);
                            $(this).find("input[type=checkbox]").trigger("click");
                        }
                    }
                });
            });
        }, "500");
        
        

    execution: 
      sequence: 10
      event: SIC Search # 37624716927039543
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Close Region ================================
    id: 37624993256039545
    identification: 
      action: Close Region

    affected-elements: 
      selection-type: Region
      region: SIC Search # 40854776661707657

    execution: 
      sequence: 20
      event: SIC Search # 37624716927039543
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Execute JavaScript Code =====================
    id: 37625030848039546
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        var grid = apex.region('ISL-grid').widget().interactiveGrid('getViews').grid;
        grid.model.clearChanges(); // Clears unsaved changes to avoid warnings
        
        
        setTimeout(() => {
            $( document ).ready(function() {
                apex.region('ISL-grid').refresh(); // Refreshes the Interactive Grid
            });
        }, "100");
        
        setTimeout(() => {
            $( document ).ready(function() {
                $("#ISL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody .a-GV-cell").first().trigger("click");
            });
        }, "600");

    execution: 
      sequence: 30
      event: SIC Search # 37624716927039543
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Clear =======================================
    id: 38734064248412613
    identification: 
      action: Clear

    affected-elements: 
      selection-type: Item(s)
      item(s): 
      - P67_SIC_SEARCH

    execution: 
      sequence: 40
      event: SIC Search # 37624716927039543
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Class Close Dialog ==================
  id: 37625157626039547
  identification: 
    name: Class Close Dialog

  execution: 
    sequence: 150
    event-scope: Static
    type: Immediate

  when: 
    event: Custom
    custom-event: classCloseDialog
    selection-type: JavaScript Expression
    javascript-expression: document

  actions: 
  - # ====== Action: Execute Server-side Code ====================
    id: 37625257595039548
    identification: 
      action: Execute Server-side Code

    settings: 
      language: PE.PROPERTY.SOURCE_SNIPPET_LANG.LOV.PLSQL.D
      pl/sql-code: |
        BEGIN
            APEX_COLLECTION.TRUNCATE_COLLECTION ('ITEMCLASSLIST');
            FOR c IN (
                SELECT CLASS_ID, CLASS_NAME
                FROM NIM025     
            ) LOOP
                apex_collection.add_member (p_collection_name => 'ITEMCLASSLIST',
                    p_n001 => c.CLASS_ID,
                    p_c001 => c.CLASS_NAME
                );
            END LOOP;
            APEX_COLLECTION.RESEQUENCE_COLLECTION ('ITEMCLASSLIST');
        END;

    execution: 
      sequence: 10
      event: Class Close Dialog # 37625157626039547
      fire-when-event-result-is: True
      fire-on-initialization: false
      stop-execution-on-error: true
      wait-for-result: true

- # ====== Dynamic Action: Department Close Dialog =============
  id: 37625343521039549
  identification: 
    name: Department Close Dialog

  execution: 
    sequence: 160
    event-scope: Static
    type: Immediate

  when: 
    event: Custom
    custom-event: departmentCloseDialog
    selection-type: JavaScript Expression
    javascript-expression: document

  actions: 
  - # ====== Action: Execute Server-side Code ====================
    id: 37625457866039550
    identification: 
      action: Execute Server-side Code

    settings: 
      language: PE.PROPERTY.SOURCE_SNIPPET_LANG.LOV.PLSQL.D
      pl/sql-code: |
        BEGIN
            APEX_COLLECTION.TRUNCATE_COLLECTION ('ITEMDEPTLIST');
            FOR c IN (
                SELECT DEPT_ID, DEPT_NAME
                FROM NIM024
            ) LOOP
                apex_collection.add_member (p_collection_name => 'ITEMDEPTLIST',
                    p_n001 => c.DEPT_ID,
                    p_c001 => c.DEPT_NAME
                );
            END LOOP;
            APEX_COLLECTION.RESEQUENCE_COLLECTION ('ITEMDEPTLIST');
        END;

    execution: 
      sequence: 10
      event: Department Close Dialog # 37625343521039549
      fire-when-event-result-is: True
      fire-on-initialization: false
      stop-execution-on-error: true
      wait-for-result: true

- # ====== Dynamic Action: SIC Close Dialog ====================
  id: 37985268263570401
  identification: 
    name: SIC Close Dialog

  execution: 
    sequence: 170
    event-scope: Static
    type: Immediate

  when: 
    event: Custom
    custom-event: sicCloseDialog
    selection-type: JavaScript Expression
    javascript-expression: document

  actions: 
  - # ====== Action: Execute Server-side Code ====================
    id: 37985328753570402
    identification: 
      action: Execute Server-side Code

    settings: 
      language: PE.PROPERTY.SOURCE_SNIPPET_LANG.LOV.PLSQL.D
      pl/sql-code: |
        BEGIN
            APEX_COLLECTION.TRUNCATE_COLLECTION ('ITEMSICLIST');
            FOR c IN (
                SELECT SIC_ID, SIC_NAME
                FROM NIM023
            ) LOOP
                apex_collection.add_member (p_collection_name => 'ITEMSICLIST',
                    p_n001 => c.SIC_ID,
                    p_c001 => c.SIC_NAME
                );
            END LOOP;
            APEX_COLLECTION.RESEQUENCE_COLLECTION ('ITEMSICLIST');
        END;

    execution: 
      sequence: 10
      event: SIC Close Dialog # 37985268263570401
      fire-when-event-result-is: True
      fire-on-initialization: false
      stop-execution-on-error: true
      wait-for-result: true

- # ====== Dynamic Action: Class Enter =========================
  id: 37985424992570403
  identification: 
    name: Class Enter

  execution: 
    sequence: 180
    event-scope: Static
    type: Immediate

  when: 
    event: Custom
    custom-event: classEnter
    selection-type: JavaScript Expression
    javascript-expression: document

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 37985517250570404
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        let uncheckedRowNum = [];
        $("#ICL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody").children(".a-GV-row").each( function () {
            if( !$(this).find("input[type=checkbox]").is(":checked") ){
                uncheckedRowNum.push( Number($(this).attr("data-rownum")) );
            }
        });
        console.log("Unchecked rows to remove: " + uncheckedRowNum)
        apex.server.process(
            'ICL_REMOVE_UNCHECKED',
            {   
                f01: uncheckedRowNum
            },
            {
                dataType: 'text', 
                success: function(data){
                    if(data == 'Error in closing cases !'){
                        apex.message.showErrors({
                            type: 'error',
                            location: 'page',
                            message: data
                        });  
                    } else {
                        console.log('Selected cases closed')
                        // var grid = apex.region('ICL-grid').widget().interactiveGrid('getViews').grid;
                        // grid.model.clearChanges(); // Clears unsaved changes to avoid warnings
                        // apex.region('ICL-grid').refresh(); // Refreshes the Interactive Grid
                    }
                }
            }
        );

    execution: 
      sequence: 10
      event: Class Enter # 37985424992570403
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Execute JavaScript Code =====================
    id: 37985621625570405
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        // var grid = apex.region('sub-categories-table').widget().interactiveGrid('getViews').grid;
        // grid.model.clearChanges(); // Clears unsaved changes to avoid warnings
        // setTimeout(() => {
        //     $( document ).ready(function() {
        //         apex.region('sub-categories-table').refresh(); // Refreshes the Interactive Grid
        //     });
        // }, "500");
        
        // // js-confirmBtn
        // setTimeout(() => {
        //     $( document ).ready(function() {
        //         $(".js-confirmBtn").trigger("click");
        //     });
        // }, "500");
        
        var region = apex.region('sub-categories-table');
        var views = region.widget().interactiveGrid('getViews');
        views.grid.model.clearChanges(); // Clears unsaved changes to avoid warnings
        
        setTimeout(() => {
            $( document ).ready(function() {
                region.refresh(); // Refreshes the Interactive Grid
            });
        }, "500");
        
        // setTimeout(() => {
        //     $( document ).ready(function() {
        //         $(".is-readonly").removeClass("is-readonly");
        //     });
        // }, "500");

    execution: 
      sequence: 20
      event: Class Enter # 37985424992570403
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Close Region ================================
    id: 37985767066570406
    identification: 
      action: Close Region

    affected-elements: 
      selection-type: Region
      region: Item Class List # 40870048400770059

    execution: 
      sequence: 30
      event: Class Enter # 37985424992570403
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Department Enter ====================
  id: 37985811947570407
  identification: 
    name: Department Enter

  execution: 
    sequence: 190
    event-scope: Static
    type: Immediate

  when: 
    event: Custom
    custom-event: departmentEnter
    selection-type: JavaScript Expression
    javascript-expression: document

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 37985942877570408
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        let uncheckedRowNum = [];
        $("#IDL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody").children(".a-GV-row").each( function () {
            if( !$(this).find("input[type=checkbox]").is(":checked") ){
                uncheckedRowNum.push( Number($(this).attr("data-rownum")) );
            }
        });
        console.log("Unchecked rows to remove: " + uncheckedRowNum)
        apex.server.process(
            'IDL_REMOVE_UNCHECKED',
            {   
                f01: uncheckedRowNum
            },
            {
                dataType: 'text', 
                success: function(data){
                    if(data == 'Error in closing cases !'){
                        apex.message.showErrors({
                            type: 'error',
                            location: 'page',
                            message: data
                        });  
                    } else {
                        console.log('Selected cases closed')
                    }
                }
            }
        );

    execution: 
      sequence: 10
      event: Department Enter # 37985811947570407
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Execute JavaScript Code =====================
    id: 37986051405570409
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        // var grid = apex.region('sub-categories-table').widget().interactiveGrid('getViews').grid;
        // grid.model.clearChanges(); // Clears unsaved changes to avoid warnings
        // setTimeout(() => {
        //     $( document ).ready(function() {
        //         apex.region('sub-categories-table').refresh(); // Refreshes the Interactive Grid
        //     });
        // }, "500");
        
        // // js-confirmBtn
        // setTimeout(() => {
        //     $( document ).ready(function() {
        //         $(".js-confirmBtn").trigger("click");
        //     });
        // }, "500");
        
        var region = apex.region('sub-categories-table');
        var views = region.widget().interactiveGrid('getViews');
        views.grid.model.clearChanges(); // Clears unsaved changes to avoid warnings
        
        setTimeout(() => {
            $( document ).ready(function() {
                region.refresh(); // Refreshes the Interactive Grid
            });
        }, "500");

    execution: 
      sequence: 20
      event: Department Enter # 37985811947570407
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Close Region ================================
    id: 37986100210570410
    identification: 
      action: Close Region

    affected-elements: 
      selection-type: Region
      region: Item Department List # 40003814826394445

    execution: 
      sequence: 30
      event: Department Enter # 37985811947570407
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: SIC Enter ===========================
  id: 37986277687570411
  identification: 
    name: SIC Enter

  execution: 
    sequence: 200
    event-scope: Static
    type: Immediate

  when: 
    event: Custom
    custom-event: sicEnter
    selection-type: JavaScript Expression
    javascript-expression: document

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 37986384633570412
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        let uncheckedRowNum = [];
        $("#ISL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody").children(".a-GV-row").each( function () {
            if( !$(this).find("input[type=checkbox]").is(":checked") ){
                uncheckedRowNum.push( Number($(this).attr("data-rownum")) );
            }
        });
        console.log("Unchecked rows to remove: " + uncheckedRowNum)
        apex.server.process(
            'ISL_REMOVE_UNCHECKED',
            {   
                f01: uncheckedRowNum
            },
            {
                dataType: 'text', 
                success: function(data){
                    if(data == 'Error in closing cases !'){
                        apex.message.showErrors({
                            type: 'error',
                            location: 'page',
                            message: data
                        });  
                    } else {
                        console.log('Selected cases closed')
                    }
                }
            }
        );

    execution: 
      sequence: 10
      event: SIC Enter # 37986277687570411
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Execute JavaScript Code =====================
    id: 37986474363570413
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        // var grid = apex.region('sub-categories-table').widget().interactiveGrid('getViews').grid;
        // // grid.model.clearChanges(); // Clears unsaved changes to avoid warnings
        // setTimeout(() => {
        //     $( document ).ready(function() {
        //         apex.region('sub-categories-table').refresh(); // Refreshes the Interactive Grid
        //     });
        // }, "500");
        
        // // js-confirmBtn
        // setTimeout(() => {
        //     $( document ).ready(function() {
        //         $(".js-confirmBtn").trigger("click");
        //     });
        // }, "500");
        
        var region = apex.region('sub-categories-table');
        var views = region.widget().interactiveGrid('getViews');
        views.grid.model.clearChanges(); // Clears unsaved changes to avoid warnings
        
        setTimeout(() => {
            $( document ).ready(function() {
                region.refresh(); // Refreshes the Interactive Grid
            });
        }, "500");

    execution: 
      sequence: 20
      event: SIC Enter # 37986277687570411
      fire-when-event-result-is: True
      fire-on-initialization: false

  - # ====== Action: Close Region ================================
    id: 37986548906570414
    identification: 
      action: Close Region

    affected-elements: 
      selection-type: Region
      region: Item SIC List # 40842233525701274

    execution: 
      sequence: 30
      event: SIC Enter # 37986277687570411
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Mark/Unmark ISL =====================
  id: 37987364059570422
  identification: 
    name: Mark/Unmark ISL

  execution: 
    sequence: 210
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: ISL_Mark # 24038640593358962

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 37987452100570423
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: $(".is-selected").find("input[type=checkbox]").trigger( "click" );

    execution: 
      sequence: 10
      event: Mark/Unmark ISL # 37987364059570422
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Mark All ISL ========================
  id: 37987501367570424
  identification: 
    name: Mark All ISL

  execution: 
    sequence: 220
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: ISL_Mark_All # 24039402993358962

  actions: 
  - # ====== Action: Show ========================================
    id: 37987673307570425
    identification: 
      action: Show

    affected-elements: 
      selection-type: JavaScript Expression
      javascript-expression: |
        $("#ISL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody").children(".a-GV-row").each( function () {
            if( !$(this).find("input[type=checkbox]").is(':checked') ){
                $(this).find("input[type=checkbox]").trigger("click");
            }
        });

    execution: 
      sequence: 10
      event: Mark All ISL # 37987501367570424
      fire-when-event-result-is: True
      fire-on-initialization: true

- # ====== Dynamic Action: Unmark All ISL ======================
  id: 37987721819570426
  identification: 
    name: Unmark All ISL

  execution: 
    sequence: 230
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: ISL_Unmark_All # 24039831231358964

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 37987890091570427
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        $("#ISL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody").children(".a-GV-row").each( function () {
            if( $(this).find("input[type=checkbox]").is(':checked') ){
                $(this).find("input[type=checkbox]").trigger("click");
            }
        });

    execution: 
      sequence: 10
      event: Unmark All ISL # 37987721819570426
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Mark/Unmark IDL =====================
  id: 37987982205570428
  identification: 
    name: Mark/Unmark IDL

  execution: 
    sequence: 240
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: IDL_Mark # 24034383594356940

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 37988070805570429
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: $(".is-selected").find("input[type=checkbox]").trigger( "click" );

    execution: 
      sequence: 10
      event: Mark/Unmark IDL # 37987982205570428
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Mark All IDL ========================
  id: 37988136854570430
  identification: 
    name: Mark All IDL

  execution: 
    sequence: 250
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: IDL_Mark_All # 24034785796356940

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 37988257880570431
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        $("#IDL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody").children(".a-GV-row").each( function () {
            if( !$(this).find("input[type=checkbox]").is(':checked') ){
                $(this).find("input[type=checkbox]").trigger("click");
            }
        });

    execution: 
      sequence: 10
      event: Mark All IDL # 37988136854570430
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Unmark All IDL ======================
  id: 37988360914570432
  identification: 
    name: Unmark All IDL

  execution: 
    sequence: 260
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: IDL_Unmark_All # 24035504342356942

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 37988453698570433
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        $("#IDL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody").children(".a-GV-row").each( function () {
            if( $(this).find("input[type=checkbox]").is(':checked') ){
                $(this).find("input[type=checkbox]").trigger("click");
            }
        });

    execution: 
      sequence: 10
      event: Unmark All IDL # 37988360914570432
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Mark/Unmark ICL =====================
  id: 37988511499570434
  identification: 
    name: Mark/Unmark ICL

  execution: 
    sequence: 270
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: ICL_Mark # 24043019371360234

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 37988639579570435
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        
        $(".is-selected").find("input[type=checkbox]").trigger( "click" );

    execution: 
      sequence: 10
      event: Mark/Unmark ICL # 37988511499570434
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Mark All ICL ========================
  id: 37988728854570436
  identification: 
    name: Mark All ICL

  execution: 
    sequence: 280
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: ICL_Mark_All # 24043818485360235

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 37988862128570437
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        $("#ICL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody").children(".a-GV-row").each( function () {
            if( !$(this).find("input[type=checkbox]").is(':checked') ){
                $(this).find("input[type=checkbox]").trigger("click");
            }
        });

    execution: 
      sequence: 10
      event: Mark All ICL # 37988728854570436
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Unmark All ICL ======================
  id: 37988916759570438
  identification: 
    name: Unmark All ICL

  execution: 
    sequence: 290
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: ICL_Unmark_All # 24044266190360235

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 37989025232570439
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        $("#ICL-grid_ig_grid_vc .a-GV-bdy .a-GV-w-scroll .a-GV-table tbody").children(".a-GV-row").each( function () {
            if( $(this).find("input[type=checkbox]").is(':checked') ){
                $(this).find("input[type=checkbox]").trigger("click");
            }
        });

    execution: 
      sequence: 10
      event: Unmark All ICL # 37988916759570438
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Reset Discount Values ===============
  id: 37989764626570446
  identification: 
    name: Reset Discount Values

  execution: 
    sequence: 300
    event-scope: Static
    type: Immediate

  when: 
    event: Change
    selection-type: Item(s)
    item(s): 
    - P67_TYPE

  actions: 
  - # ====== Action: Execute Server-side Code ====================
    id: 37989814083570447
    identification: 
      action: Execute Server-side Code

    settings: 
      language: PE.PROPERTY.SOURCE_SNIPPET_LANG.LOV.PLSQL.D
      pl/sql-code: |
        DECLARE
            CURSOR subc IS 
            SELECT seq_id, n001, c001
            FROM APEX_COLLECTIONS
            WHERE COLLECTION_NAME = 'SUBCATEGORIES';
        BEGIN
            -- APEX_COLLECTION.TRUNCATE_COLLECTION ('SUBCATEGORIES');
            -- APEX_COLLECTION.RESEQUENCE_COLLECTION ('ITEMCLASSLIST');
            FOR c IN subc LOOP
                -- apex_collection.add_member (p_collection_name => 'SUBCATEGORIES',
                --     p_n001 => c.n001,
                --     p_c001 => c.c001
                -- );
                APEX_COLLECTION.UPDATE_MEMBER (
                    p_collection_name => 'SUBCATEGORIES',
                    p_seq => c.SEQ_ID,
                    p_n001 => c.N001,
                    p_c001 => c.C001
                );
            END LOOP;
        
            APEX_COLLECTION.RESEQUENCE_COLLECTION ('SUBCATEGORIES');
        END;

    execution: 
      sequence: 10
      event: Reset Discount Values # 37989764626570446
      fire-when-event-result-is: True
      fire-on-initialization: false
      stop-execution-on-error: true
      wait-for-result: true

  - # ====== Action: Execute JavaScript Code =====================
    id: 37989970185570448
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        $("#P67_TYPE").removeClass("apex-page-item-error");
        $("#P67_TYPE_error_placeholder").addClass("u-hidden");
        
        var region = apex.region('sub-categories-table');
        var views = region.widget().interactiveGrid('getViews');
        views.grid.model.clearChanges(); // Clears unsaved changes to avoid warnings
        
        setTimeout(() => {
            $( document ).ready(function() {
                region.refresh(); // Refreshes the Interactive Grid
            });
        }, "500");

    execution: 
      sequence: 20
      event: Reset Discount Values # 37989764626570446
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Reset Sub Category Table ============
  id: 37990095655570449
  identification: 
    name: Reset Sub Category Table

  execution: 
    sequence: 310
    event-scope: Static
    type: Immediate

  when: 
    event: Change
    selection-type: Item(s)
    item(s): 
    - P67_CATEGORY

  actions: 
  - # ====== Action: Execute Server-side Code ====================
    id: 37990134784570450
    identification: 
      action: Execute Server-side Code

    settings: 
      language: PE.PROPERTY.SOURCE_SNIPPET_LANG.LOV.PLSQL.D
      pl/sql-code: |
        APEX_COLLECTION.TRUNCATE_COLLECTION ('SUBCATEGORIES');
        -- APEX_COLLECTION.RESEQUENCE_COLLECTION ('SUBCATEGORIES');

    execution: 
      sequence: 10
      event: Reset Sub Category Table # 37990095655570449
      fire-when-event-result-is: True
      fire-on-initialization: false
      stop-execution-on-error: true
      wait-for-result: true

  - # ====== Action: Execute JavaScript Code =====================
    id: 38732872655412601
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        var region = apex.region('sub-categories-table');
        var views = region.widget().interactiveGrid('getViews');
        views.grid.model.clearChanges(); // Clears unsaved changes to avoid warnings
        
        setTimeout(() => {
            $( document ).ready(function() {
                region.refresh(); // Refreshes the Interactive Grid
            });
        }, "500");

    execution: 
      sequence: 20
      event: Reset Sub Category Table # 37990095655570449
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Navigate to Table ===================
  id: 38733159941412604
  identification: 
    name: Navigate to Table

  execution: 
    sequence: 320
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: Navigate # 38733019067412603

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 38733237466412605
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        $(".a-GV-cell").eq(1).trigger("dblclick");
        $(".a-GV-cell").eq(1).trigger("click");
        console.log("dblclick");

    execution: 
      sequence: 10
      event: Navigate to Table # 38733159941412604
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Validation on Subcategories =========
  id: 38733588696412608
  identification: 
    name: Validation on Subcategories

  execution: 
    sequence: 330
    event-scope: Static
    type: Immediate

  when: 
    event: Custom
    custom-event: itemCategoriesValidation
    selection-type: JavaScript Expression
    javascript-expression: document

  actions: 
  - # ====== Action: Execute Server-side Code ====================
    id: 38733671961412609
    identification: 
      action: Execute Server-side Code

    settings: 
      language: PE.PROPERTY.SOURCE_SNIPPET_LANG.LOV.PLSQL.D
      pl/sql-code: |
        BEGIN
            SELECT
                COUNT(seq_id)
            INTO :P67_SUBCATEGORY_VALIDATION
            FROM APEX_COLLECTIONS
            WHERE COLLECTION_NAME = 'SUBCATEGORIES' AND C002 IS NULL;
            
            APEX_COLLECTION.RESEQUENCE_COLLECTION ('SUBCATEGORIES');
            APEX_COLLECTION.TRUNCATE_COLLECTION ('ITEMCLASSLIST');
        END;
      items-to-return: 
      - P67_SUBCATEGORY_VALIDATION
      suppress-change-event: false

    execution: 
      sequence: 10
      event: Validation on Subcategories # 38733588696412608
      fire-when-event-result-is: True
      fire-on-initialization: false
      stop-execution-on-error: true
      wait-for-result: true

  - # ====== Action: Execute JavaScript Code =====================
    id: 38734104989412614
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        // apex.page.submit( "SUBMIT" );
        console.log($("#P67_SUBCATEGORY_VALIDATION").val())
        if($("#P67_SUBCATEGORY_VALIDATION").val() > 0){
            console.log("validation failed");
            showGPopup({
                icon: "fa fa-exclamation-circle",
                message: "There are empty Sub-Category Discount Values.",
                width: "10rem",
                timeoutActive: true,
                timeout: 2000,
                top: "80%"
            });
        } else {
            var region = apex.region('sub-categories-table');
            var views = region.widget().interactiveGrid('getViews');
            views.grid.model.clearChanges(); // Clears unsaved changes to avoid warnings
            apex.page.submit( "SUBMIT" );
        }

    execution: 
      sequence: 20
      event: Validation on Subcategories # 38733588696412608
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Title Add ===========================
  id: 38734870947412621
  identification: 
    name: Title Add

  execution: 
    sequence: 340
    event-scope: Static

  when: 
    event: Page Load

  server-side-condition: 
    type: Item is NULL
    item: P67_DISCOUNT_ID

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 38734920273412622
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: setTitle("Discount Creation");

    execution: 
      sequence: 10
      event: Title Add # 38734870947412621
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Title Update ========================
  id: 38736716822412640
  identification: 
    name: Title Update

  execution: 
    sequence: 350
    event-scope: Static

  when: 
    event: Page Load

  server-side-condition: 
    type: Item is NOT NULL
    item: P67_DISCOUNT_ID

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 38736805695412641
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: setTitle("Discount Update");

    execution: 
      sequence: 10
      event: Title Update # 38736716822412640
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Delete Collections ==================
  id: 39841139220908907
  identification: 
    name: Delete Collections

  execution: 
    sequence: 370
    event-scope: Static
    type: Immediate

  when: 
    event: Dialog Closed
    selection-type: Button
    button: Escape # 24028259325343737

  actions: 
  - # ====== Action: Execute Server-side Code ====================
    id: 39841287646908908
    identification: 
      action: Execute Server-side Code

    settings: 
      language: PE.PROPERTY.SOURCE_SNIPPET_LANG.LOV.PLSQL.D
      pl/sql-code: |
        APEX_COLLECTION.DELETE_COLLECTION('SUBCATEGORIES');
        APEX_COLLECTION.DELETE_COLLECTION('ITEMCLASSLIST');
        APEX_COLLECTION.DELETE_COLLECTION('ITEMDEPTLIST');
        APEX_COLLECTION.DELETE_COLLECTION('ITEMSICLIST');

    execution: 
      sequence: 10
      event: Delete Collections # 39841139220908907
      fire-when-event-result-is: True
      fire-on-initialization: false
      stop-execution-on-error: true
      wait-for-result: true

- # ====== Dynamic Action: Discount Code not Editable ==========
  id: 39841467172908910
  identification: 
    name: Discount Code not Editable

  execution: 
    sequence: 380
    event-scope: Static

  when: 
    event: Page Load

  server-side-condition: 
    type: Item is NOT NULL
    item: P67_DISCOUNT_ID

  actions: 
  - # ====== Action: Disable =====================================
    id: 39841574494908911
    identification: 
      action: Disable

    affected-elements: 
      selection-type: Item(s)
      item(s): 
      - P67_DISCOUNT_CODE

    execution: 
      sequence: 10
      event: Discount Code not Editable # 39841467172908910
      fire-when-event-result-is: True
      fire-on-initialization: true

- # ====== Dynamic Action: Focus Field =========================
  id: 39841649367908912
  identification: 
    name: Focus Field

  execution: 
    sequence: 390
    event-scope: Static

  when: 
    event: Page Load

  actions: 
  - # ====== Action: Set Focus ===================================
    id: 39841742284908913
    identification: 
      action: Set Focus

    affected-elements: 
      selection-type: Item(s)
      item(s): 
      - P67_DISCOUNT_CODE

    execution: 
      sequence: 10
      event: Focus Field # 39841649367908912
      fire-when-event-result-is: True
      fire-on-initialization: true

    server-side-condition: 
      type: Item is NULL
      item: P67_DISCOUNT_ID

  - # ====== Action: Set Focus ===================================
    id: 39841872965908914
    identification: 
      action: Set Focus

    affected-elements: 
      selection-type: Item(s)
      item(s): 
      - P67_DISCOUNT_DESC

    execution: 
      sequence: 20
      event: Focus Field # 39841649367908912
      fire-when-event-result-is: True
      fire-on-initialization: true

    client-side-condition: 
      type: Item is not null
      item: P67_DISCOUNT_ID

validations: 
- # ====== Validation: Empty Discount Code =====================
  id: 37989151702570440
  identification: 
    name: Empty Discount Code

  execution: 
    sequence: 10

  validation: 
    type: Item is NOT NULL
    item: P67_DISCOUNT_CODE
    always-execute: true

  error: 
    error-message: Must have some value.
    display-location: Inline with Field
    associated-item: P67_DISCOUNT_CODE # 37712956390853360

  server-side-condition: 
    type: Item is NULL
    item: P67_DISCOUNT_ID

- # ====== Validation: Empty Description =======================
  id: 37989269981570441
  identification: 
    name: Empty Description

  execution: 
    sequence: 20

  validation: 
    type: Item is NOT NULL
    item: P67_DISCOUNT_DESC
    always-execute: true

  error: 
    error-message: Must have some value.
    display-location: Inline with Field
    associated-item: P67_DISCOUNT_DESC # 36262139105538815

- # ====== Validation: Empty Type ==============================
  id: 37989384844570442
  identification: 
    name: Empty Type

  execution: 
    sequence: 30

  validation: 
    type: Item is NOT NULL
    item: P67_TYPE
    always-execute: true

  error: 
    error-message: Must have some value.
    display-location: Inline with Field
    associated-item: P67_TYPE # 37716461492853377

- # ====== Validation: Empty Category ==========================
  id: 37989454616570443
  identification: 
    name: Empty Category

  execution: 
    sequence: 40

  validation: 
    type: Item is NOT NULL
    item: P67_CATEGORY
    always-execute: true

  error: 
    error-message: Must have some value.
    display-location: Inline with Field
    associated-item: P67_CATEGORY # 37716226744853375

- # ====== Validation: Empty Start Date ========================
  id: 37989598156570444
  identification: 
    name: Empty Start Date

  execution: 
    sequence: 50

  validation: 
    type: Item is NOT NULL
    item: P67_DATE_FROM
    always-execute: true

  error: 
    error-message: Must have some value.
    display-location: Inline with Field
    associated-item: P67_DATE_FROM # 37716533236853378

- # ====== Validation: Empty End Date ==========================
  id: 37989623902570445
  identification: 
    name: Empty End Date

  execution: 
    sequence: 60

  validation: 
    type: Item is NOT NULL
    item: P67_DATE_TO
    always-execute: true

  error: 
    error-message: Must have some value.
    display-location: Inline with Field
    associated-item: P67_DATE_TO # 37716652689853379

- # ====== Validation: Unique Discount Code ====================
  id: 39841350012908909
  identification: 
    name: Unique Discount Code

  execution: 
    sequence: 70

  validation: 
    type: No Rows returned
    sql-query: |
      SELECT 1
      FROM NPT008
      WHERE UPPER(DISCOUNT_CODE) = UPPER(:P67_DISCOUNT_CODE)
    always-execute: true

  error: 
    error-message: Discount Code already exists.
    display-location: Inline with Field
    associated-item: P67_DISCOUNT_CODE # 37712956390853360

  server-side-condition: 
    type: Item is NULL
    item: P67_DISCOUNT_ID

processes: 
- # ====== Process: Sub Categories Table - Save Interactive Grid
  id: 36265422882538848
  identification: 
    name: Sub Categories Table - Save Interactive Grid Data
    type: Interactive Grid - Automatic Row Processing (DML)
    execution-chain: None
    editable-region: Sub Categories Table # 37724854744892460

  settings: 
    target-type: Region Source
    prevent-lost-updates: true
    lock-row: Yes
    return-primary-key(s)-after-insert: true

  execution: 
    sequence: 20
    point: Processing
    run-process: Once Per Page Visit (default)

  error: 
    display-location: Inline in Notification

  server-side-condition: 
    execution-scope: For Created and Modified Rows

  configuration: 
    build-option: Commented Out # 4207224469083906

- # ====== Process: ICL_SEARCH =================================
  id: 37623898179039534
  identification: 
    name: ICL_SEARCH
    type: Execute Code
    execution-chain: None

  source: 
    location: Local Database
    language: PL/SQL
    pl/sql-code: |
      DECLARE
          -- f01_to_number DEPT_ID_TYPE;
          CURSOR c_class IS 
          SELECT CLASS_ID, CLASS_NAME
          FROM NIM025
          WHERE ( UPPER(CLASS_NAME) LIKE '%' || UPPER(APEX_APPLICATION.g_x01) || '%' );
          -- AND 
          -- CLASS_ID NOT IN(
          --     SELECT
          --     n001
          --     FROM APEX_COLLECTIONS
          --     WHERE COLLECTION_NAME = 'SUBCATEGORIES'
          -- );
          -- AND
          --     DEPT_ID NOT IN( SELECT TO_NUMBER('*' DEFAULT 0 ON CONVERSION ERROR) VALUE FROM TABLE(APEX_APPLICATION.g_f01) );
      BEGIN
          -- FOR i in 1..APEX_APPLICATION.G_F01.COUNT LOOP
          --     f01_to_number(i) := TO_NUMBER(APEX_APPLICATION.g_f01(i));
          -- END LOOP;
      
          FOR i in 1..APEX_APPLICATION.G_F02.COUNT LOOP
              APEX_COLLECTION.DELETE_MEMBER(
                  p_collection_name => 'ITEMCLASSLIST',
                  p_seq => TO_NUMBER(APEX_APPLICATION.g_f02(i))
              );
          END LOOP;
      
          FOR c IN c_class LOOP
              apex_collection.add_member (p_collection_name => 'ITEMCLASSLIST',
                  p_n001 => c.CLASS_ID,
                  p_c001 => c.CLASS_NAME
              );
          END LOOP;
      
          for r_rec in (
          select seq_id, rn from
              (select seq_id, row_number() over (partition by c001 order by d001 desc) rn
                  from apex_collections
                  where collection_name = 'ITEMCLASSLIST'
              ) where rn != 1
              ) loop
              APEX_COLLECTION.DELETE_MEMBER
                  (p_collection_name =>  'ITEMCLASSLIST'
                  ,p_seq             => r_rec.seq_id);
            end loop;
      
          APEX_COLLECTION.RESEQUENCE_COLLECTION ('ITEMCLASSLIST');
      END;

  execution: 
    sequence: 10
    point: Ajax Callback
    run-process: Once Per Page Visit (default)

- # ====== Process: IDL_SEARCH =================================
  id: 37623963606039535
  identification: 
    name: IDL_SEARCH
    type: Execute Code
    execution-chain: None

  source: 
    location: Local Database
    language: PL/SQL
    pl/sql-code: |
      DECLARE
          -- f01_to_number DEPT_ID_TYPE;
          CURSOR c_dept IS 
          SELECT DEPT_ID, DEPT_NAME
          FROM NIM024
          WHERE ( UPPER(DEPT_NAME) LIKE '%' || UPPER(APEX_APPLICATION.g_x01) || '%' );
          -- AND 
          -- DEPT_ID NOT IN(
          --     SELECT
          --     n001
          --     FROM APEX_COLLECTIONS
          --     WHERE COLLECTION_NAME = 'SUBCATEGORIES'
          -- );
          -- AND
          --     DEPT_ID NOT IN( SELECT TO_NUMBER('*' DEFAULT 0 ON CONVERSION ERROR) VALUE FROM TABLE(APEX_APPLICATION.g_f01) );
      BEGIN
          -- FOR i in 1..APEX_APPLICATION.G_F01.COUNT LOOP
          --     f01_to_number(i) := TO_NUMBER(APEX_APPLICATION.g_f01(i));
          -- END LOOP;
      
          FOR i in 1..APEX_APPLICATION.G_F02.COUNT LOOP
              APEX_COLLECTION.DELETE_MEMBER(
                  p_collection_name => 'ITEMDEPTLIST',
                  p_seq => TO_NUMBER(APEX_APPLICATION.g_f02(i))
              );
          END LOOP;
      
          FOR c IN c_dept LOOP
              apex_collection.add_member (p_collection_name => 'ITEMDEPTLIST',
                  p_n001 => c.DEPT_ID,
                  p_c001 => c.DEPT_NAME
              );
          END LOOP;
      
          for r_rec in (
          select seq_id, rn from
              (select seq_id, row_number() over (partition by c001 order by d001 desc) rn
                  from apex_collections
                  where collection_name = 'ITEMDEPTLIST'
              ) where rn != 1
              ) loop
              APEX_COLLECTION.DELETE_MEMBER
                  (p_collection_name =>  'ITEMDEPTLIST'
                  ,p_seq             => r_rec.seq_id);
            end loop;
      
          APEX_COLLECTION.RESEQUENCE_COLLECTION ('ITEMDEPTLIST');
      END;

  execution: 
    sequence: 20
    point: Ajax Callback
    run-process: Once Per Page Visit (default)

- # ====== Process: ISL_SEARCH =================================
  id: 37624055053039536
  identification: 
    name: ISL_SEARCH
    type: Execute Code
    execution-chain: None

  source: 
    location: Local Database
    language: PL/SQL
    pl/sql-code: |
      DECLARE
          -- f01_to_number DEPT_ID_TYPE;
          CURSOR c_sic IS 
          SELECT SIC_ID, SIC_NAME
          FROM NIM023
          WHERE ( UPPER(SIC_NAME) LIKE '%' || UPPER(APEX_APPLICATION.g_x01) || '%' ); 
          -- AND 
          -- SIC_ID NOT IN(
          --     SELECT
          --     n001
          --     FROM APEX_COLLECTIONS
          --     WHERE COLLECTION_NAME = 'SUBCATEGORIES'
          -- );
          -- AND
          --     DEPT_ID NOT IN( SELECT TO_NUMBER('*' DEFAULT 0 ON CONVERSION ERROR) VALUE FROM TABLE(APEX_APPLICATION.g_f01) );
      BEGIN
          -- FOR i in 1..APEX_APPLICATION.G_F01.COUNT LOOP
          --     f01_to_number(i) := TO_NUMBER(APEX_APPLICATION.g_f01(i));
          -- END LOOP;
      
          FOR i in 1..APEX_APPLICATION.G_F02.COUNT LOOP
              APEX_COLLECTION.DELETE_MEMBER(
                  p_collection_name => 'ITEMSICLIST',
                  p_seq => TO_NUMBER(APEX_APPLICATION.g_f02(i))
              );
          END LOOP;
      
          FOR c IN c_sic LOOP
              apex_collection.add_member (p_collection_name => 'ITEMSICLIST',
                  p_n001 => c.SIC_ID,
                  p_c001 => c.SIC_NAME
              );
          END LOOP;
      
          for r_rec in (
          select seq_id, rn from
              (select seq_id, row_number() over (partition by c001 order by d001 desc) rn
                  from apex_collections
                  where collection_name = 'ITEMSICLIST'
              ) where rn != 1
              ) loop
              APEX_COLLECTION.DELETE_MEMBER
                  (p_collection_name =>  'ITEMSICLIST'
                  ,p_seq             => r_rec.seq_id);
            end loop;
      
          APEX_COLLECTION.RESEQUENCE_COLLECTION ('ITEMSICLIST');
      END;

  execution: 
    sequence: 30
    point: Ajax Callback
    run-process: Once Per Page Visit (default)

- # ====== Process: ICL_REMOVE_UNCHECKED =======================
  id: 37986645589570415
  identification: 
    name: ICL_REMOVE_UNCHECKED
    type: Execute Code
    execution-chain: None

  source: 
    location: Local Database
    language: PL/SQL
    pl/sql-code: |
      DECLARE
          CURSOR c_class IS 
          SELECT n001, c001
          FROM APEX_COLLECTIONS
          WHERE COLLECTION_NAME = 'ITEMCLASSLIST';
          temp NUMBER;
      BEGIN
          
          -- APEX_COLLECTION.TRUNCATE_COLLECTION ('SUBCATEGORIES');
          FOR i in 1..APEX_APPLICATION.g_f01.COUNT LOOP
              APEX_COLLECTION.DELETE_MEMBER(
                  p_collection_name => 'ITEMCLASSLIST',
                  p_seq => TO_NUMBER(APEX_APPLICATION.g_f01(i))
              );
          END LOOP;
      
          FOR d IN (
              SELECT SEQ_ID, N001, C001, C002
                  FROM APEX_COLLECTIONS
              WHERE COLLECTION_NAME='SUBCATEGORIES'
          ) LOOP
              SELECT COUNT(1)
              INTO temp
              FROM APEX_COLLECTIONS
              WHERE 
                  COLLECTION_NAME = 'ITEMCLASSLIST' AND N001 = d.N001;
              IF (temp <= 0) THEN
                  APEX_COLLECTION.DELETE_MEMBER(
                      p_collection_name => 'SUBCATEGORIES',
                      p_seq => d.SEQ_ID
                  );
              END IF;
          END LOOP;
      
          -- APEX_COLLECTION.RESEQUENCE_COLLECTION ('ITEMCLASSLIST');
          FOR c IN c_class LOOP
              SELECT COUNT(1)
                  INTO temp
                  FROM APEX_COLLECTIONS
                  WHERE 
                      COLLECTION_NAME = 'SUBCATEGORIES' AND N001 = c.N001;
                  IF (temp <= 0) THEN
                      apex_collection.add_member (p_collection_name => 'SUBCATEGORIES',
                          p_n001 => c.n001,
                          p_c001 => c.c001
                      );
                  END IF;
          END LOOP;
          APEX_COLLECTION.RESEQUENCE_COLLECTION ('SUBCATEGORIES');
          APEX_COLLECTION.TRUNCATE_COLLECTION ('ITEMCLASSLIST');
      
          FOR c IN (
              SELECT CLASS_ID, CLASS_NAME
              FROM NIM025     
          ) LOOP
              apex_collection.add_member (p_collection_name => 'ITEMCLASSLIST',
                  p_n001 => c.CLASS_ID,
                  p_c001 => c.CLASS_NAME
              );
          END LOOP;
          APEX_COLLECTION.RESEQUENCE_COLLECTION ('ITEMCLASSLIST');
      END;

  execution: 
    sequence: 40
    point: Ajax Callback
    run-process: Once Per Page Visit (default)

- # ====== Process: IDL_REMOVE_UNCHECKED =======================
  id: 37986782497570416
  identification: 
    name: IDL_REMOVE_UNCHECKED
    type: Execute Code
    execution-chain: None

  source: 
    location: Local Database
    language: PL/SQL
    pl/sql-code: |
      DECLARE
          CURSOR c_dept IS 
          SELECT n001, c001
          FROM APEX_COLLECTIONS
          WHERE COLLECTION_NAME = 'ITEMDEPTLIST';
          temp NUMBER;
      BEGIN
          -- APEX_COLLECTION.TRUNCATE_COLLECTION ('SUBCATEGORIES');
          FOR i in 1..APEX_APPLICATION.g_f01.COUNT LOOP
              APEX_COLLECTION.DELETE_MEMBER(
                  p_collection_name => 'ITEMDEPTLIST',
                  p_seq => TO_NUMBER(APEX_APPLICATION.g_f01(i))
              );
          END LOOP;
      
          FOR d IN (
              SELECT SEQ_ID, N001, C001, C002
                  FROM APEX_COLLECTIONS
              WHERE COLLECTION_NAME='SUBCATEGORIES'
          ) LOOP
              SELECT COUNT(1)
              INTO temp
              FROM APEX_COLLECTIONS
              WHERE 
                  COLLECTION_NAME = 'ITEMDEPTLIST' AND N001 = d.N001;
              IF (temp <= 0) THEN
                  APEX_COLLECTION.DELETE_MEMBER(
                      p_collection_name => 'SUBCATEGORIES',
                      p_seq => d.SEQ_ID
                  );
              END IF;
          END LOOP;
      
          -- APEX_COLLECTION.RESEQUENCE_COLLECTION ('ITEMDEPTLIST');
          FOR c IN c_dept LOOP
              SELECT COUNT(1)
              INTO temp
              FROM APEX_COLLECTIONS
              WHERE 
                  COLLECTION_NAME = 'SUBCATEGORIES' AND N001 = c.N001;
              IF (temp <= 0) THEN
                  apex_collection.add_member (p_collection_name => 'SUBCATEGORIES',
                      p_n001 => c.n001,
                      p_c001 => c.c001
                  );
              END IF;
          END LOOP;
          APEX_COLLECTION.RESEQUENCE_COLLECTION ('SUBCATEGORIES');
          APEX_COLLECTION.TRUNCATE_COLLECTION ('ITEMDEPTLIST');
          
          FOR c IN (
              SELECT DEPT_ID, DEPT_NAME
              FROM NIM024
          ) LOOP
              apex_collection.add_member (p_collection_name => 'ITEMDEPTLIST',
                  p_n001 => c.DEPT_ID,
                  p_c001 => c.DEPT_NAME
              );
          END LOOP;
          APEX_COLLECTION.RESEQUENCE_COLLECTION ('ITEMDEPTLIST');
      END;

  execution: 
    sequence: 50
    point: Ajax Callback
    run-process: Once Per Page Visit (default)

- # ====== Process: ISL_REMOVE_UNCHECKED =======================
  id: 37986864975570417
  identification: 
    name: ISL_REMOVE_UNCHECKED
    type: Execute Code
    execution-chain: None

  source: 
    location: Local Database
    language: PL/SQL
    pl/sql-code: |
      DECLARE
          CURSOR c_sic IS 
          SELECT n001, c001
          FROM APEX_COLLECTIONS
          WHERE COLLECTION_NAME = 'ITEMSICLIST';
          temp NUMBER;
      BEGIN
          -- APEX_COLLECTION.TRUNCATE_COLLECTION ('SUBCATEGORIES');
          FOR i in 1..APEX_APPLICATION.g_f01.COUNT LOOP
              APEX_COLLECTION.DELETE_MEMBER(
                  p_collection_name => 'ITEMSICLIST',
                  p_seq => TO_NUMBER(APEX_APPLICATION.g_f01(i))
              );
          END LOOP;
      
          FOR d IN (
              SELECT SEQ_ID, N001, C001, C002
                  FROM APEX_COLLECTIONS
              WHERE COLLECTION_NAME='SUBCATEGORIES'
          ) LOOP
              SELECT COUNT(1)
              INTO temp
              FROM APEX_COLLECTIONS
              WHERE 
                  COLLECTION_NAME = 'ITEMSICLIST' AND N001 = d.N001;
              IF (temp <= 0) THEN
                  APEX_COLLECTION.DELETE_MEMBER(
                      p_collection_name => 'SUBCATEGORIES',
                      p_seq => d.SEQ_ID
                  );
              END IF;
          END LOOP;
      
          -- APEX_COLLECTION.RESEQUENCE_COLLECTION ('ITEMSICLIST');
          FOR c IN c_sic LOOP
              SELECT COUNT(1)
                  INTO temp
                  FROM APEX_COLLECTIONS
                  WHERE 
                      COLLECTION_NAME = 'SUBCATEGORIES' AND N001 = c.N001;
                  IF (temp <= 0) THEN
                      apex_collection.add_member (p_collection_name => 'SUBCATEGORIES',
                          p_n001 => c.n001,
                          p_c001 => c.c001
                      );
                  END IF;
          END LOOP;
          APEX_COLLECTION.RESEQUENCE_COLLECTION ('SUBCATEGORIES');
          APEX_COLLECTION.TRUNCATE_COLLECTION ('ITEMSICLIST');
      
          FOR c IN (
              SELECT SIC_ID, SIC_NAME
              FROM NIM023
          ) LOOP
              apex_collection.add_member (p_collection_name => 'ITEMSICLIST',
                  p_n001 => c.SIC_ID,
                  p_c001 => c.SIC_NAME
              );
          END LOOP;
          APEX_COLLECTION.RESEQUENCE_COLLECTION ('ITEMSICLIST');
      END;

  execution: 
    sequence: 60
    point: Ajax Callback
    run-process: Once Per Page Visit (default)

- # ====== Process: Add Discount ===============================
  id: 38734297627412615
  identification: 
    name: Add Discount
    type: Execute Code
    execution-chain: None

  source: 
    location: Local Database
    language: PL/SQL
    pl/sql-code: |
      DECLARE
          l_discount_id NPT008.DISCOUNT_ID%type;
      BEGIN
          INSERT INTO NPT008(
              DISCOUNT_CODE,
              DISCOUNT_DESC,
              TYPE,
              CATEGORY,
              DATE_FROM,
              DATE_TO,
              USER_CREATED,
              DATE_CREATED
          )
          VALUES(
              :P67_DISCOUNT_CODE,
              :P67_DISCOUNT_DESC,
              :P67_TYPE,
              :P67_CATEGORY,
              :P67_DATE_FROM,
              :P67_DATE_TO,
              v('APP_USER'),
              SYSDATE
          )
          RETURNING DISCOUNT_ID INTO l_discount_id;
      
          IF ( :P67_CATEGORY = 'Class' ) THEN 
              FOR d IN (
                  SELECT N001, C001, C002
                      FROM APEX_COLLECTIONS
                  WHERE COLLECTION_NAME='SUBCATEGORIES'
              ) LOOP
                  INSERT INTO NPT030 ( DISCOUNT_ID, CLASS_ID, CLASS_NAME, DISCOUNT_VALUE )
                  VALUES ( l_discount_id, d.N001, d.C001, d.C002 );
              END LOOP;
          ELSIF ( :P67_CATEGORY = 'Department' ) THEN 
              FOR d IN (
                  SELECT N001, C001, C002
                      FROM APEX_COLLECTIONS
                  WHERE COLLECTION_NAME='SUBCATEGORIES'
              ) LOOP
                  INSERT INTO NPT029 ( DISCOUNT_ID, DEPT_ID, DEPT_NAME, DISCOUNT_VALUE )
                  VALUES ( l_discount_id, d.N001, d.C001, d.C002 );
              END LOOP;
          ELSE 
             FOR d IN (
                  SELECT N001, C001, C002
                      FROM APEX_COLLECTIONS
                  WHERE COLLECTION_NAME='SUBCATEGORIES'
              ) LOOP
                  INSERT INTO NPT028 ( DISCOUNT_ID, SIC_ID, SIC_NAME, DISCOUNT_VALUE )
                  VALUES ( l_discount_id, d.N001, d.C001, d.C002 );
              END LOOP;
          END IF;
          
          APEX_COLLECTION.DELETE_COLLECTION('SUBCATEGORIES');
          APEX_COLLECTION.DELETE_COLLECTION('ITEMCLASSLIST');
          APEX_COLLECTION.DELETE_COLLECTION('ITEMDEPTLIST');
          APEX_COLLECTION.DELETE_COLLECTION('ITEMSICLIST');
      END;

  execution: 
    sequence: 30
    point: Processing
    run-process: Once Per Page Visit (default)

  success-message: 
    success-message: Discount Successfully Added.

  error: 
    display-location: Inline in Notification

  server-side-condition: 
    type: Item is NULL
    item: P67_DISCOUNT_ID

- # ====== Process: Update Discount Incomplete =================
  id: 38734718570412620
  identification: 
    name: Update Discount Incomplete
    type: Execute Code
    execution-chain: None

  source: 
    location: Local Database
    language: PL/SQL
    pl/sql-code: |
      DECLARE
          temp NUMBER;
      BEGIN
          UPDATE NPT008 SET
              DISCOUNT_DESC = :P67_DISCOUNT_DESC,
              TYPE = :P67_TYPE,
              CATEGORY = :P67_CATEGORY,
              DATE_FROM = :P67_DATE_FROM,
              DATE_TO = :P67_DATE_TO,
              USER_UPDATE = v('APP_USER'),
              DATE_UPDATED = SYSDATE
          WHERE DISCOUNT_ID = :P67_DISCOUNT_ID;
      
          IF ( :P67_CATEGORY != :P67_CATEGORY_INITIAL ) THEN 
              IF (:P67_CATEGORY_INITIAL = 'Class') THEN    
                  DELETE FROM NPT030 
                  WHERE DISCOUNT_ID = :P67_DISCOUNT_ID;
              ELSIF (:P67_CATEGORY_INITIAL = 'Department') THEN
                  DELETE FROM NPT029 
                  WHERE DISCOUNT_ID = :P67_DISCOUNT_ID;
              ELSE
                  DELETE FROM NPT028 
                  WHERE DISCOUNT_ID = :P67_DISCOUNT_ID;
              END IF;
      
              IF ( :P67_CATEGORY = 'Class' ) THEN 
                  FOR d IN (
                      SELECT N001, C001, C002
                          FROM APEX_COLLECTIONS
                      WHERE COLLECTION_NAME='SUBCATEGORIES'
                  ) LOOP
                      INSERT INTO NPT030 ( DISCOUNT_ID, CLASS_ID, CLASS_NAME, DISCOUNT_VALUE )
                      VALUES ( :P67_DISCOUNT_ID, d.N001, d.C001, d.C002 );
                  END LOOP;
              ELSIF ( :P67_CATEGORY = 'Department' ) THEN 
                  FOR d IN (
                      SELECT N001, C001, C002
                          FROM APEX_COLLECTIONS
                      WHERE COLLECTION_NAME='SUBCATEGORIES'
                  ) LOOP
                      INSERT INTO NPT029 ( DISCOUNT_ID, DEPT_ID, DEPT_NAME, DISCOUNT_VALUE )
                      VALUES ( :P67_DISCOUNT_ID, d.N001, d.C001, d.C002 );
                  END LOOP;
              ELSE
                 FOR d IN (
                      SELECT N001, C001, C002
                          FROM APEX_COLLECTIONS
                      WHERE COLLECTION_NAME='SUBCATEGORIES'
                  ) LOOP
                      INSERT INTO NPT028 ( DISCOUNT_ID, SIC_ID, SIC_NAME, DISCOUNT_VALUE )
                      VALUES ( :P67_DISCOUNT_ID, d.N001, d.C001, d.C002 );
                  END LOOP;
              END IF;
              
          ELSE 
             IF (:P67_CATEGORY = 'Class') THEN    
                  DELETE FROM NPT030 
                  WHERE DISCOUNT_ID = :P67_DISCOUNT_ID AND CLASS_ID NOT IN (
                      SELECT N001
                          FROM APEX_COLLECTIONS
                      WHERE COLLECTION_NAME='SUBCATEGORIES'
                  );
      
                  FOR d IN (
                      SELECT N001, C001, C002
                          FROM APEX_COLLECTIONS
                      WHERE COLLECTION_NAME='SUBCATEGORIES'
                  ) LOOP
                      UPDATE NPT030
                      SET DISCOUNT_VALUE = d.C002
                      WHERE DISCOUNT_ID = :P67_DISCOUNT_ID AND CLASS_ID = d.N001;
                      SELECT COUNT(1)
                      INTO temp
                      FROM NPT030
                      WHERE DISCOUNT_ID = :P67_DISCOUNT_ID AND CLASS_ID = d.N001;
                      IF (temp <= 0) THEN
                          INSERT INTO NPT030 ( DISCOUNT_ID, CLASS_ID, CLASS_NAME, DISCOUNT_VALUE )
                          VALUES ( :P67_DISCOUNT_ID, d.N001, d.C001, d.C002 );
                      END IF;
                  END LOOP;
      
              ELSIF (:P67_CATEGORY = 'Department') THEN
                  DELETE FROM NPT029 
                  WHERE DISCOUNT_ID = :P67_DISCOUNT_ID AND DEPT_ID NOT IN (
                      SELECT N001
                          FROM APEX_COLLECTIONS
                      WHERE COLLECTION_NAME='SUBCATEGORIES'
                  );
      
                  FOR d IN (
                      SELECT N001, C001, C002
                          FROM APEX_COLLECTIONS
                      WHERE COLLECTION_NAME='SUBCATEGORIES'
                  ) LOOP
                      UPDATE NPT029
                      SET DISCOUNT_VALUE = d.C002
                      WHERE DISCOUNT_ID = :P67_DISCOUNT_ID AND DEPT_ID = d.N001;
                      SELECT COUNT(1)
                      INTO temp
                      FROM NPT029
                      WHERE DISCOUNT_ID = :P67_DISCOUNT_ID AND DEPT_ID = d.N001;
                      IF (temp <= 0) THEN
                          INSERT INTO NPT029 ( DISCOUNT_ID, DEPT_ID, DEPT_NAME, DISCOUNT_VALUE )
                          VALUES ( :P67_DISCOUNT_ID, d.N001, d.C001, d.C002 );
                      END IF;
                  END LOOP;
      
              ELSE
                  DELETE FROM NPT028 
                  WHERE DISCOUNT_ID = :P67_DISCOUNT_ID AND SIC_ID NOT IN (
                      SELECT N001
                          FROM APEX_COLLECTIONS
                      WHERE COLLECTION_NAME='SUBCATEGORIES'
                  );
      
                  FOR d IN (
                      SELECT N001, C001, C002
                          FROM APEX_COLLECTIONS
                      WHERE COLLECTION_NAME='SUBCATEGORIES'
                  ) LOOP
                      UPDATE NPT028
                      SET DISCOUNT_VALUE = d.C002
                      WHERE DISCOUNT_ID = :P67_DISCOUNT_ID AND SIC_ID = d.N001;
                      SELECT COUNT(1)
                      INTO temp
                      FROM NPT028
                      WHERE DISCOUNT_ID = :P67_DISCOUNT_ID AND SIC_ID = d.N001;
                      IF (temp <= 0) THEN
                          INSERT INTO NPT028 ( DISCOUNT_ID, SIC_ID, SIC_NAME, DISCOUNT_VALUE )
                          VALUES ( :P67_DISCOUNT_ID, d.N001, d.C001, d.C002 );
                      END IF;
                  END LOOP;
              END IF;
          END IF;
      
          APEX_COLLECTION.DELETE_COLLECTION('SUBCATEGORIES');
          APEX_COLLECTION.DELETE_COLLECTION('ITEMCLASSLIST');
          APEX_COLLECTION.DELETE_COLLECTION('ITEMDEPTLIST');
          APEX_COLLECTION.DELETE_COLLECTION('ITEMSICLIST');
      END;

  execution: 
    sequence: 40
    point: Processing
    run-process: Once Per Page Visit (default)

  success-message: 
    success-message: Discount Successfully Updated.

  error: 
    display-location: Inline in Notification

  server-side-condition: 
    type: Item is NOT NULL
    item: P67_DISCOUNT_ID

- # ====== Process: Process form Discount Form =================
  id: 38735843997412631
  identification: 
    name: Process form Discount Form
    type: Form - Initialization
    execution-chain: None
    form-region: Discount Form # 37712170599853351

  execution: 
    sequence: 10
    point: Processing
    run-process: Once Per Page Visit (default)

  error: 
    display-location: Inline in Notification

  configuration: 
    build-option: Commented Out # 4207224469083906

- # ====== Process: Initialize form Discount ===================
  id: 38736637512412639
  identification: 
    name: Initialize form Discount
    type: Form - Initialization
    execution-chain: None
    form-region: Discount Form # 37712170599853351

  execution: 
    sequence: 10
    point: Before Header
    run-process: Once Per Page Visit (default)

branches: 
- # ====== Branch: Go To Page 66 ===============================
  id: 38734471911412617
  identification: 
    name: Go To Page 66

  execution: 
    sequence: 10
    point: After Processing

  behavior: 
    type: Page or URL (Redirect)
    target: 
      url: 'f?p=&APP_ID.:66:&SESSION.::&DEBUG.:::&success_msg=#SUCCESS_MSG#'
      page: 66 # Discount List

